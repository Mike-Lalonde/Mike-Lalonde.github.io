var _b=a=>{throw TypeError(a)};var pd=(a,t,e)=>t.has(a)||_b("Cannot "+e);var ce=(a,t,e)=>(pd(a,t,"read from private field"),e?e.call(a):t.get(a)),ri=(a,t,e)=>t.has(a)?_b("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),dn=(a,t,e,n)=>(pd(a,t,"write to private field"),n?n.call(a,e):t.set(a,e),e),ai=(a,t,e)=>(pd(a,t,"access private method"),e);var Tb=(a,t,e,n)=>({set _(r){dn(a,t,r,e)},get _(){return ce(a,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function la(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var gd={exports:{}},lo={};var Rb;function rE(){if(Rb)return lo;Rb=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:a,type:n,key:l,ref:r!==void 0?r:null,props:o}}return lo.Fragment=t,lo.jsx=e,lo.jsxs=e,lo}var Mb;function aE(){return Mb||(Mb=1,gd.exports=rE()),gd.exports}var O=aE(),md={exports:{}},_t={};var kb;function oE(){if(kb)return _t;kb=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function E(I,Q,M){this.props=I,this.context=Q,this.refs=x,this.updater=M||w}E.prototype.isReactComponent={},E.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function T(){}T.prototype=E.prototype;function C(I,Q,M){this.props=I,this.context=Q,this.refs=x,this.updater=M||w}var D=C.prototype=new T;D.constructor=C,S(D,E.prototype),D.isPureReactComponent=!0;var N=Array.isArray;function R(){}var k={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function F(I,Q,M){var at=M.ref;return{$$typeof:a,type:I,key:Q,ref:at!==void 0?at:null,props:M}}function V(I,Q){return F(I.type,Q,I.props)}function j(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function G(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(M){return Q[M]})}var tt=/\/+/g;function $(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?G(""+I.key):Q.toString(36)}function J(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,Q,M,at,dt){var ut=typeof I;(ut==="undefined"||ut==="boolean")&&(I=null);var ct=!1;if(I===null)ct=!0;else switch(ut){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(I.$$typeof){case a:case t:ct=!0;break;case p:return ct=I._init,B(ct(I._payload),Q,M,at,dt)}}if(ct)return dt=dt(I),ct=at===""?"."+$(I,0):at,N(dt)?(M="",ct!=null&&(M=ct.replace(tt,"$&/")+"/"),B(dt,Q,M,"",function(ye){return ye})):dt!=null&&(j(dt)&&(dt=V(dt,M+(dt.key==null||I&&I.key===dt.key?"":(""+dt.key).replace(tt,"$&/")+"/")+ct)),Q.push(dt)),1;ct=0;var wt=at===""?".":at+":";if(N(I))for(var Et=0;Et<I.length;Et++)at=I[Et],ut=wt+$(at,Et),ct+=B(at,Q,M,ut,dt);else if(Et=v(I),typeof Et=="function")for(I=Et.call(I),Et=0;!(at=I.next()).done;)at=at.value,ut=wt+$(at,Et++),ct+=B(at,Q,M,ut,dt);else if(ut==="object"){if(typeof I.then=="function")return B(J(I),Q,M,at,dt);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ct}function Y(I,Q,M){if(I==null)return I;var at=[],dt=0;return B(I,at,"","",function(ut){return Q.call(M,ut,dt++)}),at}function rt(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(M){(I._status===0||I._status===-1)&&(I._status=1,I._result=M)},function(M){(I._status===0||I._status===-1)&&(I._status=2,I._result=M)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var ht=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},L={map:Y,forEach:function(I,Q,M){Y(I,function(){Q.apply(this,arguments)},M)},count:function(I){var Q=0;return Y(I,function(){Q++}),Q},toArray:function(I){return Y(I,function(Q){return Q})||[]},only:function(I){if(!j(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return _t.Activity=g,_t.Children=L,_t.Component=E,_t.Fragment=e,_t.Profiler=r,_t.PureComponent=C,_t.StrictMode=n,_t.Suspense=d,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,_t.__COMPILER_RUNTIME={__proto__:null,c:function(I){return k.H.useMemoCache(I)}},_t.cache=function(I){return function(){return I.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(I,Q,M){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=S({},I.props),dt=I.key;if(Q!=null)for(ut in Q.key!==void 0&&(dt=""+Q.key),Q)!z.call(Q,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&Q.ref===void 0||(at[ut]=Q[ut]);var ut=arguments.length-2;if(ut===1)at.children=M;else if(1<ut){for(var ct=Array(ut),wt=0;wt<ut;wt++)ct[wt]=arguments[wt+2];at.children=ct}return F(I.type,dt,at)},_t.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},_t.createElement=function(I,Q,M){var at,dt={},ut=null;if(Q!=null)for(at in Q.key!==void 0&&(ut=""+Q.key),Q)z.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(dt[at]=Q[at]);var ct=arguments.length-2;if(ct===1)dt.children=M;else if(1<ct){for(var wt=Array(ct),Et=0;Et<ct;Et++)wt[Et]=arguments[Et+2];dt.children=wt}if(I&&I.defaultProps)for(at in ct=I.defaultProps,ct)dt[at]===void 0&&(dt[at]=ct[at]);return F(I,ut,dt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(I){return{$$typeof:c,render:I}},_t.isValidElement=j,_t.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:rt}},_t.memo=function(I,Q){return{$$typeof:f,type:I,compare:Q===void 0?null:Q}},_t.startTransition=function(I){var Q=k.T,M={};k.T=M;try{var at=I(),dt=k.S;dt!==null&&dt(M,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(R,ht)}catch(ut){ht(ut)}finally{Q!==null&&M.types!==null&&(Q.types=M.types),k.T=Q}},_t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},_t.use=function(I){return k.H.use(I)},_t.useActionState=function(I,Q,M){return k.H.useActionState(I,Q,M)},_t.useCallback=function(I,Q){return k.H.useCallback(I,Q)},_t.useContext=function(I){return k.H.useContext(I)},_t.useDebugValue=function(){},_t.useDeferredValue=function(I,Q){return k.H.useDeferredValue(I,Q)},_t.useEffect=function(I,Q){return k.H.useEffect(I,Q)},_t.useEffectEvent=function(I){return k.H.useEffectEvent(I)},_t.useId=function(){return k.H.useId()},_t.useImperativeHandle=function(I,Q,M){return k.H.useImperativeHandle(I,Q,M)},_t.useInsertionEffect=function(I,Q){return k.H.useInsertionEffect(I,Q)},_t.useLayoutEffect=function(I,Q){return k.H.useLayoutEffect(I,Q)},_t.useMemo=function(I,Q){return k.H.useMemo(I,Q)},_t.useOptimistic=function(I,Q){return k.H.useOptimistic(I,Q)},_t.useReducer=function(I,Q,M){return k.H.useReducer(I,Q,M)},_t.useRef=function(I){return k.H.useRef(I)},_t.useState=function(I){return k.H.useState(I)},_t.useSyncExternalStore=function(I,Q,M){return k.H.useSyncExternalStore(I,Q,M)},_t.useTransition=function(){return k.H.useTransition()},_t.version="19.2.4",_t}var Db;function Uf(){return Db||(Db=1,md.exports=oE()),md.exports}var H=Uf();const lE=la(H);var yd={exports:{}},uo={},bd={exports:{}},vd={};var Lb;function uE(){return Lb||(Lb=1,(function(a){function t(B,Y){var rt=B.length;B.push(Y);t:for(;0<rt;){var ht=rt-1>>>1,L=B[ht];if(0<r(L,Y))B[ht]=Y,B[rt]=L,rt=ht;else break t}}function e(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Y=B[0],rt=B.pop();if(rt!==Y){B[0]=rt;t:for(var ht=0,L=B.length,I=L>>>1;ht<I;){var Q=2*(ht+1)-1,M=B[Q],at=Q+1,dt=B[at];if(0>r(M,rt))at<L&&0>r(dt,M)?(B[ht]=dt,B[at]=rt,ht=at):(B[ht]=M,B[Q]=rt,ht=Q);else if(at<L&&0>r(dt,rt))B[ht]=dt,B[at]=rt,ht=at;else break t}}return Y}function r(B,Y){var rt=B.sortIndex-Y.sortIndex;return rt!==0?rt:B.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();a.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,b=3,v=!1,w=!1,S=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var Y=e(f);Y!==null;){if(Y.callback===null)n(f);else if(Y.startTime<=B)n(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=e(f)}}function N(B){if(S=!1,D(B),!w)if(e(d)!==null)w=!0,R||(R=!0,G());else{var Y=e(f);Y!==null&&J(N,Y.startTime-B)}}var R=!1,k=-1,z=5,F=-1;function V(){return x?!0:!(a.unstable_now()-F<z)}function j(){if(x=!1,R){var B=a.unstable_now();F=B;var Y=!0;try{t:{w=!1,S&&(S=!1,T(k),k=-1),v=!0;var rt=b;try{e:{for(D(B),g=e(d);g!==null&&!(g.expirationTime>B&&V());){var ht=g.callback;if(typeof ht=="function"){g.callback=null,b=g.priorityLevel;var L=ht(g.expirationTime<=B);if(B=a.unstable_now(),typeof L=="function"){g.callback=L,D(B),Y=!0;break e}g===e(d)&&n(d),D(B)}else n(d);g=e(d)}if(g!==null)Y=!0;else{var I=e(f);I!==null&&J(N,I.startTime-B),Y=!1}}break t}finally{g=null,b=rt,v=!1}Y=void 0}}finally{Y?G():R=!1}}}var G;if(typeof C=="function")G=function(){C(j)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,$=tt.port2;tt.port1.onmessage=j,G=function(){$.postMessage(null)}}else G=function(){E(j,0)};function J(B,Y){k=E(function(){B(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var rt=b;b=Y;try{return B()}finally{b=rt}},a.unstable_requestPaint=function(){x=!0},a.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var rt=b;b=B;try{return Y()}finally{b=rt}},a.unstable_scheduleCallback=function(B,Y,rt){var ht=a.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?ht+rt:ht):rt=ht,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=rt+L,B={id:p++,callback:Y,priorityLevel:B,startTime:rt,expirationTime:L,sortIndex:-1},rt>ht?(B.sortIndex=rt,t(f,B),e(d)===null&&B===e(f)&&(S?(T(k),k=-1):S=!0,J(N,rt-ht))):(B.sortIndex=L,t(d,B),w||v||(w=!0,R||(R=!0,G()))),B},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(B){var Y=b;return function(){var rt=b;b=Y;try{return B.apply(this,arguments)}finally{b=rt}}}})(vd)),vd}var Nb;function cE(){return Nb||(Nb=1,bd.exports=uE()),bd.exports}var Sd={exports:{}},$e={};var Ob;function hE(){if(Ob)return $e;Ob=1;var a=Uf();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$e.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},$e.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},$e.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},$e.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},$e.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},$e.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},$e.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},$e.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},$e.requestFormReset=function(d){n.d.r(d)},$e.unstable_batchedUpdates=function(d,f){return d(f)},$e.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},$e.useFormStatus=function(){return l.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var Pb;function dE(){if(Pb)return Sd.exports;Pb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sd.exports=hE(),Sd.exports}var Bb;function fE(){if(Bb)return uo;Bb=1;var a=cE(),t=Uf(),e=dE();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(n(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,h=s;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return d(m),i;if(y===h)return d(m),s;y=y.sibling}throw Error(n(188))}if(u.return!==h.return)u=m,h=y;else{for(var A=!1,_=m.child;_;){if(_===u){A=!0,u=m,h=y;break}if(_===h){A=!0,h=m,u=y;break}_=_.sibling}if(!A){for(_=y.child;_;){if(_===u){A=!0,u=y,h=m;break}if(_===h){A=!0,h=y,u=m;break}_=_.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var tt=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===tt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case C:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case z:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}var J=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},ht=[],L=-1;function I(i){return{current:i}}function Q(i){0>L||(i.current=ht[L],ht[L]=null,L--)}function M(i,s){L++,ht[L]=i.current,i.current=s}var at=I(null),dt=I(null),ut=I(null),ct=I(null);function wt(i,s){switch(M(ut,s),M(dt,i),M(at,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?$y(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=$y(s),i=Wy(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(at),M(at,i)}function Et(){Q(at),Q(dt),Q(ut)}function ye(i){i.memoizedState!==null&&M(ct,i);var s=at.current,u=Wy(s,i.type);s!==u&&(M(dt,i),M(at,u))}function Ae(i){dt.current===i&&(Q(at),Q(dt)),ct.current===i&&(Q(ct),so._currentValue=rt)}var qt,Xt;function Kt(i){if(qt===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);qt=s&&s[1]||"",Xt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+i+Xt}var Yt=!1;function fe(i,s){if(!i||Yt)return"";Yt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Z){var W=Z}Reflect.construct(i,[],st)}else{try{st.call()}catch(Z){W=Z}i.call(st.prototype)}}else{try{throw Error()}catch(Z){W=Z}(st=i())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],_=y[1];if(A&&_){var P=A.split(`
`),K=_.split(`
`);for(m=h=0;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(h===P.length||m===K.length)for(h=P.length-1,m=K.length-1;1<=h&&0<=m&&P[h]!==K[m];)m--;for(;1<=h&&0<=m;h--,m--)if(P[h]!==K[m]){if(h!==1||m!==1)do if(h--,m--,0>m||P[h]!==K[m]){var et=`
`+P[h].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=h&&0<=m);break}}}finally{Yt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Kt(u):""}function Oe(i,s){switch(i.tag){case 26:case 27:case 5:return Kt(i.type);case 16:return Kt("Lazy");case 13:return i.child!==s&&s!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return fe(i.type,!1);case 11:return fe(i.type.render,!1);case 1:return fe(i.type,!0);case 31:return Kt("Activity");default:return""}}function Ke(i){try{var s="",u=null;do s+=Oe(i,u),u=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Gi=Object.prototype.hasOwnProperty,Yi=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,ga=a.unstable_shouldYield,Xi=a.unstable_requestPaint,Ue=a.unstable_now,ma=a.unstable_getCurrentPriorityLevel,nt=a.unstable_ImmediatePriority,lt=a.unstable_UserBlockingPriority,St=a.unstable_NormalPriority,Ct=a.unstable_LowPriority,Nt=a.unstable_IdlePriority,be=a.log,bn=a.unstable_setDisableYieldValue,Je=null,Le=null;function sn(i){if(typeof be=="function"&&bn(i),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Je,i)}catch{}}var ee=Math.clz32?Math.clz32:GA,Ki=Math.log,$n=Math.LN2;function GA(i){return i>>>=0,i===0?32:31-(Ki(i)/$n|0)|0}var Wo=256,Qo=262144,Zo=4194304;function Cs(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Jo(i,s,u){var h=i.pendingLanes;if(h===0)return 0;var m=0,y=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var _=h&134217727;return _!==0?(h=_&~y,h!==0?m=Cs(h):(A&=_,A!==0?m=Cs(A):u||(u=_&~i,u!==0&&(m=Cs(u))))):(_=h&~y,_!==0?m=Cs(_):A!==0?m=Cs(A):u||(u=h&~i,u!==0&&(m=Cs(u)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:m}function ya(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function YA(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(){var i=Zo;return Zo<<=1,(Zo&62914560)===0&&(Zo=4194304),i}function nc(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ba(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function XA(i,s,u,h,m,y){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var _=i.entanglements,P=i.expirationTimes,K=i.hiddenUpdates;for(u=A&~u;0<u;){var et=31-ee(u),st=1<<et;_[et]=0,P[et]=-1;var W=K[et];if(W!==null)for(K[et]=null,et=0;et<W.length;et++){var Z=W[et];Z!==null&&(Z.lane&=-536870913)}u&=~st}h!==0&&Dp(i,h,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(A&~s))}function Dp(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-ee(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function Lp(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-ee(u),m=1<<h;m&s|i[h]&s&&(i[h]|=s),u&=~m}}function Np(i,s){var u=s&-s;return u=(u&42)!==0?1:ic(u),(u&(i.suspendedLanes|s))!==0?0:u}function ic(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function sc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Op(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:vb(i.type))}function Pp(i,s){var u=Y.p;try{return Y.p=i,s()}finally{Y.p=u}}var $i=Math.random().toString(36).slice(2),je="__reactFiber$"+$i,rn="__reactProps$"+$i,sr="__reactContainer$"+$i,rc="__reactEvents$"+$i,KA="__reactListeners$"+$i,$A="__reactHandles$"+$i,Bp="__reactResources$"+$i,va="__reactMarker$"+$i;function ac(i){delete i[je],delete i[rn],delete i[rc],delete i[KA],delete i[$A]}function rr(i){var s=i[je];if(s)return s;for(var u=i.parentNode;u;){if(s=u[sr]||u[je]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=ib(i);i!==null;){if(u=i[je])return u;i=ib(i)}return s}i=u,u=i.parentNode}return null}function ar(i){if(i=i[je]||i[sr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Sa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function or(i){var s=i[Bp];return s||(s=i[Bp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Pe(i){i[va]=!0}var Ip=new Set,zp={};function _s(i,s){lr(i,s),lr(i+"Capture",s)}function lr(i,s){for(zp[i]=s,i=0;i<s.length;i++)Ip.add(s[i])}var WA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fp={},Up={};function QA(i){return Gi.call(Up,i)?!0:Gi.call(Fp,i)?!1:WA.test(i)?Up[i]=!0:(Fp[i]=!0,!1)}function tl(i,s,u){if(QA(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function el(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function Ai(i,s,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+h)}}function On(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function jp(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ZA(i,s,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,y=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(A){u=""+A,y.call(this,A)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function oc(i){if(!i._valueTracker){var s=jp(i)?"checked":"value";i._valueTracker=ZA(i,s,""+i[s])}}function Hp(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=jp(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function nl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var JA=/[\n"\\]/g;function Pn(i){return i.replace(JA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function lc(i,s,u,h,m,y,A,_){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+On(s)):i.value!==""+On(s)&&(i.value=""+On(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?uc(i,A,On(s)):u!=null?uc(i,A,On(u)):h!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+On(_):i.removeAttribute("name")}function qp(i,s,u,h,m,y,A,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){oc(i);return}u=u!=null?""+On(u):"",s=s!=null?""+On(s):u,_||s===i.value||(i.value=s),i.defaultValue=s}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=_?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),oc(i)}function uc(i,s,u){s==="number"&&nl(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ur(i,s,u,h){if(i=i.options,s){s={};for(var m=0;m<u.length;m++)s["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=s.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&h&&(i[u].defaultSelected=!0)}else{for(u=""+On(u),s=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Vp(i,s,u){if(s!=null&&(s=""+On(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+On(u):""}function Gp(i,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=On(s),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),oc(i)}function cr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var t1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yp(i,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,u):typeof u!="number"||u===0||t1.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function Xp(i,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in s)h=s[m],s.hasOwnProperty(m)&&u[m]!==h&&Yp(i,m,h)}else for(var y in s)s.hasOwnProperty(y)&&Yp(i,y,s[y])}function cc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(i){return n1.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function wi(){}var hc=null;function dc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hr=null,dr=null;function Kp(i){var s=ar(i);if(s&&(i=s.stateNode)){var u=i[rn]||null;t:switch(i=s.stateNode,s.type){case"input":if(lc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var m=h[rn]||null;if(!m)throw Error(n(90));lc(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===i.form&&Hp(h)}break t;case"textarea":Vp(i,u.value,u.defaultValue);break t;case"select":s=u.value,s!=null&&ur(i,!!u.multiple,s,!1)}}}var fc=!1;function $p(i,s,u){if(fc)return i(s,u);fc=!0;try{var h=i(s);return h}finally{if(fc=!1,(hr!==null||dr!==null)&&(Vl(),hr&&(s=hr,i=dr,dr=hr=null,Kp(s),i)))for(s=0;s<i.length;s++)Kp(i[s])}}function Aa(i,s){var u=i.stateNode;if(u===null)return null;var h=u[rn]||null;if(h===null)return null;u=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=!1;if(Ei)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){pc=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{pc=!1}var Wi=null,gc=null,sl=null;function Wp(){if(sl)return sl;var i,s=gc,u=s.length,h,m="value"in Wi?Wi.value:Wi.textContent,y=m.length;for(i=0;i<u&&s[i]===m[i];i++);var A=u-i;for(h=1;h<=A&&s[u-h]===m[y-h];h++);return sl=m.slice(i,1<h?1-h:void 0)}function rl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function al(){return!0}function Qp(){return!1}function an(i){function s(u,h,m,y,A){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(u=i[_],this[_]=u?u(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?al:Qp,this.isPropagationStopped=Qp,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),s}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=an(Ts),Ea=g({},Ts,{view:0,detail:0}),i1=an(Ea),mc,yc,xa,ll=g({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xa&&(xa&&i.type==="mousemove"?(mc=i.screenX-xa.screenX,yc=i.screenY-xa.screenY):yc=mc=0,xa=i),mc)},movementY:function(i){return"movementY"in i?i.movementY:yc}}),Zp=an(ll),s1=g({},ll,{dataTransfer:0}),r1=an(s1),a1=g({},Ea,{relatedTarget:0}),bc=an(a1),o1=g({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=an(o1),u1=g({},Ts,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c1=an(u1),h1=g({},Ts,{data:0}),Jp=an(h1),d1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g1(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=p1[i])?!!s[i]:!1}function vc(){return g1}var m1=g({},Ea,{key:function(i){if(i.key){var s=d1[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=rl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?f1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(i){return i.type==="keypress"?rl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y1=an(m1),b1=g({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=an(b1),v1=g({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),S1=an(v1),A1=g({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=an(A1),E1=g({},ll,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),x1=an(E1),C1=g({},Ts,{newState:0,oldState:0}),_1=an(C1),T1=[9,13,27,32],Sc=Ei&&"CompositionEvent"in window,Ca=null;Ei&&"documentMode"in document&&(Ca=document.documentMode);var R1=Ei&&"TextEvent"in window&&!Ca,eg=Ei&&(!Sc||Ca&&8<Ca&&11>=Ca),ng=" ",ig=!1;function sg(i,s){switch(i){case"keyup":return T1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fr=!1;function M1(i,s){switch(i){case"compositionend":return rg(s);case"keypress":return s.which!==32?null:(ig=!0,ng);case"textInput":return i=s.data,i===ng&&ig?null:i;default:return null}}function k1(i,s){if(fr)return i==="compositionend"||!Sc&&sg(i,s)?(i=Wp(),sl=gc=Wi=null,fr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return eg&&s.locale!=="ko"?null:s.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!D1[i.type]:s==="textarea"}function og(i,s,u,h){hr?dr?dr.push(h):dr=[h]:hr=h,s=Ql(s,"onChange"),0<s.length&&(u=new ol("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var _a=null,Ta=null;function L1(i){qy(i,0)}function ul(i){var s=Sa(i);if(Hp(s))return i}function lg(i,s){if(i==="change")return s}var ug=!1;if(Ei){var Ac;if(Ei){var wc="oninput"in document;if(!wc){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),wc=typeof cg.oninput=="function"}Ac=wc}else Ac=!1;ug=Ac&&(!document.documentMode||9<document.documentMode)}function hg(){_a&&(_a.detachEvent("onpropertychange",dg),Ta=_a=null)}function dg(i){if(i.propertyName==="value"&&ul(Ta)){var s=[];og(s,Ta,i,dc(i)),$p(L1,s)}}function N1(i,s,u){i==="focusin"?(hg(),_a=s,Ta=u,_a.attachEvent("onpropertychange",dg)):i==="focusout"&&hg()}function O1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ul(Ta)}function P1(i,s){if(i==="click")return ul(s)}function B1(i,s){if(i==="input"||i==="change")return ul(s)}function I1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var vn=typeof Object.is=="function"?Object.is:I1;function Ra(i,s){if(vn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!Gi.call(s,m)||!vn(i[m],s[m]))return!1}return!0}function fg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pg(i,s){var u=fg(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=fg(u)}}function gg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?gg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function mg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=nl(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=nl(i.document)}return s}function Ec(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var z1=Ei&&"documentMode"in document&&11>=document.documentMode,pr=null,xc=null,Ma=null,Cc=!1;function yg(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cc||pr==null||pr!==nl(h)||(h=pr,"selectionStart"in h&&Ec(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ma&&Ra(Ma,h)||(Ma=h,h=Ql(xc,"onSelect"),0<h.length&&(s=new ol("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=pr)))}function Rs(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var gr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},_c={},bg={};Ei&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ms(i){if(_c[i])return _c[i];if(!gr[i])return i;var s=gr[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in bg)return _c[i]=s[u];return i}var vg=Ms("animationend"),Sg=Ms("animationiteration"),Ag=Ms("animationstart"),F1=Ms("transitionrun"),U1=Ms("transitionstart"),j1=Ms("transitioncancel"),wg=Ms("transitionend"),Eg=new Map,Tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tc.push("scrollEnd");function Wn(i,s){Eg.set(i,s),_s(s,[i])}var cl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],mr=0,Rc=0;function hl(){for(var i=mr,s=Rc=mr=0;s<i;){var u=Bn[s];Bn[s++]=null;var h=Bn[s];Bn[s++]=null;var m=Bn[s];Bn[s++]=null;var y=Bn[s];if(Bn[s++]=null,h!==null&&m!==null){var A=h.pending;A===null?m.next=m:(m.next=A.next,A.next=m),h.pending=m}y!==0&&xg(u,m,y)}}function dl(i,s,u,h){Bn[mr++]=i,Bn[mr++]=s,Bn[mr++]=u,Bn[mr++]=h,Rc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Mc(i,s,u,h){return dl(i,s,u,h),fl(i)}function ks(i,s){return dl(i,null,null,s),fl(i)}function xg(i,s,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var m=!1,y=i.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-ee(u),i=y.hiddenUpdates,h=i[m],h===null?i[m]=[s]:h.push(s),s.lane=u|536870912),y):null}function fl(i){if(50<Qa)throw Qa=0,zh=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var yr={};function H1(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,s,u,h){return new H1(i,s,u,h)}function kc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xi(i,s){var u=i.alternate;return u===null?(u=Sn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Cg(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function pl(i,s,u,h,m,y){var A=0;if(h=i,typeof i=="function")kc(i)&&(A=1);else if(typeof i=="string")A=Xw(i,u,at.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case F:return i=Sn(31,u,s,m),i.elementType=F,i.lanes=y,i;case S:return Ds(u.children,m,y,s);case x:A=8,m|=24;break;case E:return i=Sn(12,u,s,m|2),i.elementType=E,i.lanes=y,i;case N:return i=Sn(13,u,s,m),i.elementType=N,i.lanes=y,i;case R:return i=Sn(19,u,s,m),i.elementType=R,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:A=10;break t;case T:A=9;break t;case D:A=11;break t;case k:A=14;break t;case z:A=16,h=null;break t}A=29,u=Error(n(130,i===null?"null":typeof i,"")),h=null}return s=Sn(A,u,s,m),s.elementType=i,s.type=h,s.lanes=y,s}function Ds(i,s,u,h){return i=Sn(7,i,h,s),i.lanes=u,i}function Dc(i,s,u){return i=Sn(6,i,null,s),i.lanes=u,i}function _g(i){var s=Sn(18,null,null,0);return s.stateNode=i,s}function Lc(i,s,u){return s=Sn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Tg=new WeakMap;function In(i,s){if(typeof i=="object"&&i!==null){var u=Tg.get(i);return u!==void 0?u:(s={value:i,source:s,stack:Ke(s)},Tg.set(i,s),s)}return{value:i,source:s,stack:Ke(s)}}var br=[],vr=0,gl=null,ka=0,zn=[],Fn=0,Qi=null,ei=1,ni="";function Ci(i,s){br[vr++]=ka,br[vr++]=gl,gl=i,ka=s}function Rg(i,s,u){zn[Fn++]=ei,zn[Fn++]=ni,zn[Fn++]=Qi,Qi=i;var h=ei;i=ni;var m=32-ee(h)-1;h&=~(1<<m),u+=1;var y=32-ee(s)+m;if(30<y){var A=m-m%5;y=(h&(1<<A)-1).toString(32),h>>=A,m-=A,ei=1<<32-ee(s)+m|u<<m|h,ni=y+i}else ei=1<<y|u<<m|h,ni=i}function Nc(i){i.return!==null&&(Ci(i,1),Rg(i,1,0))}function Oc(i){for(;i===gl;)gl=br[--vr],br[vr]=null,ka=br[--vr],br[vr]=null;for(;i===Qi;)Qi=zn[--Fn],zn[Fn]=null,ni=zn[--Fn],zn[Fn]=null,ei=zn[--Fn],zn[Fn]=null}function Mg(i,s){zn[Fn++]=ei,zn[Fn++]=ni,zn[Fn++]=Qi,ei=s.id,ni=s.overflow,Qi=i}var He=null,oe=null,Ft=!1,Zi=null,Un=!1,Pc=Error(n(519));function Ji(i){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Da(In(s,i)),Pc}function kg(i){var s=i.stateNode,u=i.type,h=i.memoizedProps;switch(s[je]=i,s[rn]=h,u){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(u=0;u<Ja.length;u++)Pt(Ja[u],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),qp(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),Gp(s,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||Xy(s.textContent,u)?(h.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),h.onScroll!=null&&Pt("scroll",s),h.onScrollEnd!=null&&Pt("scrollend",s),h.onClick!=null&&(s.onclick=wi),s=!0):s=!1,s||Ji(i,!0)}function Dg(i){for(He=i.return;He;)switch(He.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:He=He.return}}function Sr(i){if(i!==He)return!1;if(!Ft)return Dg(i),Ft=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Jh(i.type,i.memoizedProps)),u=!u),u&&oe&&Ji(i),Dg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));oe=nb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));oe=nb(i)}else s===27?(s=oe,fs(i.type)?(i=sd,sd=null,oe=i):oe=s):oe=He?Hn(i.stateNode.nextSibling):null;return!0}function Ls(){oe=He=null,Ft=!1}function Bc(){var i=Zi;return i!==null&&(cn===null?cn=i:cn.push.apply(cn,i),Zi=null),i}function Da(i){Zi===null?Zi=[i]:Zi.push(i)}var Ic=I(null),Ns=null,_i=null;function ts(i,s,u){M(Ic,s._currentValue),s._currentValue=u}function Ti(i){i._currentValue=Ic.current,Q(Ic)}function zc(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function Fc(i,s,u,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;t:for(;y!==null;){var _=y;y=m;for(var P=0;P<s.length;P++)if(_.context===s[P]){y.lanes|=u,_=y.alternate,_!==null&&(_.lanes|=u),zc(y.return,u,i),h||(A=null);break t}y=_.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(n(341));A.lanes|=u,y=A.alternate,y!==null&&(y.lanes|=u),zc(A,u,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Ar(i,s,u,h){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var _=m.type;vn(m.pendingProps.value,A.value)||(i!==null?i.push(_):i=[_])}}else if(m===ct.current){if(A=m.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(so):i=[so])}m=m.return}i!==null&&Fc(s,i,u,h),s.flags|=262144}function ml(i){for(i=i.firstContext;i!==null;){if(!vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Os(i){Ns=i,_i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function qe(i){return Lg(Ns,i)}function yl(i,s){return Ns===null&&Os(i),Lg(i,s)}function Lg(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},_i===null){if(i===null)throw Error(n(308));_i=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _i=_i.next=s;return u}var q1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},V1=a.unstable_scheduleCallback,G1=a.unstable_NormalPriority,_e={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new q1,data:new Map,refCount:0}}function La(i){i.refCount--,i.refCount===0&&V1(G1,function(){i.controller.abort()})}var Na=null,jc=0,wr=0,Er=null;function Y1(i,s){if(Na===null){var u=Na=[];jc=0,wr=Vh(),Er={status:"pending",value:void 0,then:function(h){u.push(h)}}}return jc++,s.then(Ng,Ng),s}function Ng(){if(--jc===0&&Na!==null){Er!==null&&(Er.status="fulfilled");var i=Na;Na=null,wr=0,Er=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function X1(i,s){var u=[],h={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var m=0;m<u.length;m++)(0,u[m])(s)},function(m){for(h.status="rejected",h.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),h}var Og=B.S;B.S=function(i,s){yy=Ue(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Y1(i,s),Og!==null&&Og(i,s)};var Ps=I(null);function Hc(){var i=Ps.current;return i!==null?i:ne.pooledCache}function bl(i,s){s===null?M(Ps,Ps.current):M(Ps,s.pool)}function Pg(){var i=Hc();return i===null?null:{parent:_e._currentValue,pool:i}}var xr=Error(n(460)),qc=Error(n(474)),vl=Error(n(542)),Sl={then:function(){}};function Bg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ig(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(wi,wi),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fg(i),i;default:if(typeof s.status=="string")s.then(wi,wi);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=h}},function(h){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fg(i),i}throw Is=s,xr}}function Bs(i){try{var s=i._init;return s(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Is=u,xr):u}}var Is=null;function zg(){if(Is===null)throw Error(n(459));var i=Is;return Is=null,i}function Fg(i){if(i===xr||i===vl)throw Error(n(483))}var Cr=null,Oa=0;function Al(i){var s=Oa;return Oa+=1,Cr===null&&(Cr=[]),Ig(Cr,i,s)}function Pa(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function wl(i,s){throw s.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ug(i){function s(q,U){if(i){var X=q.deletions;X===null?(q.deletions=[U],q.flags|=16):X.push(U)}}function u(q,U){if(!i)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function h(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function m(q,U){return q=xi(q,U),q.index=0,q.sibling=null,q}function y(q,U,X){return q.index=X,i?(X=q.alternate,X!==null?(X=X.index,X<U?(q.flags|=67108866,U):X):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function A(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function _(q,U,X,it){return U===null||U.tag!==6?(U=Dc(X,q.mode,it),U.return=q,U):(U=m(U,X),U.return=q,U)}function P(q,U,X,it){var yt=X.type;return yt===S?et(q,U,X.props.children,it,X.key):U!==null&&(U.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===z&&Bs(yt)===U.type)?(U=m(U,X.props),Pa(U,X),U.return=q,U):(U=pl(X.type,X.key,X.props,null,q.mode,it),Pa(U,X),U.return=q,U)}function K(q,U,X,it){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=Lc(X,q.mode,it),U.return=q,U):(U=m(U,X.children||[]),U.return=q,U)}function et(q,U,X,it,yt){return U===null||U.tag!==7?(U=Ds(X,q.mode,it,yt),U.return=q,U):(U=m(U,X),U.return=q,U)}function st(q,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Dc(""+U,q.mode,X),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return X=pl(U.type,U.key,U.props,null,q.mode,X),Pa(X,U),X.return=q,X;case w:return U=Lc(U,q.mode,X),U.return=q,U;case z:return U=Bs(U),st(q,U,X)}if(J(U)||G(U))return U=Ds(U,q.mode,X,null),U.return=q,U;if(typeof U.then=="function")return st(q,Al(U),X);if(U.$$typeof===C)return st(q,yl(q,U),X);wl(q,U)}return null}function W(q,U,X,it){var yt=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return yt!==null?null:_(q,U,""+X,it);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===yt?P(q,U,X,it):null;case w:return X.key===yt?K(q,U,X,it):null;case z:return X=Bs(X),W(q,U,X,it)}if(J(X)||G(X))return yt!==null?null:et(q,U,X,it,null);if(typeof X.then=="function")return W(q,U,Al(X),it);if(X.$$typeof===C)return W(q,U,yl(q,X),it);wl(q,X)}return null}function Z(q,U,X,it,yt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return q=q.get(X)||null,_(U,q,""+it,yt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case v:return q=q.get(it.key===null?X:it.key)||null,P(U,q,it,yt);case w:return q=q.get(it.key===null?X:it.key)||null,K(U,q,it,yt);case z:return it=Bs(it),Z(q,U,X,it,yt)}if(J(it)||G(it))return q=q.get(X)||null,et(U,q,it,yt,null);if(typeof it.then=="function")return Z(q,U,X,Al(it),yt);if(it.$$typeof===C)return Z(q,U,X,yl(U,it),yt);wl(U,it)}return null}function gt(q,U,X,it){for(var yt=null,jt=null,mt=U,kt=U=0,It=null;mt!==null&&kt<X.length;kt++){mt.index>kt?(It=mt,mt=null):It=mt.sibling;var Ht=W(q,mt,X[kt],it);if(Ht===null){mt===null&&(mt=It);break}i&&mt&&Ht.alternate===null&&s(q,mt),U=y(Ht,U,kt),jt===null?yt=Ht:jt.sibling=Ht,jt=Ht,mt=It}if(kt===X.length)return u(q,mt),Ft&&Ci(q,kt),yt;if(mt===null){for(;kt<X.length;kt++)mt=st(q,X[kt],it),mt!==null&&(U=y(mt,U,kt),jt===null?yt=mt:jt.sibling=mt,jt=mt);return Ft&&Ci(q,kt),yt}for(mt=h(mt);kt<X.length;kt++)It=Z(mt,q,kt,X[kt],it),It!==null&&(i&&It.alternate!==null&&mt.delete(It.key===null?kt:It.key),U=y(It,U,kt),jt===null?yt=It:jt.sibling=It,jt=It);return i&&mt.forEach(function(bs){return s(q,bs)}),Ft&&Ci(q,kt),yt}function vt(q,U,X,it){if(X==null)throw Error(n(151));for(var yt=null,jt=null,mt=U,kt=U=0,It=null,Ht=X.next();mt!==null&&!Ht.done;kt++,Ht=X.next()){mt.index>kt?(It=mt,mt=null):It=mt.sibling;var bs=W(q,mt,Ht.value,it);if(bs===null){mt===null&&(mt=It);break}i&&mt&&bs.alternate===null&&s(q,mt),U=y(bs,U,kt),jt===null?yt=bs:jt.sibling=bs,jt=bs,mt=It}if(Ht.done)return u(q,mt),Ft&&Ci(q,kt),yt;if(mt===null){for(;!Ht.done;kt++,Ht=X.next())Ht=st(q,Ht.value,it),Ht!==null&&(U=y(Ht,U,kt),jt===null?yt=Ht:jt.sibling=Ht,jt=Ht);return Ft&&Ci(q,kt),yt}for(mt=h(mt);!Ht.done;kt++,Ht=X.next())Ht=Z(mt,q,kt,Ht.value,it),Ht!==null&&(i&&Ht.alternate!==null&&mt.delete(Ht.key===null?kt:Ht.key),U=y(Ht,U,kt),jt===null?yt=Ht:jt.sibling=Ht,jt=Ht);return i&&mt.forEach(function(sE){return s(q,sE)}),Ft&&Ci(q,kt),yt}function Jt(q,U,X,it){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:t:{for(var yt=X.key;U!==null;){if(U.key===yt){if(yt=X.type,yt===S){if(U.tag===7){u(q,U.sibling),it=m(U,X.props.children),it.return=q,q=it;break t}}else if(U.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===z&&Bs(yt)===U.type){u(q,U.sibling),it=m(U,X.props),Pa(it,X),it.return=q,q=it;break t}u(q,U);break}else s(q,U);U=U.sibling}X.type===S?(it=Ds(X.props.children,q.mode,it,X.key),it.return=q,q=it):(it=pl(X.type,X.key,X.props,null,q.mode,it),Pa(it,X),it.return=q,q=it)}return A(q);case w:t:{for(yt=X.key;U!==null;){if(U.key===yt)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){u(q,U.sibling),it=m(U,X.children||[]),it.return=q,q=it;break t}else{u(q,U);break}else s(q,U);U=U.sibling}it=Lc(X,q.mode,it),it.return=q,q=it}return A(q);case z:return X=Bs(X),Jt(q,U,X,it)}if(J(X))return gt(q,U,X,it);if(G(X)){if(yt=G(X),typeof yt!="function")throw Error(n(150));return X=yt.call(X),vt(q,U,X,it)}if(typeof X.then=="function")return Jt(q,U,Al(X),it);if(X.$$typeof===C)return Jt(q,U,yl(q,X),it);wl(q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,U!==null&&U.tag===6?(u(q,U.sibling),it=m(U,X),it.return=q,q=it):(u(q,U),it=Dc(X,q.mode,it),it.return=q,q=it),A(q)):u(q,U)}return function(q,U,X,it){try{Oa=0;var yt=Jt(q,U,X,it);return Cr=null,yt}catch(mt){if(mt===xr||mt===vl)throw mt;var jt=Sn(29,mt,null,q.mode);return jt.lanes=it,jt.return=q,jt}}}var zs=Ug(!0),jg=Ug(!1),es=!1;function Vc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ns(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function is(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Vt&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,s=fl(i),xg(i,null,u),s}return dl(i,h,s,u),fl(i)}function Ba(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Lp(i,u)}}function Yc(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,u=u.next}while(u!==null);y===null?m=y=s:y=y.next=s}else m=y=s;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Xc=!1;function Ia(){if(Xc){var i=Er;if(i!==null)throw i}}function za(i,s,u,h){Xc=!1;var m=i.updateQueue;es=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,_=m.shared.pending;if(_!==null){m.shared.pending=null;var P=_,K=P.next;P.next=null,A===null?y=K:A.next=K,A=P;var et=i.alternate;et!==null&&(et=et.updateQueue,_=et.lastBaseUpdate,_!==A&&(_===null?et.firstBaseUpdate=K:_.next=K,et.lastBaseUpdate=P))}if(y!==null){var st=m.baseState;A=0,et=K=P=null,_=y;do{var W=_.lane&-536870913,Z=W!==_.lane;if(Z?(Bt&W)===W:(h&W)===W){W!==0&&W===wr&&(Xc=!0),et!==null&&(et=et.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var gt=i,vt=_;W=s;var Jt=u;switch(vt.tag){case 1:if(gt=vt.payload,typeof gt=="function"){st=gt.call(Jt,st,W);break t}st=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=vt.payload,W=typeof gt=="function"?gt.call(Jt,st,W):gt,W==null)break t;st=g({},st,W);break t;case 2:es=!0}}W=_.callback,W!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:_.tag,payload:_.payload,callback:_.callback,next:null},et===null?(K=et=Z,P=st):et=et.next=Z,A|=W;if(_=_.next,_===null){if(_=m.shared.pending,_===null)break;Z=_,_=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);et===null&&(P=st),m.baseState=P,m.firstBaseUpdate=K,m.lastBaseUpdate=et,y===null&&(m.shared.lanes=0),ls|=A,i.lanes=A,i.memoizedState=st}}function Hg(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function qg(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Hg(u[i],s)}var _r=I(null),El=I(0);function Vg(i,s){i=Bi,M(El,i),M(_r,s),Bi=i|s.baseLanes}function Kc(){M(El,Bi),M(_r,_r.current)}function $c(){Bi=El.current,Q(_r),Q(El)}var An=I(null),jn=null;function ss(i){var s=i.alternate;M(we,we.current&1),M(An,i),jn===null&&(s===null||_r.current!==null||s.memoizedState!==null)&&(jn=i)}function Wc(i){M(we,we.current),M(An,i),jn===null&&(jn=i)}function Gg(i){i.tag===22?(M(we,we.current),M(An,i),jn===null&&(jn=i)):rs()}function rs(){M(we,we.current),M(An,An.current)}function wn(i){Q(An),jn===i&&(jn=null),Q(we)}var we=I(0);function xl(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||nd(u)||id(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ri=0,Mt=null,Qt=null,Te=null,Cl=!1,Tr=!1,Fs=!1,_l=0,Fa=0,Rr=null,K1=0;function ve(){throw Error(n(321))}function Qc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!vn(i[u],s[u]))return!1;return!0}function Zc(i,s,u,h,m,y){return Ri=y,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=i===null||i.memoizedState===null?Rm:fh,Fs=!1,y=u(h,m),Fs=!1,Tr&&(y=Xg(s,u,h,m)),Yg(i),y}function Yg(i){B.H=Ha;var s=Qt!==null&&Qt.next!==null;if(Ri=0,Te=Qt=Mt=null,Cl=!1,Fa=0,Rr=null,s)throw Error(n(300));i===null||Re||(i=i.dependencies,i!==null&&ml(i)&&(Re=!0))}function Xg(i,s,u,h){Mt=i;var m=0;do{if(Tr&&(Rr=null),Fa=0,Tr=!1,25<=m)throw Error(n(301));if(m+=1,Te=Qt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=Mm,y=s(u,h)}while(Tr);return y}function $1(){var i=B.H,s=i.useState()[0];return s=typeof s.then=="function"?Ua(s):s,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(Mt.flags|=1024),s}function Jc(){var i=_l!==0;return _l=0,i}function th(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function eh(i){if(Cl){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Cl=!1}Ri=0,Te=Qt=Mt=null,Tr=!1,Fa=_l=0,Rr=null}function tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Mt.memoizedState=Te=i:Te=Te.next=i,Te}function Ee(){if(Qt===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var s=Te===null?Mt.memoizedState:Te.next;if(s!==null)Te=s,Qt=i;else{if(i===null)throw Mt.alternate===null?Error(n(467)):Error(n(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Te===null?Mt.memoizedState=Te=i:Te=Te.next=i}return Te}function Tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ua(i){var s=Fa;return Fa+=1,Rr===null&&(Rr=[]),i=Ig(Rr,i,s),s=Mt,(Te===null?s.memoizedState:Te.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Rm:fh),i}function Rl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ua(i);if(i.$$typeof===C)return qe(i)}throw Error(n(438,String(i)))}function nh(i){var s=null,u=Mt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=Mt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Tl(),Mt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),h=0;h<i;h++)u[h]=V;return s.index++,u}function Mi(i,s){return typeof s=="function"?s(i):s}function Ml(i){var s=Ee();return ih(s,Qt,i)}function ih(i,s,u){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=u;var m=i.baseQueue,y=h.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}s.baseQueue=m=y,h.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var _=A=null,P=null,K=s,et=!1;do{var st=K.lane&-536870913;if(st!==K.lane?(Bt&st)===st:(Ri&st)===st){var W=K.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),st===wr&&(et=!0);else if((Ri&W)===W){K=K.next,W===wr&&(et=!0);continue}else st={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(_=P=st,A=y):P=P.next=st,Mt.lanes|=W,ls|=W;st=K.action,Fs&&u(y,st),y=K.hasEagerState?K.eagerState:u(y,st)}else W={lane:st,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(_=P=W,A=y):P=P.next=W,Mt.lanes|=st,ls|=st;K=K.next}while(K!==null&&K!==s);if(P===null?A=y:P.next=_,!vn(y,i.memoizedState)&&(Re=!0,et&&(u=Er,u!==null)))throw u;i.memoizedState=y,i.baseState=A,i.baseQueue=P,h.lastRenderedState=y}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function sh(i){var s=Ee(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,m=u.pending,y=s.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do y=i(y,A.action),A=A.next;while(A!==m);vn(y,s.memoizedState)||(Re=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,h]}function Kg(i,s,u){var h=Mt,m=Ee(),y=Ft;if(y){if(u===void 0)throw Error(n(407));u=u()}else u=s();var A=!vn((Qt||m).memoizedState,u);if(A&&(m.memoizedState=u,Re=!0),m=m.queue,oh(Qg.bind(null,h,m,i),[i]),m.getSnapshot!==s||A||Te!==null&&Te.memoizedState.tag&1){if(h.flags|=2048,Mr(9,{destroy:void 0},Wg.bind(null,h,m,u,s),null),ne===null)throw Error(n(349));y||(Ri&127)!==0||$g(h,s,u)}return u}function $g(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Mt.updateQueue,s===null?(s=Tl(),Mt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Wg(i,s,u,h){s.value=u,s.getSnapshot=h,Zg(s)&&Jg(i)}function Qg(i,s,u){return u(function(){Zg(s)&&Jg(i)})}function Zg(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!vn(i,u)}catch{return!0}}function Jg(i){var s=ks(i,2);s!==null&&hn(s,i,2)}function rh(i){var s=tn();if(typeof i=="function"){var u=i;if(i=u(),Fs){sn(!0);try{u()}finally{sn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:i},s}function tm(i,s,u,h){return i.baseState=u,ih(i,Qt,typeof h=="function"?h:Mi)}function W1(i,s,u,h,m){if(Ll(i))throw Error(n(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};B.T!==null?u(!0):y.isTransition=!1,h(y),u=s.pending,u===null?(y.next=s.pending=y,em(s,y)):(y.next=u.next,s.pending=u.next=y)}}function em(i,s){var u=s.action,h=s.payload,m=i.state;if(s.isTransition){var y=B.T,A={};B.T=A;try{var _=u(m,h),P=B.S;P!==null&&P(A,_),nm(i,s,_)}catch(K){ah(i,s,K)}finally{y!==null&&A.types!==null&&(y.types=A.types),B.T=y}}else try{y=u(m,h),nm(i,s,y)}catch(K){ah(i,s,K)}}function nm(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){im(i,s,h)},function(h){return ah(i,s,h)}):im(i,s,u)}function im(i,s,u){s.status="fulfilled",s.value=u,sm(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,em(i,u)))}function ah(i,s,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,sm(s),s=s.next;while(s!==h)}i.action=null}function sm(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function rm(i,s){return s}function am(i,s){if(Ft){var u=ne.formState;if(u!==null){t:{var h=Mt;if(Ft){if(oe){e:{for(var m=oe,y=Un;m.nodeType!==8;){if(!y){m=null;break e}if(m=Hn(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){oe=Hn(m.nextSibling),h=m.data==="F!";break t}}Ji(h)}h=!1}h&&(s=u[0])}}return u=tn(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:s},u.queue=h,u=Cm.bind(null,Mt,h),h.dispatch=u,h=rh(!1),y=dh.bind(null,Mt,!1,h.queue),h=tn(),m={state:s,dispatch:null,action:i,pending:null},h.queue=m,u=W1.bind(null,Mt,m,y,u),m.dispatch=u,h.memoizedState=i,[s,u,!1]}function om(i){var s=Ee();return lm(s,Qt,i)}function lm(i,s,u){if(s=ih(i,s,rm)[0],i=Ml(Mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ua(s)}catch(A){throw A===xr?vl:A}else h=s;s=Ee();var m=s.queue,y=m.dispatch;return u!==s.memoizedState&&(Mt.flags|=2048,Mr(9,{destroy:void 0},Q1.bind(null,m,u),null)),[h,y,i]}function Q1(i,s){i.action=s}function um(i){var s=Ee(),u=Qt;if(u!==null)return lm(s,u,i);Ee(),s=s.memoizedState,u=Ee();var h=u.queue.dispatch;return u.memoizedState=i,[s,h,!1]}function Mr(i,s,u,h){return i={tag:i,create:u,deps:h,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=Tl(),Mt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i),i}function cm(){return Ee().memoizedState}function kl(i,s,u,h){var m=tn();Mt.flags|=i,m.memoizedState=Mr(1|s,{destroy:void 0},u,h===void 0?null:h)}function Dl(i,s,u,h){var m=Ee();h=h===void 0?null:h;var y=m.memoizedState.inst;Qt!==null&&h!==null&&Qc(h,Qt.memoizedState.deps)?m.memoizedState=Mr(s,y,u,h):(Mt.flags|=i,m.memoizedState=Mr(1|s,y,u,h))}function hm(i,s){kl(8390656,8,i,s)}function oh(i,s){Dl(2048,8,i,s)}function Z1(i){Mt.flags|=4;var s=Mt.updateQueue;if(s===null)s=Tl(),Mt.updateQueue=s,s.events=[i];else{var u=s.events;u===null?s.events=[i]:u.push(i)}}function dm(i){var s=Ee().memoizedState;return Z1({ref:s,nextImpl:i}),function(){if((Vt&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function fm(i,s){return Dl(4,2,i,s)}function pm(i,s){return Dl(4,4,i,s)}function gm(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function mm(i,s,u){u=u!=null?u.concat([i]):null,Dl(4,4,gm.bind(null,s,i),u)}function lh(){}function ym(i,s){var u=Ee();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&Qc(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function bm(i,s){var u=Ee();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&Qc(s,h[1]))return h[0];if(h=i(),Fs){sn(!0);try{i()}finally{sn(!1)}}return u.memoizedState=[h,s],h}function uh(i,s,u){return u===void 0||(Ri&1073741824)!==0&&(Bt&261930)===0?i.memoizedState=s:(i.memoizedState=u,i=vy(),Mt.lanes|=i,ls|=i,u)}function vm(i,s,u,h){return vn(u,s)?u:_r.current!==null?(i=uh(i,u,h),vn(i,s)||(Re=!0),i):(Ri&42)===0||(Ri&1073741824)!==0&&(Bt&261930)===0?(Re=!0,i.memoizedState=u):(i=vy(),Mt.lanes|=i,ls|=i,s)}function Sm(i,s,u,h,m){var y=Y.p;Y.p=y!==0&&8>y?y:8;var A=B.T,_={};B.T=_,dh(i,!1,s,u);try{var P=m(),K=B.S;if(K!==null&&K(_,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var et=X1(P,h);ja(i,s,et,Cn(i))}else ja(i,s,h,Cn(i))}catch(st){ja(i,s,{then:function(){},status:"rejected",reason:st},Cn())}finally{Y.p=y,A!==null&&_.types!==null&&(A.types=_.types),B.T=A}}function J1(){}function ch(i,s,u,h){if(i.tag!==5)throw Error(n(476));var m=Am(i).queue;Sm(i,m,s,rt,u===null?J1:function(){return wm(i),u(h)})}function Am(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:rt},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function wm(i){var s=Am(i);s.next===null&&(s=i.alternate.memoizedState),ja(i,s.next.queue,{},Cn())}function hh(){return qe(so)}function Em(){return Ee().memoizedState}function xm(){return Ee().memoizedState}function tw(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Cn();i=ns(u);var h=is(s,i,u);h!==null&&(hn(h,s,u),Ba(h,s,u)),s={cache:Uc()},i.payload=s;return}s=s.return}}function ew(i,s,u){var h=Cn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ll(i)?_m(s,u):(u=Mc(i,s,u,h),u!==null&&(hn(u,i,h),Tm(u,s,h)))}function Cm(i,s,u){var h=Cn();ja(i,s,u,h)}function ja(i,s,u,h){var m={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ll(i))_m(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,_=y(A,u);if(m.hasEagerState=!0,m.eagerState=_,vn(_,A))return dl(i,s,m,0),ne===null&&hl(),!1}catch{}if(u=Mc(i,s,m,h),u!==null)return hn(u,i,h),Tm(u,s,h),!0}return!1}function dh(i,s,u,h){if(h={lane:2,revertLane:Vh(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ll(i)){if(s)throw Error(n(479))}else s=Mc(i,u,h,2),s!==null&&hn(s,i,2)}function Ll(i){var s=i.alternate;return i===Mt||s!==null&&s===Mt}function _m(i,s){Tr=Cl=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Tm(i,s,u){if((u&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Lp(i,u)}}var Ha={readContext:qe,use:Rl,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Ha.useEffectEvent=ve;var Rm={readContext:qe,use:Rl,useCallback:function(i,s){return tn().memoizedState=[i,s===void 0?null:s],i},useContext:qe,useEffect:hm,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,kl(4194308,4,gm.bind(null,s,i),u)},useLayoutEffect:function(i,s){return kl(4194308,4,i,s)},useInsertionEffect:function(i,s){kl(4,2,i,s)},useMemo:function(i,s){var u=tn();s=s===void 0?null:s;var h=i();if(Fs){sn(!0);try{i()}finally{sn(!1)}}return u.memoizedState=[h,s],h},useReducer:function(i,s,u){var h=tn();if(u!==void 0){var m=u(s);if(Fs){sn(!0);try{u(s)}finally{sn(!1)}}}else m=s;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=ew.bind(null,Mt,i),[h.memoizedState,i]},useRef:function(i){var s=tn();return i={current:i},s.memoizedState=i},useState:function(i){i=rh(i);var s=i.queue,u=Cm.bind(null,Mt,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:lh,useDeferredValue:function(i,s){var u=tn();return uh(u,i,s)},useTransition:function(){var i=rh(!1);return i=Sm.bind(null,Mt,i.queue,!0,!1),tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var h=Mt,m=tn();if(Ft){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),ne===null)throw Error(n(349));(Bt&127)!==0||$g(h,s,u)}m.memoizedState=u;var y={value:u,getSnapshot:s};return m.queue=y,hm(Qg.bind(null,h,y,i),[i]),h.flags|=2048,Mr(9,{destroy:void 0},Wg.bind(null,h,y,u,s),null),u},useId:function(){var i=tn(),s=ne.identifierPrefix;if(Ft){var u=ni,h=ei;u=(h&~(1<<32-ee(h)-1)).toString(32)+u,s="_"+s+"R_"+u,u=_l++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=K1++,s="_"+s+"r_"+u.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:hh,useFormState:am,useActionState:am,useOptimistic:function(i){var s=tn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=dh.bind(null,Mt,!0,u),u.dispatch=s,[i,s]},useMemoCache:nh,useCacheRefresh:function(){return tn().memoizedState=tw.bind(null,Mt)},useEffectEvent:function(i){var s=tn(),u={impl:i};return s.memoizedState=u,function(){if((Vt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},fh={readContext:qe,use:Rl,useCallback:ym,useContext:qe,useEffect:oh,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:bm,useReducer:Ml,useRef:cm,useState:function(){return Ml(Mi)},useDebugValue:lh,useDeferredValue:function(i,s){var u=Ee();return vm(u,Qt.memoizedState,i,s)},useTransition:function(){var i=Ml(Mi)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:Ua(i),s]},useSyncExternalStore:Kg,useId:Em,useHostTransitionStatus:hh,useFormState:om,useActionState:om,useOptimistic:function(i,s){var u=Ee();return tm(u,Qt,i,s)},useMemoCache:nh,useCacheRefresh:xm};fh.useEffectEvent=dm;var Mm={readContext:qe,use:Rl,useCallback:ym,useContext:qe,useEffect:oh,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:bm,useReducer:sh,useRef:cm,useState:function(){return sh(Mi)},useDebugValue:lh,useDeferredValue:function(i,s){var u=Ee();return Qt===null?uh(u,i,s):vm(u,Qt.memoizedState,i,s)},useTransition:function(){var i=sh(Mi)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:Ua(i),s]},useSyncExternalStore:Kg,useId:Em,useHostTransitionStatus:hh,useFormState:um,useActionState:um,useOptimistic:function(i,s){var u=Ee();return Qt!==null?tm(u,Qt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:nh,useCacheRefresh:xm};Mm.useEffectEvent=dm;function ph(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:g({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var gh={enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Cn(),m=ns(h);m.payload=s,u!=null&&(m.callback=u),s=is(i,m,h),s!==null&&(hn(s,i,h),Ba(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Cn(),m=ns(h);m.tag=1,m.payload=s,u!=null&&(m.callback=u),s=is(i,m,h),s!==null&&(hn(s,i,h),Ba(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Cn(),h=ns(u);h.tag=2,s!=null&&(h.callback=s),s=is(i,h,u),s!==null&&(hn(s,i,u),Ba(s,i,u))}};function km(i,s,u,h,m,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,A):s.prototype&&s.prototype.isPureReactComponent?!Ra(u,h)||!Ra(m,y):!0}function Dm(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&gh.enqueueReplaceState(s,s.state,null)}function Us(i,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(i=i.defaultProps){u===s&&(u=g({},u));for(var m in i)u[m]===void 0&&(u[m]=i[m])}return u}function Lm(i){cl(i)}function Nm(i){console.error(i)}function Om(i){cl(i)}function Nl(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Pm(i,s,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mh(i,s,u){return u=ns(u),u.tag=3,u.payload={element:null},u.callback=function(){Nl(i,s)},u}function Bm(i){return i=ns(i),i.tag=3,i}function Im(i,s,u,h){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;i.payload=function(){return m(y)},i.callback=function(){Pm(s,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Pm(s,u,h),typeof m!="function"&&(us===null?us=new Set([this]):us.add(this));var _=h.stack;this.componentDidCatch(h.value,{componentStack:_!==null?_:""})})}function nw(i,s,u,h,m){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&Ar(s,u,m,!0),u=An.current,u!==null){switch(u.tag){case 31:case 13:return jn===null?Gl():u.alternate===null&&Se===0&&(Se=3),u.flags&=-257,u.flags|=65536,u.lanes=m,h===Sl?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),jh(i,h,m)),!1;case 22:return u.flags|=65536,h===Sl?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),jh(i,h,m)),!1}throw Error(n(435,u.tag))}return jh(i,h,m),Gl(),!1}if(Ft)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,h!==Pc&&(i=Error(n(422),{cause:h}),Da(In(i,u)))):(h!==Pc&&(s=Error(n(423),{cause:h}),Da(In(s,u))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=In(h,u),m=mh(i.stateNode,h,m),Yc(i,m),Se!==4&&(Se=2)),!1;var y=Error(n(520),{cause:h});if(y=In(y,u),Wa===null?Wa=[y]:Wa.push(y),Se!==4&&(Se=2),s===null)return!0;h=In(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=m&-m,u.lanes|=i,i=mh(u.stateNode,h,i),Yc(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(us===null||!us.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=Bm(m),Im(m,i,u,h),Yc(u,m),!1}u=u.return}while(u!==null);return!1}var yh=Error(n(461)),Re=!1;function Ve(i,s,u,h){s.child=i===null?jg(s,null,u,h):zs(s,i.child,u,h)}function zm(i,s,u,h,m){u=u.render;var y=s.ref;if("ref"in h){var A={};for(var _ in h)_!=="ref"&&(A[_]=h[_])}else A=h;return Os(s),h=Zc(i,s,u,A,y,m),_=Jc(),i!==null&&!Re?(th(i,s,m),ki(i,s,m)):(Ft&&_&&Nc(s),s.flags|=1,Ve(i,s,h,m),s.child)}function Fm(i,s,u,h,m){if(i===null){var y=u.type;return typeof y=="function"&&!kc(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,Um(i,s,y,h,m)):(i=pl(u.type,null,h,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Ch(i,m)){var A=y.memoizedProps;if(u=u.compare,u=u!==null?u:Ra,u(A,h)&&i.ref===s.ref)return ki(i,s,m)}return s.flags|=1,i=xi(y,h),i.ref=s.ref,i.return=s,s.child=i}function Um(i,s,u,h,m){if(i!==null){var y=i.memoizedProps;if(Ra(y,h)&&i.ref===s.ref)if(Re=!1,s.pendingProps=h=y,Ch(i,m))(i.flags&131072)!==0&&(Re=!0);else return s.lanes=i.lanes,ki(i,s,m)}return bh(i,s,u,h,m)}function jm(i,s,u,h){var m=h.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,i!==null){for(h=s.child=i.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~y}else h=0,s.child=null;return Hm(i,s,y,u,h)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&bl(s,y!==null?y.cachePool:null),y!==null?Vg(s,y):Kc(),Gg(s);else return h=s.lanes=536870912,Hm(i,s,y!==null?y.baseLanes|u:u,u,h)}else y!==null?(bl(s,y.cachePool),Vg(s,y),rs(),s.memoizedState=null):(i!==null&&bl(s,null),Kc(),rs());return Ve(i,s,m,u),s.child}function qa(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Hm(i,s,u,h,m){var y=Hc();return y=y===null?null:{parent:_e._currentValue,pool:y},s.memoizedState={baseLanes:u,cachePool:y},i!==null&&bl(s,null),Kc(),Gg(s),i!==null&&Ar(i,s,h,!0),s.childLanes=m,null}function Ol(i,s){return s=Bl({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function qm(i,s,u){return zs(s,i.child,null,u),i=Ol(s,s.pendingProps),i.flags|=2,wn(s),s.memoizedState=null,i}function iw(i,s,u){var h=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ft){if(h.mode==="hidden")return i=Ol(s,h),s.lanes=536870912,qa(null,i);if(Wc(s),(i=oe)?(i=eb(i,Un),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Qi!==null?{id:ei,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},u=_g(i),u.return=s,s.child=u,He=s,oe=null)):i=null,i===null)throw Ji(s);return s.lanes=536870912,null}return Ol(s,h)}var y=i.memoizedState;if(y!==null){var A=y.dehydrated;if(Wc(s),m)if(s.flags&256)s.flags&=-257,s=qm(i,s,u);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(n(558));else if(Re||Ar(i,s,u,!1),m=(u&i.childLanes)!==0,Re||m){if(h=ne,h!==null&&(A=Np(h,u),A!==0&&A!==y.retryLane))throw y.retryLane=A,ks(i,A),hn(h,i,A),yh;Gl(),s=qm(i,s,u)}else i=y.treeContext,oe=Hn(A.nextSibling),He=s,Ft=!0,Zi=null,Un=!1,i!==null&&Mg(s,i),s=Ol(s,h),s.flags|=4096;return s}return i=xi(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Pl(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function bh(i,s,u,h,m){return Os(s),u=Zc(i,s,u,h,void 0,m),h=Jc(),i!==null&&!Re?(th(i,s,m),ki(i,s,m)):(Ft&&h&&Nc(s),s.flags|=1,Ve(i,s,u,m),s.child)}function Vm(i,s,u,h,m,y){return Os(s),s.updateQueue=null,u=Xg(s,h,u,m),Yg(i),h=Jc(),i!==null&&!Re?(th(i,s,y),ki(i,s,y)):(Ft&&h&&Nc(s),s.flags|=1,Ve(i,s,u,y),s.child)}function Gm(i,s,u,h,m){if(Os(s),s.stateNode===null){var y=yr,A=u.contextType;typeof A=="object"&&A!==null&&(y=qe(A)),y=new u(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},Vc(s),A=u.contextType,y.context=typeof A=="object"&&A!==null?qe(A):yr,y.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(ph(s,u,A,h),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&gh.enqueueReplaceState(y,y.state,null),za(s,h,y,m),Ia(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){y=s.stateNode;var _=s.memoizedProps,P=Us(u,_);y.props=P;var K=y.context,et=u.contextType;A=yr,typeof et=="object"&&et!==null&&(A=qe(et));var st=u.getDerivedStateFromProps;et=typeof st=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,et||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||K!==A)&&Dm(s,y,h,A),es=!1;var W=s.memoizedState;y.state=W,za(s,h,y,m),Ia(),K=s.memoizedState,_||W!==K||es?(typeof st=="function"&&(ph(s,u,st,h),K=s.memoizedState),(P=es||km(s,u,P,h,W,K,A))?(et||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=K),y.props=h,y.state=K,y.context=A,h=P):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Gc(i,s),A=s.memoizedProps,et=Us(u,A),y.props=et,st=s.pendingProps,W=y.context,K=u.contextType,P=yr,typeof K=="object"&&K!==null&&(P=qe(K)),_=u.getDerivedStateFromProps,(K=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==st||W!==P)&&Dm(s,y,h,P),es=!1,W=s.memoizedState,y.state=W,za(s,h,y,m),Ia();var Z=s.memoizedState;A!==st||W!==Z||es||i!==null&&i.dependencies!==null&&ml(i.dependencies)?(typeof _=="function"&&(ph(s,u,_,h),Z=s.memoizedState),(et=es||km(s,u,et,h,W,Z,P)||i!==null&&i.dependencies!==null&&ml(i.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,P)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Z),y.props=h,y.state=Z,y.context=P,h=et):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),h=!1)}return y=h,Pl(i,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&h?(s.child=zs(s,i.child,null,m),s.child=zs(s,null,u,m)):Ve(i,s,u,m),s.memoizedState=y.state,i=s.child):i=ki(i,s,m),i}function Ym(i,s,u,h){return Ls(),s.flags|=256,Ve(i,s,u,h),s.child}var vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(i){return{baseLanes:i,cachePool:Pg()}}function Ah(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=xn),i}function Xm(i,s,u){var h=s.pendingProps,m=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=i!==null&&i.memoizedState===null?!1:(we.current&2)!==0),A&&(m=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ft){if(m?ss(s):rs(),(i=oe)?(i=eb(i,Un),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Qi!==null?{id:ei,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},u=_g(i),u.return=s,s.child=u,He=s,oe=null)):i=null,i===null)throw Ji(s);return id(i)?s.lanes=32:s.lanes=536870912,null}var _=h.children;return h=h.fallback,m?(rs(),m=s.mode,_=Bl({mode:"hidden",children:_},m),h=Ds(h,m,u,null),_.return=s,h.return=s,_.sibling=h,s.child=_,h=s.child,h.memoizedState=Sh(u),h.childLanes=Ah(i,A,u),s.memoizedState=vh,qa(null,h)):(ss(s),wh(s,_))}var P=i.memoizedState;if(P!==null&&(_=P.dehydrated,_!==null)){if(y)s.flags&256?(ss(s),s.flags&=-257,s=Eh(i,s,u)):s.memoizedState!==null?(rs(),s.child=i.child,s.flags|=128,s=null):(rs(),_=h.fallback,m=s.mode,h=Bl({mode:"visible",children:h.children},m),_=Ds(_,m,u,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,zs(s,i.child,null,u),h=s.child,h.memoizedState=Sh(u),h.childLanes=Ah(i,A,u),s.memoizedState=vh,s=qa(null,h));else if(ss(s),id(_)){if(A=_.nextSibling&&_.nextSibling.dataset,A)var K=A.dgst;A=K,h=Error(n(419)),h.stack="",h.digest=A,Da({value:h,source:null,stack:null}),s=Eh(i,s,u)}else if(Re||Ar(i,s,u,!1),A=(u&i.childLanes)!==0,Re||A){if(A=ne,A!==null&&(h=Np(A,u),h!==0&&h!==P.retryLane))throw P.retryLane=h,ks(i,h),hn(A,i,h),yh;nd(_)||Gl(),s=Eh(i,s,u)}else nd(_)?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,oe=Hn(_.nextSibling),He=s,Ft=!0,Zi=null,Un=!1,i!==null&&Mg(s,i),s=wh(s,h.children),s.flags|=4096);return s}return m?(rs(),_=h.fallback,m=s.mode,P=i.child,K=P.sibling,h=xi(P,{mode:"hidden",children:h.children}),h.subtreeFlags=P.subtreeFlags&65011712,K!==null?_=xi(K,_):(_=Ds(_,m,u,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,qa(null,h),h=s.child,_=i.child.memoizedState,_===null?_=Sh(u):(m=_.cachePool,m!==null?(P=_e._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=Pg(),_={baseLanes:_.baseLanes|u,cachePool:m}),h.memoizedState=_,h.childLanes=Ah(i,A,u),s.memoizedState=vh,qa(i.child,h)):(ss(s),u=i.child,i=u.sibling,u=xi(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=u,s.memoizedState=null,u)}function wh(i,s){return s=Bl({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Bl(i,s){return i=Sn(22,i,null,s),i.lanes=0,i}function Eh(i,s,u){return zs(s,i.child,null,u),i=wh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Km(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),zc(i.return,s,u)}function xh(i,s,u,h,m,y){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m,treeForkCount:y}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=u,A.tailMode=m,A.treeForkCount=y)}function $m(i,s,u){var h=s.pendingProps,m=h.revealOrder,y=h.tail;h=h.children;var A=we.current,_=(A&2)!==0;if(_?(A=A&1|2,s.flags|=128):A&=1,M(we,A),Ve(i,s,h,u),h=Ft?ka:0,!_&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Km(i,u,s);else if(i.tag===19)Km(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(u=s.child,m=null;u!==null;)i=u.alternate,i!==null&&xl(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=s.child,s.child=null):(m=u.sibling,u.sibling=null),xh(s,!1,m,u,y,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&xl(i)===null){s.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}xh(s,!0,u,null,y,h);break;case"together":xh(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ki(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),ls|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(Ar(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=xi(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=xi(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Ch(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ml(i)))}function sw(i,s,u){switch(s.tag){case 3:wt(s,s.stateNode.containerInfo),ts(s,_e,i.memoizedState.cache),Ls();break;case 27:case 5:ye(s);break;case 4:wt(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Wc(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ss(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Xm(i,s,u):(ss(s),i=ki(i,s,u),i!==null?i.sibling:null);ss(s);break;case 19:var m=(i.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(Ar(i,s,u,!1),h=(u&s.childLanes)!==0),m){if(h)return $m(i,s,u);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),M(we,we.current),h)break;return null;case 22:return s.lanes=0,jm(i,s,u,s.pendingProps);case 24:ts(s,_e,i.memoizedState.cache)}return ki(i,s,u)}function Wm(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Re=!0;else{if(!Ch(i,u)&&(s.flags&128)===0)return Re=!1,sw(i,s,u);Re=(i.flags&131072)!==0}else Re=!1,Ft&&(s.flags&1048576)!==0&&Rg(s,ka,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(i=Bs(s.elementType),s.type=i,typeof i=="function")kc(i)?(h=Us(i,h),s.tag=1,s=Gm(null,s,i,h,u)):(s.tag=0,s=bh(null,s,i,h,u));else{if(i!=null){var m=i.$$typeof;if(m===D){s.tag=11,s=zm(null,s,i,h,u);break t}else if(m===k){s.tag=14,s=Fm(null,s,i,h,u);break t}}throw s=$(i)||i,Error(n(306,s,""))}}return s;case 0:return bh(i,s,s.type,s.pendingProps,u);case 1:return h=s.type,m=Us(h,s.pendingProps),Gm(i,s,h,m,u);case 3:t:{if(wt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));h=s.pendingProps;var y=s.memoizedState;m=y.element,Gc(i,s),za(s,h,null,u);var A=s.memoizedState;if(h=A.cache,ts(s,_e,h),h!==y.cache&&Fc(s,[_e],u,!0),Ia(),h=A.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Ym(i,s,h,u);break t}else if(h!==m){m=In(Error(n(424)),s),Da(m),s=Ym(i,s,h,u);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,oe=Hn(i.firstChild),He=s,Ft=!0,Zi=null,Un=!0,u=jg(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ls(),h===m){s=ki(i,s,u);break t}Ve(i,s,h,u)}s=s.child}return s;case 26:return Pl(i,s),i===null?(u=ob(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ft||(u=s.type,i=s.pendingProps,h=Zl(ut.current).createElement(u),h[je]=s,h[rn]=i,Ge(h,u,i),Pe(h),s.stateNode=h):s.memoizedState=ob(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ye(s),i===null&&Ft&&(h=s.stateNode=sb(s.type,s.pendingProps,ut.current),He=s,Un=!0,m=oe,fs(s.type)?(sd=m,oe=Hn(h.firstChild)):oe=m),Ve(i,s,s.pendingProps.children,u),Pl(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ft&&((m=h=oe)&&(h=Ow(h,s.type,s.pendingProps,Un),h!==null?(s.stateNode=h,He=s,oe=Hn(h.firstChild),Un=!1,m=!0):m=!1),m||Ji(s)),ye(s),m=s.type,y=s.pendingProps,A=i!==null?i.memoizedProps:null,h=y.children,Jh(m,y)?h=null:A!==null&&Jh(m,A)&&(s.flags|=32),s.memoizedState!==null&&(m=Zc(i,s,$1,null,null,u),so._currentValue=m),Pl(i,s),Ve(i,s,h,u),s.child;case 6:return i===null&&Ft&&((i=u=oe)&&(u=Pw(u,s.pendingProps,Un),u!==null?(s.stateNode=u,He=s,oe=null,i=!0):i=!1),i||Ji(s)),null;case 13:return Xm(i,s,u);case 4:return wt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=zs(s,null,h,u):Ve(i,s,h,u),s.child;case 11:return zm(i,s,s.type,s.pendingProps,u);case 7:return Ve(i,s,s.pendingProps,u),s.child;case 8:return Ve(i,s,s.pendingProps.children,u),s.child;case 12:return Ve(i,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,ts(s,s.type,h.value),Ve(i,s,h.children,u),s.child;case 9:return m=s.type._context,h=s.pendingProps.children,Os(s),m=qe(m),h=h(m),s.flags|=1,Ve(i,s,h,u),s.child;case 14:return Fm(i,s,s.type,s.pendingProps,u);case 15:return Um(i,s,s.type,s.pendingProps,u);case 19:return $m(i,s,u);case 31:return iw(i,s,u);case 22:return jm(i,s,u,s.pendingProps);case 24:return Os(s),h=qe(_e),i===null?(m=Hc(),m===null&&(m=ne,y=Uc(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),s.memoizedState={parent:h,cache:m},Vc(s),ts(s,_e,m)):((i.lanes&u)!==0&&(Gc(i,s),za(s,null,null,u),Ia()),m=i.memoizedState,y=s.memoizedState,m.parent!==h?(m={parent:h,cache:h},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ts(s,_e,h)):(h=y.cache,ts(s,_e,h),h!==m.cache&&Fc(s,[_e],u,!0))),Ve(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Di(i){i.flags|=4}function _h(i,s,u,h,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Ey())i.flags|=8192;else throw Is=Sl,qc}else i.flags&=-16777217}function Qm(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!db(s))if(Ey())i.flags|=8192;else throw Is=Sl,qc}function Il(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?kp():536870912,i.lanes|=s,Nr|=s)}function Va(i,s){if(!Ft)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function le(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function rw(i,s,u){var h=s.pendingProps;switch(Oc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(s),null;case 1:return le(s),null;case 3:return u=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Ti(_e),Et(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Sr(s)?Di(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bc())),le(s),null;case 26:var m=s.type,y=s.memoizedState;return i===null?(Di(s),y!==null?(le(s),Qm(s,y)):(le(s),_h(s,m,null,h,u))):y?y!==i.memoizedState?(Di(s),le(s),Qm(s,y)):(le(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Di(s),le(s),_h(s,m,i,h,u)),null;case 27:if(Ae(s),u=ut.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Di(s);else{if(!h){if(s.stateNode===null)throw Error(n(166));return le(s),null}i=at.current,Sr(s)?kg(s):(i=sb(m,h,u),s.stateNode=i,Di(s))}return le(s),null;case 5:if(Ae(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Di(s);else{if(!h){if(s.stateNode===null)throw Error(n(166));return le(s),null}if(y=at.current,Sr(s))kg(s);else{var A=Zl(ut.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?A.createElement(m,{is:h.is}):A.createElement(m)}}y[je]=s,y[rn]=h;t:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break t;for(;A.sibling===null;){if(A.return===null||A.return===s)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=y;t:switch(Ge(y,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Di(s)}}return le(s),_h(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,u),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Di(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(i=ut.current,Sr(s)){if(i=s.stateNode,u=s.memoizedProps,h=null,m=He,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[je]=s,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Xy(i.nodeValue,u)),i||Ji(s,!0)}else i=Zl(i).createTextNode(h),i[je]=s,s.stateNode=i}return le(s),null;case 31:if(u=s.memoizedState,i===null||i.memoizedState!==null){if(h=Sr(s),u!==null){if(i===null){if(!h)throw Error(n(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[je]=s}else Ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;le(s),i=!1}else u=Bc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return s.flags&256?(wn(s),s):(wn(s),null);if((s.flags&128)!==0)throw Error(n(558))}return le(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Sr(s),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[je]=s}else Ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;le(s),m=!1}else m=Bc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(wn(s),s):(wn(s),null)}return wn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=s.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)),u!==i&&u&&(s.child.flags|=8192),Il(s,s.updateQueue),le(s),null);case 4:return Et(),i===null&&Kh(s.stateNode.containerInfo),le(s),null;case 10:return Ti(s.type),le(s),null;case 19:if(Q(we),h=s.memoizedState,h===null)return le(s),null;if(m=(s.flags&128)!==0,y=h.rendering,y===null)if(m)Va(h,!1);else{if(Se!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=xl(i),y!==null){for(s.flags|=128,Va(h,!1),i=y.updateQueue,s.updateQueue=i,Il(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Cg(u,i),u=u.sibling;return M(we,we.current&1|2),Ft&&Ci(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Ue()>Hl&&(s.flags|=128,m=!0,Va(h,!1),s.lanes=4194304)}else{if(!m)if(i=xl(y),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Il(s,i),Va(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ft)return le(s),null}else 2*Ue()-h.renderingStartTime>Hl&&u!==536870912&&(s.flags|=128,m=!0,Va(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(i=h.last,i!==null?i.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ue(),i.sibling=null,u=we.current,M(we,m?u&1|2:u&1),Ft&&Ci(s,h.treeForkCount),i):(le(s),null);case 22:case 23:return wn(s),$c(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(le(s),s.subtreeFlags&6&&(s.flags|=8192)):le(s),u=s.updateQueue,u!==null&&Il(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),i!==null&&Q(Ps),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ti(_e),le(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function aw(i,s){switch(Oc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ti(_e),Et(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ae(s),null;case 31:if(s.memoizedState!==null){if(wn(s),s.alternate===null)throw Error(n(340));Ls()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(wn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ls()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Q(we),null;case 4:return Et(),null;case 10:return Ti(s.type),null;case 22:case 23:return wn(s),$c(),i!==null&&Q(Ps),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ti(_e),null;case 25:return null;default:return null}}function Zm(i,s){switch(Oc(s),s.tag){case 3:Ti(_e),Et();break;case 26:case 27:case 5:Ae(s);break;case 4:Et();break;case 31:s.memoizedState!==null&&wn(s);break;case 13:wn(s);break;case 19:Q(we);break;case 10:Ti(s.type);break;case 22:case 23:wn(s),$c(),i!==null&&Q(Ps);break;case 24:Ti(_e)}}function Ga(i,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&i)===i){h=void 0;var y=u.create,A=u.inst;h=y(),A.destroy=h}u=u.next}while(u!==m)}}catch(_){Wt(s,s.return,_)}}function as(i,s,u){try{var h=s.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&i)===i){var A=h.inst,_=A.destroy;if(_!==void 0){A.destroy=void 0,m=s;var P=u,K=_;try{K()}catch(et){Wt(m,P,et)}}}h=h.next}while(h!==y)}}catch(et){Wt(s,s.return,et)}}function Jm(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{qg(s,u)}catch(h){Wt(i,i.return,h)}}}function ty(i,s,u){u.props=Us(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){Wt(i,s,h)}}function Ya(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(m){Wt(i,s,m)}}function ii(i,s){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(m){Wt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Wt(i,s,m)}else u.current=null}function ey(i){var s=i.type,u=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break t;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(m){Wt(i,i.return,m)}}function Th(i,s,u){try{var h=i.stateNode;Rw(h,i.type,u,s),h[rn]=s}catch(m){Wt(i,i.return,m)}}function ny(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fs(i.type)||i.tag===4}function Rh(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||ny(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mh(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=wi));else if(h!==4&&(h===27&&fs(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(Mh(i,s,u),i=i.sibling;i!==null;)Mh(i,s,u),i=i.sibling}function zl(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(h===27&&fs(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(zl(i,s,u),i=i.sibling;i!==null;)zl(i,s,u),i=i.sibling}function iy(i){var s=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Ge(s,h,u),s[je]=i,s[rn]=u}catch(y){Wt(i,i.return,y)}}var Li=!1,Me=!1,kh=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Be=null;function ow(i,s){if(i=i.containerInfo,Qh=ru,i=mg(i),Ec(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var A=0,_=-1,P=-1,K=0,et=0,st=i,W=null;e:for(;;){for(var Z;st!==u||m!==0&&st.nodeType!==3||(_=A+m),st!==y||h!==0&&st.nodeType!==3||(P=A+h),st.nodeType===3&&(A+=st.nodeValue.length),(Z=st.firstChild)!==null;)W=st,st=Z;for(;;){if(st===i)break e;if(W===u&&++K===m&&(_=A),W===y&&++et===h&&(P=A),(Z=st.nextSibling)!==null)break;st=W,W=st.parentNode}st=Z}u=_===-1||P===-1?null:{start:_,end:P}}else u=null}u=u||{start:0,end:0}}else u=null;for(Zh={focusedElem:i,selectionRange:u},ru=!1,Be=s;Be!==null;)if(s=Be,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Be=i;else for(;Be!==null;){switch(s=Be,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)m=i[u],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,m=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var gt=Us(u.type,m);i=h.getSnapshotBeforeUpdate(gt,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Wt(u,u.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)ed(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ed(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Be=i;break}Be=s.return}}function ry(i,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Oi(i,u),h&4&&Ga(5,u);break;case 1:if(Oi(i,u),h&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(A){Wt(u,u.return,A)}else{var m=Us(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Wt(u,u.return,A)}}h&64&&Jm(u),h&512&&Ya(u,u.return);break;case 3:if(Oi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{qg(i,s)}catch(A){Wt(u,u.return,A)}}break;case 27:s===null&&h&4&&iy(u);case 26:case 5:Oi(i,u),s===null&&h&4&&ey(u),h&512&&Ya(u,u.return);break;case 12:Oi(i,u);break;case 31:Oi(i,u),h&4&&ly(i,u);break;case 13:Oi(i,u),h&4&&uy(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=mw.bind(null,u),Bw(i,u))));break;case 22:if(h=u.memoizedState!==null||Li,!h){s=s!==null&&s.memoizedState!==null||Me,m=Li;var y=Me;Li=h,(Me=s)&&!y?Pi(i,u,(u.subtreeFlags&8772)!==0):Oi(i,u),Li=m,Me=y}break;case 30:break;default:Oi(i,u)}}function ay(i){var s=i.alternate;s!==null&&(i.alternate=null,ay(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ac(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,on=!1;function Ni(i,s,u){for(u=u.child;u!==null;)oy(i,s,u),u=u.sibling}function oy(i,s,u){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Je,u)}catch{}switch(u.tag){case 26:Me||ii(u,s),Ni(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Me||ii(u,s);var h=ue,m=on;fs(u.type)&&(ue=u.stateNode,on=!1),Ni(i,s,u),eo(u.stateNode),ue=h,on=m;break;case 5:Me||ii(u,s);case 6:if(h=ue,m=on,ue=null,Ni(i,s,u),ue=h,on=m,ue!==null)if(on)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(u.stateNode)}catch(y){Wt(u,s,y)}else try{ue.removeChild(u.stateNode)}catch(y){Wt(u,s,y)}break;case 18:ue!==null&&(on?(i=ue,Jy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),jr(i)):Jy(ue,u.stateNode));break;case 4:h=ue,m=on,ue=u.stateNode.containerInfo,on=!0,Ni(i,s,u),ue=h,on=m;break;case 0:case 11:case 14:case 15:as(2,u,s),Me||as(4,u,s),Ni(i,s,u);break;case 1:Me||(ii(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&ty(u,s,h)),Ni(i,s,u);break;case 21:Ni(i,s,u);break;case 22:Me=(h=Me)||u.memoizedState!==null,Ni(i,s,u),Me=h;break;default:Ni(i,s,u)}}function ly(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{jr(i)}catch(u){Wt(s,s.return,u)}}}function uy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jr(i)}catch(u){Wt(s,s.return,u)}}function lw(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new sy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new sy),s;default:throw Error(n(435,i.tag))}}function Fl(i,s){var u=lw(i);s.forEach(function(h){if(!u.has(h)){u.add(h);var m=yw.bind(null,i,h);h.then(m,m)}})}function ln(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h],y=i,A=s,_=A;t:for(;_!==null;){switch(_.tag){case 27:if(fs(_.type)){ue=_.stateNode,on=!1;break t}break;case 5:ue=_.stateNode,on=!1;break t;case 3:case 4:ue=_.stateNode.containerInfo,on=!0;break t}_=_.return}if(ue===null)throw Error(n(160));oy(y,A,m),ue=null,on=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)cy(s,i),s=s.sibling}var Qn=null;function cy(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ln(s,i),un(i),h&4&&(as(3,i,i.return),Ga(3,i),as(5,i,i.return));break;case 1:ln(s,i),un(i),h&512&&(Me||u===null||ii(u,u.return)),h&64&&Li&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var m=Qn;if(ln(s,i),un(i),h&512&&(Me||u===null||ii(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){t:{h=i.type,u=i.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[va]||y[je]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),Ge(y,h,u),y[je]=i,Pe(y),h=y;break t;case"link":var A=cb("link","href",m).get(h+(u.href||""));if(A){for(var _=0;_<A.length;_++)if(y=A[_],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(_,1);break e}}y=m.createElement(h),Ge(y,h,u),m.head.appendChild(y);break;case"meta":if(A=cb("meta","content",m).get(h+(u.content||""))){for(_=0;_<A.length;_++)if(y=A[_],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(_,1);break e}}y=m.createElement(h),Ge(y,h,u),m.head.appendChild(y);break;default:throw Error(n(468,h))}y[je]=i,Pe(y),h=y}i.stateNode=h}else hb(m,i.type,i.stateNode);else i.stateNode=ub(m,h,i.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?hb(m,i.type,i.stateNode):ub(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Th(i,i.memoizedProps,u.memoizedProps)}break;case 27:ln(s,i),un(i),h&512&&(Me||u===null||ii(u,u.return)),u!==null&&h&4&&Th(i,i.memoizedProps,u.memoizedProps);break;case 5:if(ln(s,i),un(i),h&512&&(Me||u===null||ii(u,u.return)),i.flags&32){m=i.stateNode;try{cr(m,"")}catch(gt){Wt(i,i.return,gt)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,Th(i,m,u!==null?u.memoizedProps:m)),h&1024&&(kh=!0);break;case 6:if(ln(s,i),un(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(gt){Wt(i,i.return,gt)}}break;case 3:if(eu=null,m=Qn,Qn=Jl(s.containerInfo),ln(s,i),Qn=m,un(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{jr(s.containerInfo)}catch(gt){Wt(i,i.return,gt)}kh&&(kh=!1,hy(i));break;case 4:h=Qn,Qn=Jl(i.stateNode.containerInfo),ln(s,i),un(i),Qn=h;break;case 12:ln(s,i),un(i);break;case 31:ln(s,i),un(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Fl(i,h)));break;case 13:ln(s,i),un(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(jl=Ue()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Fl(i,h)));break;case 22:m=i.memoizedState!==null;var P=u!==null&&u.memoizedState!==null,K=Li,et=Me;if(Li=K||m,Me=et||P,ln(s,i),Me=et,Li=K,un(i),h&8192)t:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(u===null||P||Li||Me||js(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){P=u=s;try{if(y=P.stateNode,m)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{_=P.stateNode;var st=P.memoizedProps.style,W=st!=null&&st.hasOwnProperty("display")?st.display:null;_.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(gt){Wt(P,P.return,gt)}}}else if(s.tag===6){if(u===null){P=s;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(gt){Wt(P,P.return,gt)}}}else if(s.tag===18){if(u===null){P=s;try{var Z=P.stateNode;m?tb(Z,!0):tb(P.stateNode,!1)}catch(gt){Wt(P,P.return,gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Fl(i,u))));break;case 19:ln(s,i),un(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Fl(i,h)));break;case 30:break;case 21:break;default:ln(s,i),un(i)}}function un(i){var s=i.flags;if(s&2){try{for(var u,h=i.return;h!==null;){if(ny(h)){u=h;break}h=h.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var m=u.stateNode,y=Rh(i);zl(i,y,m);break;case 5:var A=u.stateNode;u.flags&32&&(cr(A,""),u.flags&=-33);var _=Rh(i);zl(i,_,A);break;case 3:case 4:var P=u.stateNode.containerInfo,K=Rh(i);Mh(i,K,P);break;default:throw Error(n(161))}}catch(et){Wt(i,i.return,et)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;hy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Oi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ry(i,s.alternate,s),s=s.sibling}function js(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:as(4,s,s.return),js(s);break;case 1:ii(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&ty(s,s.return,u),js(s);break;case 27:eo(s.stateNode);case 26:case 5:ii(s,s.return),js(s);break;case 22:s.memoizedState===null&&js(s);break;case 30:js(s);break;default:js(s)}i=i.sibling}}function Pi(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,m=i,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:Pi(m,y,u),Ga(4,y);break;case 1:if(Pi(m,y,u),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Wt(h,h.return,K)}if(h=y,m=h.updateQueue,m!==null){var _=h.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Hg(P[m],_)}catch(K){Wt(h,h.return,K)}}u&&A&64&&Jm(y),Ya(y,y.return);break;case 27:iy(y);case 26:case 5:Pi(m,y,u),u&&h===null&&A&4&&ey(y),Ya(y,y.return);break;case 12:Pi(m,y,u);break;case 31:Pi(m,y,u),u&&A&4&&ly(m,y);break;case 13:Pi(m,y,u),u&&A&4&&uy(m,y);break;case 22:y.memoizedState===null&&Pi(m,y,u),Ya(y,y.return);break;case 30:break;default:Pi(m,y,u)}s=s.sibling}}function Dh(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&La(u))}function Lh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&La(i))}function Zn(i,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dy(i,s,u,h),s=s.sibling}function dy(i,s,u,h){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Zn(i,s,u,h),m&2048&&Ga(9,s);break;case 1:Zn(i,s,u,h);break;case 3:Zn(i,s,u,h),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&La(i)));break;case 12:if(m&2048){Zn(i,s,u,h),i=s.stateNode;try{var y=s.memoizedProps,A=y.id,_=y.onPostCommit;typeof _=="function"&&_(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Wt(s,s.return,P)}}else Zn(i,s,u,h);break;case 31:Zn(i,s,u,h);break;case 13:Zn(i,s,u,h);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?Zn(i,s,u,h):Xa(i,s):y._visibility&2?Zn(i,s,u,h):(y._visibility|=2,kr(i,s,u,h,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Dh(A,s);break;case 24:Zn(i,s,u,h),m&2048&&Lh(s.alternate,s);break;default:Zn(i,s,u,h)}}function kr(i,s,u,h,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,A=s,_=u,P=h,K=A.flags;switch(A.tag){case 0:case 11:case 15:kr(y,A,_,P,m),Ga(8,A);break;case 23:break;case 22:var et=A.stateNode;A.memoizedState!==null?et._visibility&2?kr(y,A,_,P,m):Xa(y,A):(et._visibility|=2,kr(y,A,_,P,m)),m&&K&2048&&Dh(A.alternate,A);break;case 24:kr(y,A,_,P,m),m&&K&2048&&Lh(A.alternate,A);break;default:kr(y,A,_,P,m)}s=s.sibling}}function Xa(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,h=s,m=h.flags;switch(h.tag){case 22:Xa(u,h),m&2048&&Dh(h.alternate,h);break;case 24:Xa(u,h),m&2048&&Lh(h.alternate,h);break;default:Xa(u,h)}s=s.sibling}}var Ka=8192;function Dr(i,s,u){if(i.subtreeFlags&Ka)for(i=i.child;i!==null;)fy(i,s,u),i=i.sibling}function fy(i,s,u){switch(i.tag){case 26:Dr(i,s,u),i.flags&Ka&&i.memoizedState!==null&&Kw(u,Qn,i.memoizedState,i.memoizedProps);break;case 5:Dr(i,s,u);break;case 3:case 4:var h=Qn;Qn=Jl(i.stateNode.containerInfo),Dr(i,s,u),Qn=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Ka,Ka=16777216,Dr(i,s,u),Ka=h):Dr(i,s,u));break;default:Dr(i,s,u)}}function py(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function $a(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Be=h,my(h,i)}py(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gy(i),i=i.sibling}function gy(i){switch(i.tag){case 0:case 11:case 15:$a(i),i.flags&2048&&as(9,i,i.return);break;case 3:$a(i);break;case 12:$a(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ul(i)):$a(i);break;default:$a(i)}}function Ul(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Be=h,my(h,i)}py(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:as(8,s,s.return),Ul(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Ul(s));break;default:Ul(s)}i=i.sibling}}function my(i,s){for(;Be!==null;){var u=Be;switch(u.tag){case 0:case 11:case 15:as(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:La(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Be=h;else t:for(u=i;Be!==null;){h=Be;var m=h.sibling,y=h.return;if(ay(h),h===u){Be=null;break t}if(m!==null){m.return=y,Be=m;break t}Be=y}}}var uw={getCacheForType:function(i){var s=qe(_e),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u},cacheSignal:function(){return qe(_e).controller.signal}},cw=typeof WeakMap=="function"?WeakMap:Map,Vt=0,ne=null,Ot=null,Bt=0,$t=0,En=null,os=!1,Lr=!1,Nh=!1,Bi=0,Se=0,ls=0,Hs=0,Oh=0,xn=0,Nr=0,Wa=null,cn=null,Ph=!1,jl=0,yy=0,Hl=1/0,ql=null,us=null,Ne=0,cs=null,Or=null,Ii=0,Bh=0,Ih=null,by=null,Qa=0,zh=null;function Cn(){return(Vt&2)!==0&&Bt!==0?Bt&-Bt:B.T!==null?Vh():Op()}function vy(){if(xn===0)if((Bt&536870912)===0||Ft){var i=Qo;Qo<<=1,(Qo&3932160)===0&&(Qo=262144),xn=i}else xn=536870912;return i=An.current,i!==null&&(i.flags|=32),xn}function hn(i,s,u){(i===ne&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(Pr(i,0),hs(i,Bt,xn,!1)),ba(i,u),((Vt&2)===0||i!==ne)&&(i===ne&&((Vt&2)===0&&(Hs|=u),Se===4&&hs(i,Bt,xn,!1)),si(i))}function Sy(i,s,u){if((Vt&6)!==0)throw Error(n(327));var h=!u&&(s&127)===0&&(s&i.expiredLanes)===0||ya(i,s),m=h?fw(i,s):Uh(i,s,!0),y=h;do{if(m===0){Lr&&!h&&hs(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!hw(u)){m=Uh(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var _=i;m=Wa;var P=_.current.memoizedState.isDehydrated;if(P&&(Pr(_,A).flags|=256),A=Uh(_,A,!1),A!==2){if(Nh&&!P){_.errorRecoveryDisabledLanes|=y,Hs|=y,m=4;break t}y=cn,cn=m,y!==null&&(cn===null?cn=y:cn.push.apply(cn,y))}m=A}if(y=!1,m!==2)continue}}if(m===1){Pr(i,0),hs(i,s,0,!0);break}t:{switch(h=i,y=m,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:hs(h,s,xn,!os);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(m=jl+300-Ue(),10<m)){if(hs(h,s,xn,!os),Jo(h,0,!0)!==0)break t;Ii=s,h.timeoutHandle=Qy(Ay.bind(null,h,u,cn,ql,Ph,s,xn,Hs,Nr,os,y,"Throttled",-0,0),m);break t}Ay(h,u,cn,ql,Ph,s,xn,Hs,Nr,os,y,null,-0,0)}}break}while(!0);si(i)}function Ay(i,s,u,h,m,y,A,_,P,K,et,st,W,Z){if(i.timeoutHandle=-1,st=s.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wi},fy(s,y,st);var gt=(y&62914560)===y?jl-Ue():(y&4194048)===y?yy-Ue():0;if(gt=$w(st,gt),gt!==null){Ii=y,i.cancelPendingCommit=gt(My.bind(null,i,s,y,u,h,m,A,_,P,et,st,null,W,Z)),hs(i,y,A,!K);return}}My(i,s,y,u,h,m,A,_,P)}function hw(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var m=u[h],y=m.getSnapshot;m=m.value;try{if(!vn(y(),m))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hs(i,s,u,h){s&=~Oh,s&=~Hs,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var m=s;0<m;){var y=31-ee(m),A=1<<y;h[y]=-1,m&=~A}u!==0&&Dp(i,u,s)}function Vl(){return(Vt&6)===0?(Za(0),!1):!0}function Fh(){if(Ot!==null){if($t===0)var i=Ot.return;else i=Ot,_i=Ns=null,eh(i),Cr=null,Oa=0,i=Ot;for(;i!==null;)Zm(i.alternate,i),i=i.return;Ot=null}}function Pr(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,Dw(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ii=0,Fh(),ne=i,Ot=u=xi(i.current,null),Bt=s,$t=0,En=null,os=!1,Lr=ya(i,s),Nh=!1,Nr=xn=Oh=Hs=ls=Se=0,cn=Wa=null,Ph=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var m=31-ee(h),y=1<<m;s|=i[m],h&=~y}return Bi=s,hl(),u}function wy(i,s){Mt=null,B.H=Ha,s===xr||s===vl?(s=zg(),$t=3):s===qc?(s=zg(),$t=4):$t=s===yh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,En=s,Ot===null&&(Se=1,Nl(i,In(s,i.current)))}function Ey(){var i=An.current;return i===null?!0:(Bt&4194048)===Bt?jn===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?i===jn:!1}function xy(){var i=B.H;return B.H=Ha,i===null?Ha:i}function Cy(){var i=B.A;return B.A=uw,i}function Gl(){Se=4,os||(Bt&4194048)!==Bt&&An.current!==null||(Lr=!0),(ls&134217727)===0&&(Hs&134217727)===0||ne===null||hs(ne,Bt,xn,!1)}function Uh(i,s,u){var h=Vt;Vt|=2;var m=xy(),y=Cy();(ne!==i||Bt!==s)&&(ql=null,Pr(i,s)),s=!1;var A=Se;t:do try{if($t!==0&&Ot!==null){var _=Ot,P=En;switch($t){case 8:Fh(),A=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var K=$t;if($t=0,En=null,Br(i,_,P,K),u&&Lr){A=0;break t}break;default:K=$t,$t=0,En=null,Br(i,_,P,K)}}dw(),A=Se;break}catch(et){wy(i,et)}while(!0);return s&&i.shellSuspendCounter++,_i=Ns=null,Vt=h,B.H=m,B.A=y,Ot===null&&(ne=null,Bt=0,hl()),A}function dw(){for(;Ot!==null;)_y(Ot)}function fw(i,s){var u=Vt;Vt|=2;var h=xy(),m=Cy();ne!==i||Bt!==s?(ql=null,Hl=Ue()+500,Pr(i,s)):Lr=ya(i,s);t:do try{if($t!==0&&Ot!==null){s=Ot;var y=En;e:switch($t){case 1:$t=0,En=null,Br(i,s,y,1);break;case 2:case 9:if(Bg(y)){$t=0,En=null,Ty(s);break}s=function(){$t!==2&&$t!==9||ne!==i||($t=7),si(i)},y.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Bg(y)?($t=0,En=null,Ty(s)):($t=0,En=null,Br(i,s,y,7));break;case 5:var A=null;switch(Ot.tag){case 26:A=Ot.memoizedState;case 5:case 27:var _=Ot;if(A?db(A):_.stateNode.complete){$t=0,En=null;var P=_.sibling;if(P!==null)Ot=P;else{var K=_.return;K!==null?(Ot=K,Yl(K)):Ot=null}break e}}$t=0,En=null,Br(i,s,y,5);break;case 6:$t=0,En=null,Br(i,s,y,6);break;case 8:Fh(),Se=6;break t;default:throw Error(n(462))}}pw();break}catch(et){wy(i,et)}while(!0);return _i=Ns=null,B.H=h,B.A=m,Vt=u,Ot!==null?0:(ne=null,Bt=0,hl(),Se)}function pw(){for(;Ot!==null&&!ga();)_y(Ot)}function _y(i){var s=Wm(i.alternate,i,Bi);i.memoizedProps=i.pendingProps,s===null?Yl(i):Ot=s}function Ty(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=Vm(u,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=Vm(u,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:eh(s);default:Zm(u,s),s=Ot=Cg(s,Bi),s=Wm(u,s,Bi)}i.memoizedProps=i.pendingProps,s===null?Yl(i):Ot=s}function Br(i,s,u,h){_i=Ns=null,eh(s),Cr=null,Oa=0;var m=s.return;try{if(nw(i,m,s,u,Bt)){Se=1,Nl(i,In(u,i.current)),Ot=null;return}}catch(y){if(m!==null)throw Ot=m,y;Se=1,Nl(i,In(u,i.current)),Ot=null;return}s.flags&32768?(Ft||h===1?i=!0:Lr||(Bt&536870912)!==0?i=!1:(os=i=!0,(h===2||h===9||h===3||h===6)&&(h=An.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ry(s,i)):Yl(s)}function Yl(i){var s=i;do{if((s.flags&32768)!==0){Ry(s,os);return}i=s.return;var u=rw(s.alternate,s,Bi);if(u!==null){Ot=u;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=i}while(s!==null);Se===0&&(Se=5)}function Ry(i,s){do{var u=aw(i.alternate,i);if(u!==null){u.flags&=32767,Ot=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=u}while(i!==null);Se=6,Ot=null}function My(i,s,u,h,m,y,A,_,P){i.cancelPendingCommit=null;do Xl();while(Ne!==0);if((Vt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Rc,XA(i,u,y,A,_,P),i===ne&&(Ot=ne=null,Bt=0),Or=s,cs=i,Ii=u,Bh=y,Ih=m,by=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,bw(St,function(){return Oy(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,m=Y.p,Y.p=2,A=Vt,Vt|=4;try{ow(i,s,u)}finally{Vt=A,Y.p=m,B.T=h}}Ne=1,ky(),Dy(),Ly()}}function ky(){if(Ne===1){Ne=0;var i=cs,s=Or,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var h=Y.p;Y.p=2;var m=Vt;Vt|=4;try{cy(s,i);var y=Zh,A=mg(i.containerInfo),_=y.focusedElem,P=y.selectionRange;if(A!==_&&_&&_.ownerDocument&&gg(_.ownerDocument.documentElement,_)){if(P!==null&&Ec(_)){var K=P.start,et=P.end;if(et===void 0&&(et=K),"selectionStart"in _)_.selectionStart=K,_.selectionEnd=Math.min(et,_.value.length);else{var st=_.ownerDocument||document,W=st&&st.defaultView||window;if(W.getSelection){var Z=W.getSelection(),gt=_.textContent.length,vt=Math.min(P.start,gt),Jt=P.end===void 0?vt:Math.min(P.end,gt);!Z.extend&&vt>Jt&&(A=Jt,Jt=vt,vt=A);var q=pg(_,vt),U=pg(_,Jt);if(q&&U&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var X=st.createRange();X.setStart(q.node,q.offset),Z.removeAllRanges(),vt>Jt?(Z.addRange(X),Z.extend(U.node,U.offset)):(X.setEnd(U.node,U.offset),Z.addRange(X))}}}}for(st=[],Z=_;Z=Z.parentNode;)Z.nodeType===1&&st.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<st.length;_++){var it=st[_];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}ru=!!Qh,Zh=Qh=null}finally{Vt=m,Y.p=h,B.T=u}}i.current=s,Ne=2}}function Dy(){if(Ne===2){Ne=0;var i=cs,s=Or,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var h=Y.p;Y.p=2;var m=Vt;Vt|=4;try{ry(i,s.alternate,s)}finally{Vt=m,Y.p=h,B.T=u}}Ne=3}}function Ly(){if(Ne===4||Ne===3){Ne=0,Xi();var i=cs,s=Or,u=Ii,h=by;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ne=5:(Ne=0,Or=cs=null,Ny(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(us=null),sc(u),s=s.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Je,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,m=Y.p,Y.p=2,B.T=null;try{for(var y=i.onRecoverableError,A=0;A<h.length;A++){var _=h[A];y(_.value,{componentStack:_.stack})}}finally{B.T=s,Y.p=m}}(Ii&3)!==0&&Xl(),si(i),m=i.pendingLanes,(u&261930)!==0&&(m&42)!==0?i===zh?Qa++:(Qa=0,zh=i):Qa=0,Za(0)}}function Ny(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,La(s)))}function Xl(){return ky(),Dy(),Ly(),Oy()}function Oy(){if(Ne!==5)return!1;var i=cs,s=Bh;Bh=0;var u=sc(Ii),h=B.T,m=Y.p;try{Y.p=32>u?32:u,B.T=null,u=Ih,Ih=null;var y=cs,A=Ii;if(Ne=0,Or=cs=null,Ii=0,(Vt&6)!==0)throw Error(n(331));var _=Vt;if(Vt|=4,gy(y.current),dy(y,y.current,A,u),Vt=_,Za(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Je,y)}catch{}return!0}finally{Y.p=m,B.T=h,Ny(i,s)}}function Py(i,s,u){s=In(u,s),s=mh(i.stateNode,s,2),i=is(i,s,2),i!==null&&(ba(i,2),si(i))}function Wt(i,s,u){if(i.tag===3)Py(i,i,u);else for(;s!==null;){if(s.tag===3){Py(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(us===null||!us.has(h))){i=In(u,i),u=Bm(2),h=is(s,u,2),h!==null&&(Im(u,h,s,i),ba(h,2),si(h));break}}s=s.return}}function jh(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new cw;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(u)||(Nh=!0,m.add(u),i=gw.bind(null,i,s,u),s.then(i,i))}function gw(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,ne===i&&(Bt&u)===u&&(Se===4||Se===3&&(Bt&62914560)===Bt&&300>Ue()-jl?(Vt&2)===0&&Pr(i,0):Oh|=u,Nr===Bt&&(Nr=0)),si(i)}function By(i,s){s===0&&(s=kp()),i=ks(i,s),i!==null&&(ba(i,s),si(i))}function mw(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),By(i,u)}function yw(i,s){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(s),By(i,u)}function bw(i,s){return Yi(i,s)}var Kl=null,Ir=null,Hh=!1,$l=!1,qh=!1,ds=0;function si(i){i!==Ir&&i.next===null&&(Ir===null?Kl=Ir=i:Ir=Ir.next=i),$l=!0,Hh||(Hh=!0,Sw())}function Za(i,s){if(!qh&&$l){qh=!0;do for(var u=!1,h=Kl;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var A=h.suspendedLanes,_=h.pingedLanes;y=(1<<31-ee(42|i)+1)-1,y&=m&~(A&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Uy(h,y))}else y=Bt,y=Jo(h,h===ne?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ya(h,y)||(u=!0,Uy(h,y));h=h.next}while(u);qh=!1}}function vw(){Iy()}function Iy(){$l=Hh=!1;var i=0;ds!==0&&kw()&&(i=ds);for(var s=Ue(),u=null,h=Kl;h!==null;){var m=h.next,y=zy(h,s);y===0?(h.next=null,u===null?Kl=m:u.next=m,m===null&&(Ir=u)):(u=h,(i!==0||(y&3)!==0)&&($l=!0)),h=m}Ne!==0&&Ne!==5||Za(i),ds!==0&&(ds=0)}function zy(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var A=31-ee(y),_=1<<A,P=m[A];P===-1?((_&u)===0||(_&h)!==0)&&(m[A]=YA(_,s)):P<=s&&(i.expiredLanes|=_),y&=~_}if(s=ne,u=Bt,u=Jo(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Si(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ya(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(h!==null&&Si(h),sc(u)){case 2:case 8:u=lt;break;case 32:u=St;break;case 268435456:u=Nt;break;default:u=St}return h=Fy.bind(null,i),u=Yi(u,h),i.callbackPriority=s,i.callbackNode=u,s}return h!==null&&h!==null&&Si(h),i.callbackPriority=2,i.callbackNode=null,2}function Fy(i,s){if(Ne!==0&&Ne!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Xl()&&i.callbackNode!==u)return null;var h=Bt;return h=Jo(i,i===ne?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Sy(i,h,s),zy(i,Ue()),i.callbackNode!=null&&i.callbackNode===u?Fy.bind(null,i):null)}function Uy(i,s){if(Xl())return null;Sy(i,s,!0)}function Sw(){Lw(function(){(Vt&6)!==0?Yi(nt,vw):Iy()})}function Vh(){if(ds===0){var i=wr;i===0&&(i=Wo,Wo<<=1,(Wo&261888)===0&&(Wo=256)),ds=i}return ds}function jy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:il(""+i)}function Hy(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function Aw(i,s,u,h,m){if(s==="submit"&&u&&u.stateNode===m){var y=jy((m[rn]||null).action),A=h.submitter;A&&(s=(s=A[rn]||null)?jy(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var _=new ol("action","action",null,h,m);i.push({event:_,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ds!==0){var P=A?Hy(m,A):new FormData(m);ch(u,{pending:!0,data:P,method:m.method,action:y},null,P)}}else typeof y=="function"&&(_.preventDefault(),P=A?Hy(m,A):new FormData(m),ch(u,{pending:!0,data:P,method:m.method,action:y},y,P))},currentTarget:m}]})}}for(var Gh=0;Gh<Tc.length;Gh++){var Yh=Tc[Gh],ww=Yh.toLowerCase(),Ew=Yh[0].toUpperCase()+Yh.slice(1);Wn(ww,"on"+Ew)}Wn(vg,"onAnimationEnd"),Wn(Sg,"onAnimationIteration"),Wn(Ag,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(F1,"onTransitionRun"),Wn(U1,"onTransitionStart"),Wn(j1,"onTransitionCancel"),Wn(wg,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_s("onBeforeInput",["compositionend","keypress","textInput","paste"]),_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function qy(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],m=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var A=h.length-1;0<=A;A--){var _=h[A],P=_.instance,K=_.currentTarget;if(_=_.listener,P!==y&&m.isPropagationStopped())break t;y=_,m.currentTarget=K;try{y(m)}catch(et){cl(et)}m.currentTarget=null,y=P}else for(A=0;A<h.length;A++){if(_=h[A],P=_.instance,K=_.currentTarget,_=_.listener,P!==y&&m.isPropagationStopped())break t;y=_,m.currentTarget=K;try{y(m)}catch(et){cl(et)}m.currentTarget=null,y=P}}}}function Pt(i,s){var u=s[rc];u===void 0&&(u=s[rc]=new Set);var h=i+"__bubble";u.has(h)||(Vy(s,i,2,!1),u.add(h))}function Xh(i,s,u){var h=0;s&&(h|=4),Vy(u,i,h,s)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Kh(i){if(!i[Wl]){i[Wl]=!0,Ip.forEach(function(u){u!=="selectionchange"&&(xw.has(u)||Xh(u,!1,i),Xh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Wl]||(s[Wl]=!0,Xh("selectionchange",!1,s))}}function Vy(i,s,u,h){switch(vb(s)){case 2:var m=Zw;break;case 8:m=Jw;break;default:m=ud}u=m.bind(null,s,u,i),m=void 0,!pc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(s,u,{capture:!0,passive:m}):i.addEventListener(s,u,!0):m!==void 0?i.addEventListener(s,u,{passive:m}):i.addEventListener(s,u,!1)}function $h(i,s,u,h,m){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var _=h.stateNode.containerInfo;if(_===m)break;if(A===4)for(A=h.return;A!==null;){var P=A.tag;if((P===3||P===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;_!==null;){if(A=rr(_),A===null)return;if(P=A.tag,P===5||P===6||P===26||P===27){h=y=A;continue t}_=_.parentNode}}h=h.return}$p(function(){var K=y,et=dc(u),st=[];t:{var W=Eg.get(i);if(W!==void 0){var Z=ol,gt=i;switch(i){case"keypress":if(rl(u)===0)break t;case"keydown":case"keyup":Z=y1;break;case"focusin":gt="focus",Z=bc;break;case"focusout":gt="blur",Z=bc;break;case"beforeblur":case"afterblur":Z=bc;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=r1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=S1;break;case vg:case Sg:case Ag:Z=l1;break;case wg:Z=w1;break;case"scroll":case"scrollend":Z=i1;break;case"wheel":Z=x1;break;case"copy":case"cut":case"paste":Z=c1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=tg;break;case"toggle":case"beforetoggle":Z=_1}var vt=(s&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),q=vt?W!==null?W+"Capture":null:W;vt=[];for(var U=K,X;U!==null;){var it=U;if(X=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||X===null||q===null||(it=Aa(U,q),it!=null&&vt.push(to(U,it,X))),Jt)break;U=U.return}0<vt.length&&(W=new Z(W,gt,null,u,et),st.push({event:W,listeners:vt}))}}if((s&7)===0){t:{if(W=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",W&&u!==hc&&(gt=u.relatedTarget||u.fromElement)&&(rr(gt)||gt[sr]))break t;if((Z||W)&&(W=et.window===et?et:(W=et.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(gt=u.relatedTarget||u.toElement,Z=K,gt=gt?rr(gt):null,gt!==null&&(Jt=o(gt),vt=gt.tag,gt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(gt=null)):(Z=null,gt=K),Z!==gt)){if(vt=Zp,it="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(vt=tg,it="onPointerLeave",q="onPointerEnter",U="pointer"),Jt=Z==null?W:Sa(Z),X=gt==null?W:Sa(gt),W=new vt(it,U+"leave",Z,u,et),W.target=Jt,W.relatedTarget=X,it=null,rr(et)===K&&(vt=new vt(q,U+"enter",gt,u,et),vt.target=X,vt.relatedTarget=Jt,it=vt),Jt=it,Z&&gt)e:{for(vt=Cw,q=Z,U=gt,X=0,it=q;it;it=vt(it))X++;it=0;for(var yt=U;yt;yt=vt(yt))it++;for(;0<X-it;)q=vt(q),X--;for(;0<it-X;)U=vt(U),it--;for(;X--;){if(q===U||U!==null&&q===U.alternate){vt=q;break e}q=vt(q),U=vt(U)}vt=null}else vt=null;Z!==null&&Gy(st,W,Z,vt,!1),gt!==null&&Jt!==null&&Gy(st,Jt,gt,vt,!0)}}t:{if(W=K?Sa(K):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var jt=lg;else if(ag(W))if(ug)jt=B1;else{jt=O1;var mt=N1}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&cc(K.elementType)&&(jt=lg):jt=P1;if(jt&&(jt=jt(i,K))){og(st,jt,u,et);break t}mt&&mt(i,W,K),i==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&uc(W,"number",W.value)}switch(mt=K?Sa(K):window,i){case"focusin":(ag(mt)||mt.contentEditable==="true")&&(pr=mt,xc=K,Ma=null);break;case"focusout":Ma=xc=pr=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,yg(st,u,et);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":yg(st,u,et)}var kt;if(Sc)t:{switch(i){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else fr?sg(i,u)&&(It="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(It="onCompositionStart");It&&(eg&&u.locale!=="ko"&&(fr||It!=="onCompositionStart"?It==="onCompositionEnd"&&fr&&(kt=Wp()):(Wi=et,gc="value"in Wi?Wi.value:Wi.textContent,fr=!0)),mt=Ql(K,It),0<mt.length&&(It=new Jp(It,i,null,u,et),st.push({event:It,listeners:mt}),kt?It.data=kt:(kt=rg(u),kt!==null&&(It.data=kt)))),(kt=R1?M1(i,u):k1(i,u))&&(It=Ql(K,"onBeforeInput"),0<It.length&&(mt=new Jp("onBeforeInput","beforeinput",null,u,et),st.push({event:mt,listeners:It}),mt.data=kt)),Aw(st,i,K,u,et)}qy(st,s)})}function to(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Ql(i,s){for(var u=s+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Aa(i,u),m!=null&&h.unshift(to(i,m,y)),m=Aa(i,s),m!=null&&h.push(to(i,m,y))),i.tag===3)return h;i=i.return}return[]}function Cw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Gy(i,s,u,h,m){for(var y=s._reactName,A=[];u!==null&&u!==h;){var _=u,P=_.alternate,K=_.stateNode;if(_=_.tag,P!==null&&P===h)break;_!==5&&_!==26&&_!==27||K===null||(P=K,m?(K=Aa(u,y),K!=null&&A.unshift(to(u,K,P))):m||(K=Aa(u,y),K!=null&&A.push(to(u,K,P)))),u=u.return}A.length!==0&&i.push({event:s,listeners:A})}var _w=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function Yy(i){return(typeof i=="string"?i:""+i).replace(_w,`
`).replace(Tw,"")}function Xy(i,s){return s=Yy(s),Yy(i)===s}function Zt(i,s,u,h,m,y){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||cr(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&cr(i,""+h);break;case"className":el(i,"class",h);break;case"tabIndex":el(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":el(i,u,h);break;case"style":Xp(i,h,y);break;case"data":if(s!=="object"){el(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=il(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&Zt(i,s,"name",m.name,m,null),Zt(i,s,"formEncType",m.formEncType,m,null),Zt(i,s,"formMethod",m.formMethod,m,null),Zt(i,s,"formTarget",m.formTarget,m,null)):(Zt(i,s,"encType",m.encType,m,null),Zt(i,s,"method",m.method,m,null),Zt(i,s,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=il(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=wi);break;case"onScroll":h!=null&&Pt("scroll",i);break;case"onScrollEnd":h!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=il(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),tl(i,"popover",h);break;case"xlinkActuate":Ai(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ai(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ai(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ai(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ai(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ai(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":tl(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=e1.get(u)||u,tl(i,u,h))}}function Wh(i,s,u,h,m,y){switch(u){case"style":Xp(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof h=="string"?cr(i,h):(typeof h=="number"||typeof h=="bigint")&&cr(i,""+h);break;case"onScroll":h!=null&&Pt("scroll",i);break;case"onScrollEnd":h!=null&&Pt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=wi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zp.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),s=u.slice(2,m?u.length-7:void 0),y=i[rn]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,h,m);break t}u in i?i[u]=h:h===!0?i.setAttribute(u,""):tl(i,u,h)}}}function Ge(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var h=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var A=u[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Zt(i,s,y,A,u,null)}}m&&Zt(i,s,"srcSet",u.srcSet,u,null),h&&Zt(i,s,"src",u.src,u,null);return;case"input":Pt("invalid",i);var _=y=A=m=null,P=null,K=null;for(h in u)if(u.hasOwnProperty(h)){var et=u[h];if(et!=null)switch(h){case"name":m=et;break;case"type":A=et;break;case"checked":P=et;break;case"defaultChecked":K=et;break;case"value":y=et;break;case"defaultValue":_=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,s));break;default:Zt(i,s,h,et,u,null)}}qp(i,y,_,P,K,A,m,!1);return;case"select":Pt("invalid",i),h=A=y=null;for(m in u)if(u.hasOwnProperty(m)&&(_=u[m],_!=null))switch(m){case"value":y=_;break;case"defaultValue":A=_;break;case"multiple":h=_;default:Zt(i,s,m,_,u,null)}s=y,u=A,i.multiple=!!h,s!=null?ur(i,!!h,s,!1):u!=null&&ur(i,!!h,u,!0);return;case"textarea":Pt("invalid",i),y=m=h=null;for(A in u)if(u.hasOwnProperty(A)&&(_=u[A],_!=null))switch(A){case"value":h=_;break;case"defaultValue":m=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:Zt(i,s,A,_,u,null)}Gp(i,h,m,y);return;case"option":for(P in u)u.hasOwnProperty(P)&&(h=u[P],h!=null)&&(P==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Zt(i,s,P,h,u,null));return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(h=0;h<Ja.length;h++)Pt(Ja[h],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in u)if(u.hasOwnProperty(K)&&(h=u[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Zt(i,s,K,h,u,null)}return;default:if(cc(s)){for(et in u)u.hasOwnProperty(et)&&(h=u[et],h!==void 0&&Wh(i,s,et,h,u,void 0));return}}for(_ in u)u.hasOwnProperty(_)&&(h=u[_],h!=null&&Zt(i,s,_,h,u,null))}function Rw(i,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,_=null,P=null,K=null,et=null;for(Z in u){var st=u[Z];if(u.hasOwnProperty(Z)&&st!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=st;default:h.hasOwnProperty(Z)||Zt(i,s,Z,null,h,st)}}for(var W in h){var Z=h[W];if(st=u[W],h.hasOwnProperty(W)&&(Z!=null||st!=null))switch(W){case"type":y=Z;break;case"name":m=Z;break;case"checked":K=Z;break;case"defaultChecked":et=Z;break;case"value":A=Z;break;case"defaultValue":_=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,s));break;default:Z!==st&&Zt(i,s,W,Z,h,st)}}lc(i,A,_,P,K,et,y,m);return;case"select":Z=A=_=W=null;for(y in u)if(P=u[y],u.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":Z=P;default:h.hasOwnProperty(y)||Zt(i,s,y,null,h,P)}for(m in h)if(y=h[m],P=u[m],h.hasOwnProperty(m)&&(y!=null||P!=null))switch(m){case"value":W=y;break;case"defaultValue":_=y;break;case"multiple":A=y;default:y!==P&&Zt(i,s,m,y,h,P)}s=_,u=A,h=Z,W!=null?ur(i,!!u,W,!1):!!h!=!!u&&(s!=null?ur(i,!!u,s,!0):ur(i,!!u,u?[]:"",!1));return;case"textarea":Z=W=null;for(_ in u)if(m=u[_],u.hasOwnProperty(_)&&m!=null&&!h.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Zt(i,s,_,null,h,m)}for(A in h)if(m=h[A],y=u[A],h.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":W=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==y&&Zt(i,s,A,m,h,y)}Vp(i,W,Z);return;case"option":for(var gt in u)W=u[gt],u.hasOwnProperty(gt)&&W!=null&&!h.hasOwnProperty(gt)&&(gt==="selected"?i.selected=!1:Zt(i,s,gt,null,h,W));for(P in h)W=h[P],Z=u[P],h.hasOwnProperty(P)&&W!==Z&&(W!=null||Z!=null)&&(P==="selected"?i.selected=W&&typeof W!="function"&&typeof W!="symbol":Zt(i,s,P,W,h,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in u)W=u[vt],u.hasOwnProperty(vt)&&W!=null&&!h.hasOwnProperty(vt)&&Zt(i,s,vt,null,h,W);for(K in h)if(W=h[K],Z=u[K],h.hasOwnProperty(K)&&W!==Z&&(W!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,s));break;default:Zt(i,s,K,W,h,Z)}return;default:if(cc(s)){for(var Jt in u)W=u[Jt],u.hasOwnProperty(Jt)&&W!==void 0&&!h.hasOwnProperty(Jt)&&Wh(i,s,Jt,void 0,h,W);for(et in h)W=h[et],Z=u[et],!h.hasOwnProperty(et)||W===Z||W===void 0&&Z===void 0||Wh(i,s,et,W,h,Z);return}}for(var q in u)W=u[q],u.hasOwnProperty(q)&&W!=null&&!h.hasOwnProperty(q)&&Zt(i,s,q,null,h,W);for(st in h)W=h[st],Z=u[st],!h.hasOwnProperty(st)||W===Z||W==null&&Z==null||Zt(i,s,st,W,h,Z)}function Ky(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var m=u[h],y=m.transferSize,A=m.initiatorType,_=m.duration;if(y&&_&&Ky(A)){for(A=0,_=m.responseEnd,h+=1;h<u.length;h++){var P=u[h],K=P.startTime;if(K>_)break;var et=P.transferSize,st=P.initiatorType;et&&Ky(st)&&(P=P.responseEnd,A+=et*(P<_?1:(_-K)/(P-K)))}if(--h,s+=8*(y+A)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qh=null,Zh=null;function Zl(i){return i.nodeType===9?i:i.ownerDocument}function $y(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Jh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var td=null;function kw(){var i=window.event;return i&&i.type==="popstate"?i===td?!1:(td=i,!0):(td=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(i){return Zy.resolve(null).then(i).catch(Nw)}:Qy;function Nw(i){setTimeout(function(){throw i})}function fs(i){return i==="head"}function Jy(i,s){var u=s,h=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(m),jr(s);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")eo(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,eo(u);for(var y=u.firstChild;y;){var A=y.nextSibling,_=y.nodeName;y[va]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=A}}else u==="body"&&eo(i.ownerDocument.body);u=m}while(u);jr(s)}function tb(i,s){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function ed(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ed(u),ac(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function Ow(i,s,u,h){for(;i.nodeType===1;){var m=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[va])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Hn(i.nextSibling),i===null)break}return null}function Pw(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Hn(i.nextSibling),i===null))return null;return i}function eb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Hn(i.nextSibling),i===null))return null;return i}function nd(i){return i.data==="$?"||i.data==="$~"}function id(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Bw(i,s){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||u.readyState!=="loading")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Hn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var sd=null;function nb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(s===0)return Hn(i.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}i=i.nextSibling}return null}function ib(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return i;s--}else u!=="/$"&&u!=="/&"||s++}i=i.previousSibling}return null}function sb(i,s,u){switch(s=Zl(u),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function eo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ac(i)}var qn=new Map,rb=new Set;function Jl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var zi=Y.d;Y.d={f:Iw,r:zw,D:Fw,C:Uw,L:jw,m:Hw,X:Vw,S:qw,M:Gw};function Iw(){var i=zi.f(),s=Vl();return i||s}function zw(i){var s=ar(i);s!==null&&s.tag===5&&s.type==="form"?wm(s):zi.r(i)}var zr=typeof document>"u"?null:document;function ab(i,s,u){var h=zr;if(h&&typeof s=="string"&&s){var m=Pn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),rb.has(m)||(rb.add(m),i={rel:i,crossOrigin:u,href:s},h.querySelector(m)===null&&(s=h.createElement("link"),Ge(s,"link",i),Pe(s),h.head.appendChild(s)))}}function Fw(i){zi.D(i),ab("dns-prefetch",i,null)}function Uw(i,s){zi.C(i,s),ab("preconnect",i,s)}function jw(i,s,u){zi.L(i,s,u);var h=zr;if(h&&i&&s){var m='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Pn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Pn(u.imageSizes)+'"]')):m+='[href="'+Pn(i)+'"]';var y=m;switch(s){case"style":y=Fr(i);break;case"script":y=Ur(i)}qn.has(y)||(i=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),qn.set(y,i),h.querySelector(m)!==null||s==="style"&&h.querySelector(no(y))||s==="script"&&h.querySelector(io(y))||(s=h.createElement("link"),Ge(s,"link",i),Pe(s),h.head.appendChild(s)))}}function Hw(i,s){zi.m(i,s);var u=zr;if(u&&i){var h=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Pn(h)+'"][href="'+Pn(i)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ur(i)}if(!qn.has(y)&&(i=g({rel:"modulepreload",href:i},s),qn.set(y,i),u.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(io(y)))return}h=u.createElement("link"),Ge(h,"link",i),Pe(h),u.head.appendChild(h)}}}function qw(i,s,u){zi.S(i,s,u);var h=zr;if(h&&i){var m=or(h).hoistableStyles,y=Fr(i);s=s||"default";var A=m.get(y);if(!A){var _={loading:0,preload:null};if(A=h.querySelector(no(y)))_.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},u),(u=qn.get(y))&&rd(i,u);var P=A=h.createElement("link");Pe(P),Ge(P,"link",i),P._p=new Promise(function(K,et){P.onload=K,P.onerror=et}),P.addEventListener("load",function(){_.loading|=1}),P.addEventListener("error",function(){_.loading|=2}),_.loading|=4,tu(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:_},m.set(y,A)}}}function Vw(i,s){zi.X(i,s);var u=zr;if(u&&i){var h=or(u).hoistableScripts,m=Ur(i),y=h.get(m);y||(y=u.querySelector(io(m)),y||(i=g({src:i,async:!0},s),(s=qn.get(m))&&ad(i,s),y=u.createElement("script"),Pe(y),Ge(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function Gw(i,s){zi.M(i,s);var u=zr;if(u&&i){var h=or(u).hoistableScripts,m=Ur(i),y=h.get(m);y||(y=u.querySelector(io(m)),y||(i=g({src:i,async:!0,type:"module"},s),(s=qn.get(m))&&ad(i,s),y=u.createElement("script"),Pe(y),Ge(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function ob(i,s,u,h){var m=(m=ut.current)?Jl(m):null;if(!m)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Fr(u.href),u=or(m).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Fr(u.href);var y=or(m).hoistableStyles,A=y.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,A),(y=m.querySelector(no(i)))&&!y._p&&(A.instance=y,A.state.loading=5),qn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},qn.set(i,u),y||Yw(m,i,u,A.state))),s&&h===null)throw Error(n(528,""));return A}if(s&&h!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ur(u),u=or(m).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Fr(i){return'href="'+Pn(i)+'"'}function no(i){return'link[rel="stylesheet"]['+i+"]"}function lb(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function Yw(i,s,u,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Ge(s,"link",u),Pe(s),i.head.appendChild(s))}function Ur(i){return'[src="'+Pn(i)+'"]'}function io(i){return"script[async]"+i}function ub(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Pn(u.href)+'"]');if(h)return s.instance=h,Pe(h),h;var m=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Pe(h),Ge(h,"style",m),tu(h,u.precedence,i),s.instance=h;case"stylesheet":m=Fr(u.href);var y=i.querySelector(no(m));if(y)return s.state.loading|=4,s.instance=y,Pe(y),y;h=lb(u),(m=qn.get(m))&&rd(h,m),y=(i.ownerDocument||i).createElement("link"),Pe(y);var A=y;return A._p=new Promise(function(_,P){A.onload=_,A.onerror=P}),Ge(y,"link",h),s.state.loading|=4,tu(y,u.precedence,i),s.instance=y;case"script":return y=Ur(u.src),(m=i.querySelector(io(y)))?(s.instance=m,Pe(m),m):(h=u,(m=qn.get(y))&&(h=g({},u),ad(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),Pe(m),Ge(m,"link",h),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,tu(h,u.precedence,i));return s.instance}function tu(i,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,A=0;A<h.length;A++){var _=h[A];if(_.dataset.precedence===s)y=_;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function rd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ad(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var eu=null;function cb(i,s,u){if(eu===null){var h=new Map,m=eu=new Map;m.set(u,h)}else m=eu,h=m.get(u),h||(h=new Map,m.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),m=0;m<u.length;m++){var y=u[m];if(!(y[va]||y[je]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=i+A;var _=h.get(A);_?_.push(y):h.set(A,[y])}}return h}function hb(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function Xw(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function db(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Kw(i,s,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var m=Fr(h.href),y=s.querySelector(no(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=nu.bind(i),s.then(i,i)),u.state.loading|=4,u.instance=y,Pe(y);return}y=s.ownerDocument||s,h=lb(h),(m=qn.get(m))&&rd(h,m),y=y.createElement("link"),Pe(y);var A=y;A._p=new Promise(function(_,P){A.onload=_,A.onerror=P}),Ge(y,"link",h),u.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=nu.bind(i),s.addEventListener("load",u),s.addEventListener("error",u))}}var od=0;function $w(i,s){return i.stylesheets&&i.count===0&&su(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&su(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&od===0&&(od=62500*Mw());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&su(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>od?50:800)+s);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function nu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)su(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var iu=null;function su(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,iu=new Map,s.forEach(Ww,i),iu=null,nu.call(i))}function Ww(i,s){if(!(s.state.loading&4)){var u=iu.get(i);if(u)var h=u.get(null);else{u=new Map,iu.set(i,u);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}m=s.instance,A=m.getAttribute("data-precedence"),y=u.get(A)||h,y===h&&u.set(null,m),u.set(A,m),this.count++,h=nu.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var so={$$typeof:C,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function Qw(i,s,u,h,m,y,A,_,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.hiddenUpdates=nc(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function fb(i,s,u,h,m,y,A,_,P,K,et,st){return i=new Qw(i,s,u,A,P,K,et,st,_),s=1,y===!0&&(s|=24),y=Sn(3,null,null,s),i.current=y,y.stateNode=i,s=Uc(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:s},Vc(y),i}function pb(i){return i?(i=yr,i):yr}function gb(i,s,u,h,m,y){m=pb(m),h.context===null?h.context=m:h.pendingContext=m,h=ns(s),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=is(i,h,s),u!==null&&(hn(u,i,s),Ba(u,i,s))}function mb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function ld(i,s){mb(i,s),(i=i.alternate)&&mb(i,s)}function yb(i){if(i.tag===13||i.tag===31){var s=ks(i,67108864);s!==null&&hn(s,i,67108864),ld(i,67108864)}}function bb(i){if(i.tag===13||i.tag===31){var s=Cn();s=ic(s);var u=ks(i,s);u!==null&&hn(u,i,s),ld(i,s)}}var ru=!0;function Zw(i,s,u,h){var m=B.T;B.T=null;var y=Y.p;try{Y.p=2,ud(i,s,u,h)}finally{Y.p=y,B.T=m}}function Jw(i,s,u,h){var m=B.T;B.T=null;var y=Y.p;try{Y.p=8,ud(i,s,u,h)}finally{Y.p=y,B.T=m}}function ud(i,s,u,h){if(ru){var m=cd(h);if(m===null)$h(i,s,h,au,u),Sb(i,h);else if(eE(m,i,s,u,h))h.stopPropagation();else if(Sb(i,h),s&4&&-1<tE.indexOf(i)){for(;m!==null;){var y=ar(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Cs(y.pendingLanes);if(A!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;A;){var P=1<<31-ee(A);_.entanglements[1]|=P,A&=~P}si(y),(Vt&6)===0&&(Hl=Ue()+500,Za(0))}}break;case 31:case 13:_=ks(y,2),_!==null&&hn(_,y,2),Vl(),ld(y,2)}if(y=cd(h),y===null&&$h(i,s,h,au,u),y===m)break;m=y}m!==null&&h.stopPropagation()}else $h(i,s,h,null,u)}}function cd(i){return i=dc(i),hd(i)}var au=null;function hd(i){if(au=null,i=rr(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===31){if(i=c(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return au=i,null}function vb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case nt:return 2;case lt:return 8;case St:case Ct:return 32;case Nt:return 268435456;default:return 32}default:return 32}}var dd=!1,ps=null,gs=null,ms=null,ro=new Map,ao=new Map,ys=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(i,s){switch(i){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":ro.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(s.pointerId)}}function oo(i,s,u,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},s!==null&&(s=ar(s),s!==null&&yb(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function eE(i,s,u,h,m){switch(s){case"focusin":return ps=oo(ps,i,s,u,h,m),!0;case"dragenter":return gs=oo(gs,i,s,u,h,m),!0;case"mouseover":return ms=oo(ms,i,s,u,h,m),!0;case"pointerover":var y=m.pointerId;return ro.set(y,oo(ro.get(y)||null,i,s,u,h,m)),!0;case"gotpointercapture":return y=m.pointerId,ao.set(y,oo(ao.get(y)||null,i,s,u,h,m)),!0}return!1}function Ab(i){var s=rr(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,Pp(i.priority,function(){bb(u)});return}}else if(s===31){if(s=c(u),s!==null){i.blockedOn=s,Pp(i.priority,function(){bb(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ou(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=cd(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);hc=h,u.target.dispatchEvent(h),hc=null}else return s=ar(u),s!==null&&yb(s),i.blockedOn=u,!1;s.shift()}return!0}function wb(i,s,u){ou(i)&&u.delete(s)}function nE(){dd=!1,ps!==null&&ou(ps)&&(ps=null),gs!==null&&ou(gs)&&(gs=null),ms!==null&&ou(ms)&&(ms=null),ro.forEach(wb),ao.forEach(wb)}function lu(i,s){i.blockedOn===s&&(i.blockedOn=null,dd||(dd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,nE)))}var uu=null;function Eb(i){uu!==i&&(uu=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){uu===i&&(uu=null);for(var s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],m=i[s+2];if(typeof h!="function"){if(hd(h||u)===null)continue;break}var y=ar(u);y!==null&&(i.splice(s,3),s-=3,ch(y,{pending:!0,data:m,method:u.method,action:h},h,m))}}))}function jr(i){function s(P){return lu(P,i)}ps!==null&&lu(ps,i),gs!==null&&lu(gs,i),ms!==null&&lu(ms,i),ro.forEach(s),ao.forEach(s);for(var u=0;u<ys.length;u++){var h=ys[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ys.length&&(u=ys[0],u.blockedOn===null);)Ab(u),u.blockedOn===null&&ys.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var m=u[h],y=u[h+1],A=m[rn]||null;if(typeof y=="function")A||Eb(u);else if(A){var _=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[rn]||null)_=A.formAction;else if(hd(m)!==null)continue}else _=A.action;typeof _=="function"?u[h+1]=_:(u.splice(h,3),h-=3),Eb(u)}}}function xb(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return m=A})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function fd(i){this._internalRoot=i}cu.prototype.render=fd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,h=Cn();gb(u,h,i,s,null,null)},cu.prototype.unmount=fd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;gb(i.current,2,null,i,null,null),Vl(),s[sr]=null}};function cu(i){this._internalRoot=i}cu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Op();i={blockedOn:null,target:i,priority:s};for(var u=0;u<ys.length&&s!==0&&s<ys[u].priority;u++);ys.splice(u,0,i),u===0&&Ab(i)}};var Cb=t.version;if(Cb!=="19.2.4")throw Error(n(527,Cb,"19.2.4"));Y.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var iE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Je=hu.inject(iE),Le=hu}catch{}}return uo.createRoot=function(i,s){if(!r(i))throw Error(n(299));var u=!1,h="",m=Lm,y=Nm,A=Om;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=fb(i,1,!1,null,null,u,h,null,m,y,A,xb),i[sr]=s.current,Kh(i),new fd(s)},uo.hydrateRoot=function(i,s,u){if(!r(i))throw Error(n(299));var h=!1,m="",y=Lm,A=Nm,_=Om,P=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.formState!==void 0&&(P=u.formState)),s=fb(i,1,!0,s,u??null,h,m,P,y,A,_,xb),s.context=pb(null),u=s.current,h=Cn(),h=ic(h),m=ns(h),m.callback=null,is(u,m,h),u=h,s.current.lanes=u,ba(s,u),si(s),i[sr]=s.current,Kh(i),new cu(s)},uo.version="19.2.4",uo}var Ib;function pE(){if(Ib)return yd.exports;Ib=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),yd.exports=fE(),yd.exports}var gE=pE();const mE=la(gE);var zb="popstate";function Fb(a){return typeof a=="object"&&a!=null&&"pathname"in a&&"search"in a&&"hash"in a&&"state"in a&&"key"in a}function yE(a={}){function t(r,o){let{pathname:l="/",search:c="",hash:d=""}=Zs(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),mf("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let l=r.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=r.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof o=="string"?o:Mo(o))}function n(r,o){Kn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return vE(t,e,n,a)}function de(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Kn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bE(){return Math.random().toString(36).substring(2,10)}function Ub(a,t){return{usr:a.state,key:a.key,idx:t,masked:a.unstable_mask?{pathname:a.pathname,search:a.search,hash:a.hash}:void 0}}function mf(a,t,e=null,n,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Zs(t):t,state:e,key:t&&t.key||n||bE(),unstable_mask:r}}function Mo({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function Zs(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let n=a.indexOf("?");n>=0&&(t.search=a.substring(n),a=a.substring(0,n)),a&&(t.pathname=a)}return t}function vE(a,t,e,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let x=p(),E=x==null?null:x-f;f=x,d&&d({action:c,location:S.location,delta:E})}function b(x,E){c="PUSH";let T=Fb(x)?x:mf(S.location,x,E);e&&e(T,x),f=p()+1;let C=Ub(T,f),D=S.createHref(T.unstable_mask||T);try{l.pushState(C,"",D)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(D)}o&&d&&d({action:c,location:S.location,delta:1})}function v(x,E){c="REPLACE";let T=Fb(x)?x:mf(S.location,x,E);e&&e(T,x),f=p();let C=Ub(T,f),D=S.createHref(T.unstable_mask||T);l.replaceState(C,"",D),o&&d&&d({action:c,location:S.location,delta:0})}function w(x){return SE(x)}let S={get action(){return c},get location(){return a(r,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(zb,g),d=x,()=>{r.removeEventListener(zb,g),d=null}},createHref(x){return t(r,x)},createURL:w,encodeLocation(x){let E=w(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:v,go(x){return l.go(x)}};return S}function SE(a,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),de(e,"No window.location.(origin|href) available to create URL");let n=typeof a=="string"?a:Mo(a);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function jv(a,t,e="/"){return AE(a,t,e,!1)}function AE(a,t,e,n){let r=typeof t=="string"?Zs(t):t,o=ji(r.pathname||"/",e);if(o==null)return null;let l=Hv(a);wE(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=NE(o);c=DE(l[d],f,n)}return c}function Hv(a,t=[],e=[],n="",r=!1){let o=(l,c,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;de(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=yi([n,p.relativePath]),b=e.concat(p);l.children&&l.children.length>0&&(de(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Hv(l.children,t,b,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:ME(g,l.index),routesMeta:b})};return a.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let d of qv(l.path))o(l,c,!0,d)}),t}function qv(a){let t=a.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=qv(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&c.push(...l),c.map(d=>a.startsWith("/")&&d===""?"/":d)}function wE(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:kE(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var EE=/^:[\w-]+$/,xE=3,CE=2,_E=1,TE=10,RE=-2,jb=a=>a==="*";function ME(a,t){let e=a.split("/"),n=e.length;return e.some(jb)&&(n+=RE),t&&(n+=CE),e.filter(r=>!jb(r)).reduce((r,o)=>r+(EE.test(o)?xE:o===""?_E:TE),n)}function kE(a,t){return a.length===t.length&&a.slice(0,-1).every((n,r)=>n===t[r])?a[a.length-1]-t[t.length-1]:0}function DE(a,t,e=!1){let{routesMeta:n}=a,r={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Lu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!g&&f&&e&&!n[n.length-1].route.index&&(g=Lu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:yi([o,g.pathname]),pathnameBase:IE(yi([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=yi([o,g.pathnameBase]))}return l}function Lu(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,n]=LE(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=c[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[b];return g&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:a}}function LE(a,t=!1,e=!0){Kn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let n=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d,f,p)=>{if(n.push({paramName:c,isOptional:d!=null}),d){let g=p.charAt(f+l.length);return g&&g!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(n.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function NE(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function ji(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=a.charAt(e);return n&&n!=="/"?null:a.slice(e)||"/"}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function PE(a,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof a=="string"?Zs(a):a,o;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?o=Hb(e.substring(1),"/"):o=Hb(e,t)):o=t,{pathname:o,search:zE(n),hash:FE(r)}}function Hb(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Ad(a,t,e,n){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BE(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function jf(a){let t=BE(a);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Uu(a,t,e,n=!1){let r;typeof a=="string"?r=Zs(a):(r={...a},de(!r.pathname||!r.pathname.includes("?"),Ad("?","pathname","search",r)),de(!r.pathname||!r.pathname.includes("#"),Ad("#","pathname","hash",r)),de(!r.search||!r.search.includes("#"),Ad("#","search","hash",r)));let o=a===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=e;else{let g=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;r.pathname=b.join("/")}c=g>=0?t[g]:"/"}let d=PE(r,c),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var yi=a=>a.join("/").replace(/\/\/+/g,"/"),IE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),zE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,FE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,UE=class{constructor(a,t,e,n=!1){this.status=a,this.statusText=t||"",this.internal=n,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function jE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function HE(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gv(a,t){let e=a;if(typeof e!="string"||!OE.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let n=e,r=!1;if(Vv)try{let o=new URL(window.location.href),l=e.startsWith("//")?new URL(o.protocol+e):new URL(e),c=ji(l.pathname,t);l.origin===o.origin&&c!=null?e=c+l.search+l.hash:r=!0}catch{Kn(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yv=["POST","PUT","PATCH","DELETE"];new Set(Yv);var qE=["GET",...Yv];new Set(qE);var ua=H.createContext(null);ua.displayName="DataRouter";var ju=H.createContext(null);ju.displayName="DataRouterState";var VE=H.createContext(!1),Xv=H.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var GE=H.createContext(new Map);GE.displayName="Fetchers";var YE=H.createContext(null);YE.displayName="Await";var Nn=H.createContext(null);Nn.displayName="Navigation";var Io=H.createContext(null);Io.displayName="Location";var vi=H.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var Hf=H.createContext(null);Hf.displayName="RouteError";var Kv="REACT_ROUTER_ERROR",XE="REDIRECT",KE="ROUTE_ERROR_RESPONSE";function $E(a){if(a.startsWith(`${Kv}:${XE}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function WE(a){if(a.startsWith(`${Kv}:${KE}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new UE(t.status,t.statusText,t.data)}catch{}}function QE(a,{relative:t}={}){de(ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=H.useContext(Nn),{hash:r,pathname:o,search:l}=zo(a,{relative:t}),c=o;return e!=="/"&&(c=o==="/"?e:yi([e,o])),n.createHref({pathname:c,search:l,hash:r})}function ca(){return H.useContext(Io)!=null}function Vi(){return de(ca(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Io).location}var $v="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wv(a){H.useContext(Nn).static||H.useLayoutEffect(a)}function Qv(){let{isDataRoute:a}=H.useContext(vi);return a?cx():ZE()}function ZE(){de(ca(),"useNavigate() may be used only in the context of a <Router> component.");let a=H.useContext(ua),{basename:t,navigator:e}=H.useContext(Nn),{matches:n}=H.useContext(vi),{pathname:r}=Vi(),o=JSON.stringify(jf(n)),l=H.useRef(!1);return Wv(()=>{l.current=!0}),H.useCallback((d,f={})=>{if(Kn(l.current,$v),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=Uu(d,JSON.parse(o),r,f.relative==="path");a==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:yi([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,r,a])}H.createContext(null);function zo(a,{relative:t}={}){let{matches:e}=H.useContext(vi),{pathname:n}=Vi(),r=JSON.stringify(jf(e));return H.useMemo(()=>Uu(a,JSON.parse(r),n,t==="path"),[a,r,n,t])}function JE(a,t){return Zv(a,t)}function Zv(a,t,e){de(ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=H.useContext(Nn),{matches:r}=H.useContext(vi),o=r[r.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let x=f&&f.path||"";tS(c,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=Vi(),g;if(t){let x=typeof t=="string"?Zs(t):t;de(d==="/"||x.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=p;let b=g.pathname||"/",v=b;if(d!=="/"){let x=d.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=jv(a,{pathname:v});Kn(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Kn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=sx(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:yi([d,n.encodeLocation?n.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:yi([d,n.encodeLocation?n.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),r,e);return t&&S?H.createElement(Io.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...g},navigationType:"POP"}},S):S}function tx(){let a=ux(),t=jE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),e?H.createElement("pre",{style:r},e):null,l)}var ex=H.createElement(tx,null),Jv=class extends H.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const e=WE(a.digest);e&&(a=e)}let t=a!==void 0?H.createElement(vi.Provider,{value:this.props.routeContext},H.createElement(Hf.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?H.createElement(nx,{error:a},t):t}};Jv.contextType=VE;var wd=new WeakMap;function nx({children:a,error:t}){let{basename:e}=H.useContext(Nn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=$E(t.digest);if(n){let r=wd.get(t);if(r)throw r;let o=Gv(n.location,e);if(Vv&&!wd.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw wd.set(t,l),l}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return a}function ix({routeContext:a,match:t,children:e}){let n=H.useContext(ua);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(vi.Provider,{value:a},e)}function sx(a,t=[],e){let n=e?.state;if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let r=a,o=n?.errors;if(o!=null){let p=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);de(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let l=!1,c=-1;if(e&&n){l=n.renderFallback;for(let p=0;p<r.length;p++){let g=r[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=p),g.route.id){let{loaderData:b,errors:v}=n,w=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){e.isStatic&&(l=!0),c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}}let d=e?.onError,f=n&&d?(p,g)=>{d(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:HE(n.matches),errorInfo:g})}:void 0;return r.reduceRight((p,g,b)=>{let v,w=!1,S=null,x=null;n&&(v=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||ex,l&&(c<0&&b===0?(tS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):c===b&&(w=!0,x=g.route.hydrateFallbackElement||null)));let E=t.concat(r.slice(0,b+1)),T=()=>{let C;return v?C=S:w?C=x:g.route.Component?C=H.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,H.createElement(ix,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?H.createElement(Jv,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):T()},null)}function qf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(a){let t=H.useContext(ua);return de(t,qf(a)),t}function ax(a){let t=H.useContext(ju);return de(t,qf(a)),t}function ox(a){let t=H.useContext(vi);return de(t,qf(a)),t}function Vf(a){let t=ox(a),e=t.matches[t.matches.length-1];return de(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function lx(){return Vf("useRouteId")}function ux(){let a=H.useContext(Hf),t=ax("useRouteError"),e=Vf("useRouteError");return a!==void 0?a:t.errors?.[e]}function cx(){let{router:a}=rx("useNavigate"),t=Vf("useNavigate"),e=H.useRef(!1);return Wv(()=>{e.current=!0}),H.useCallback(async(r,o={})=>{Kn(e.current,$v),e.current&&(typeof r=="number"?await a.navigate(r):await a.navigate(r,{fromRouteId:t,...o}))},[a,t])}var qb={};function tS(a,t,e){!t&&!qb[a]&&(qb[a]=!0,Kn(!1,e))}H.memo(hx);function hx({routes:a,future:t,state:e,isStatic:n,onError:r}){return Zv(a,void 0,{state:e,isStatic:n,onError:r})}function dx({to:a,replace:t,state:e,relative:n}){de(ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=H.useContext(Nn);Kn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=H.useContext(vi),{pathname:l}=Vi(),c=Qv(),d=Uu(a,jf(o),l,n==="path"),f=JSON.stringify(d);return H.useEffect(()=>{c(JSON.parse(f),{replace:t,state:e,relative:n})},[c,f,n,t,e]),null}function ci(a){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fx({basename:a="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){de(!ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[c,r,o,l]);typeof e=="string"&&(e=Zs(e));let{pathname:f="/",search:p="",hash:g="",state:b=null,key:v="default",unstable_mask:w}=e,S=H.useMemo(()=>{let x=ji(f,c);return x==null?null:{location:{pathname:x,search:p,hash:g,state:b,key:v,unstable_mask:w},navigationType:n}},[c,f,p,g,b,v,n,w]);return Kn(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:H.createElement(Nn.Provider,{value:d},H.createElement(Io.Provider,{children:t,value:S}))}function px({children:a,location:t}){return JE(yf(a),t)}function yf(a,t=[]){let e=[];return H.Children.forEach(a,(n,r)=>{if(!H.isValidElement(n))return;let o=[...t,r];if(n.type===H.Fragment){e.push.apply(e,yf(n.props.children,o));return}de(n.type===ci,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=yf(n.props.children,o)),e.push(l)}),e}var Tu="get",Ru="application/x-www-form-urlencoded";function Hu(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function gx(a){return Hu(a)&&a.tagName.toLowerCase()==="button"}function mx(a){return Hu(a)&&a.tagName.toLowerCase()==="form"}function yx(a){return Hu(a)&&a.tagName.toLowerCase()==="input"}function bx(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function vx(a,t){return a.button===0&&(!t||t==="_self")&&!bx(a)}var du=null;function Sx(){if(du===null)try{new FormData(document.createElement("form"),0),du=!1}catch{du=!0}return du}var Ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(a){return a!=null&&!Ax.has(a)?(Kn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ru}"`),null):a}function wx(a,t){let e,n,r,o,l;if(mx(a)){let c=a.getAttribute("action");n=c?ji(c,t):null,e=a.getAttribute("method")||Tu,r=Ed(a.getAttribute("enctype"))||Ru,o=new FormData(a)}else if(gx(a)||yx(a)&&(a.type==="submit"||a.type==="image")){let c=a.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||c.getAttribute("action");if(n=d?ji(d,t):null,e=a.getAttribute("formmethod")||c.getAttribute("method")||Tu,r=Ed(a.getAttribute("formenctype"))||Ed(c.getAttribute("enctype"))||Ru,o=new FormData(c,a),!Sx()){let{name:f,type:p,value:g}=a;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,g)}}else{if(Hu(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Tu,n=null,r=Ru,l=a}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gf(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Ex(a,t,e,n){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${n}`:r.pathname=`${r.pathname}.${n}`:r.pathname==="/"?r.pathname=`_root.${n}`:t&&ji(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function xx(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cx(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function _x(a,t,e){let n=await Promise.all(a.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await xx(o,e);return l.links?l.links():[]}return[]}));return kx(n.flat(1).filter(Cx).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Vb(a,t,e,n,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,c=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?t.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Tx(a,t,{includeHydrateFallback:e}={}){return Rx(a.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Rx(a){return[...new Set(a)]}function Mx(a){let t={},e=Object.keys(a).sort();for(let n of e)t[n]=a[n];return t}function kx(a,t){let e=new Set;return new Set(t),a.reduce((n,r)=>{let o=JSON.stringify(Mx(r));return e.has(o)||(e.add(o),n.push({key:o,link:r})),n},[])}function eS(){let a=H.useContext(ua);return Gf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Dx(){let a=H.useContext(ju);return Gf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Yf=H.createContext(void 0);Yf.displayName="FrameworkContext";function nS(){let a=H.useContext(Yf);return Gf(a,"You must render this element inside a <HydratedRouter> element"),a}function Lx(a,t){let e=H.useContext(Yf),[n,r]=H.useState(!1),[o,l]=H.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,b=H.useRef(null);H.useEffect(()=>{if(a==="render"&&l(!0),a==="viewport"){let S=E=>{E.forEach(T=>{l(T.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[a]),H.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{r(!0)},w=()=>{r(!1),l(!1)};return e?a!=="intent"?[o,b,{}]:[o,b,{onFocus:co(c,v),onBlur:co(d,w),onMouseEnter:co(f,v),onMouseLeave:co(p,w),onTouchStart:co(g,v)}]:[!1,b,{}]}function co(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function Nx({page:a,...t}){let{router:e}=eS(),n=H.useMemo(()=>jv(e.routes,a,e.basename),[e.routes,a,e.basename]);return n?H.createElement(Px,{page:a,matches:n,...t}):null}function Ox(a){let{manifest:t,routeModules:e}=nS(),[n,r]=H.useState([]);return H.useEffect(()=>{let o=!1;return _x(a,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[a,t,e]),n}function Px({page:a,matches:t,...e}){let n=Vi(),{future:r,manifest:o,routeModules:l}=nS(),{basename:c}=eS(),{loaderData:d,matches:f}=Dx(),p=H.useMemo(()=>Vb(a,t,f,o,n,"data"),[a,t,f,o,n]),g=H.useMemo(()=>Vb(a,t,f,o,n,"assets"),[a,t,f,o,n]),b=H.useMemo(()=>{if(a===n.pathname+n.search+n.hash)return[];let S=new Set,x=!1;if(t.forEach(T=>{let C=o.routes[T.route.id];!C||!C.hasLoader||(!p.some(D=>D.route.id===T.route.id)&&T.route.id in d&&l[T.route.id]?.shouldRevalidate||C.hasClientLoader?x=!0:S.add(T.route.id))}),S.size===0)return[];let E=Ex(a,c,r.unstable_trailingSlashAwareDataRequests,"data");return x&&S.size>0&&E.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[c,r.unstable_trailingSlashAwareDataRequests,d,n,o,p,t,a,l]),v=H.useMemo(()=>Tx(g,o),[g,o]),w=Ox(g);return H.createElement(H.Fragment,null,b.map(S=>H.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),v.map(S=>H.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),w.map(({key:S,link:x})=>H.createElement("link",{key:S,nonce:e.nonce,...x,crossOrigin:x.crossOrigin??e.crossOrigin})))}function Bx(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ix&&(window.__reactRouterVersion="7.13.1")}catch{}function zx({basename:a,children:t,unstable_useTransitions:e,window:n}){let r=H.useRef();r.current==null&&(r.current=yE({window:n,v5Compat:!0}));let o=r.current,[l,c]=H.useState({action:o.action,location:o.location}),d=H.useCallback(f=>{e===!1?c(f):H.startTransition(()=>c(f))},[e]);return H.useLayoutEffect(()=>o.listen(d),[o,d]),H.createElement(fx,{basename:a,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:e})}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sS=H.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,unstable_mask:c,state:d,target:f,to:p,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v,...w},S){let{basename:x,navigator:E,unstable_useTransitions:T}=H.useContext(Nn),C=typeof p=="string"&&iS.test(p),D=Gv(p,x);p=D.to;let N=QE(p,{relative:r}),R=Vi(),k=null;if(c){let J=Uu(c,[],R.unstable_mask?R.unstable_mask.pathname:"/",!0);x!=="/"&&(J.pathname=J.pathname==="/"?x:yi([x,J.pathname])),k=E.createHref(J)}let[z,F,V]=Lx(n,w),j=jx(p,{replace:l,unstable_mask:c,state:d,target:f,preventScrollReset:g,relative:r,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:T});function G(J){t&&t(J),J.defaultPrevented||j(J)}let tt=!(D.isExternal||o),$=H.createElement("a",{...w,...V,href:(tt?k:void 0)||D.absoluteURL||N,onClick:tt?G:t,ref:Bx(S,F),target:f,"data-discover":!C&&e==="render"?"true":void 0});return z&&!C?H.createElement(H.Fragment,null,$,H.createElement(Nx,{page:N})):$});sS.displayName="Link";var Yr=H.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:c,children:d,...f},p){let g=zo(l,{relative:f.relative}),b=Vi(),v=H.useContext(ju),{navigator:w,basename:S}=H.useContext(Nn),x=v!=null&&Yx(g)&&c===!0,E=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,T=b.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(T=T.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&S&&(C=ji(C,S)||C);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let N=T===E||!r&&T.startsWith(E)&&T.charAt(D)==="/",R=C!=null&&(C===E||!r&&C.startsWith(E)&&C.charAt(E.length)==="/"),k={isActive:N,isPending:R,isTransitioning:x},z=N?t:void 0,F;typeof n=="function"?F=n(k):F=[n,N?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(k):o;return H.createElement(sS,{...f,"aria-current":z,className:F,ref:p,style:V,to:l,viewTransition:c},typeof d=="function"?d(k):d)});Yr.displayName="NavLink";var Fx=H.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:o,method:l=Tu,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b,...v},w)=>{let{unstable_useTransitions:S}=H.useContext(Nn),x=Vx(),E=Gx(c,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&iS.test(c),D=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,k=R?.getAttribute("formmethod")||l,z=()=>x(R||N.currentTarget,{fetcherKey:t,method:k,navigate:e,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b});S&&e!==!1?H.startTransition(()=>z()):z()};return H.createElement("form",{ref:w,method:T,action:E,onSubmit:n?d:D,...v,"data-discover":!C&&a==="render"?"true":void 0})});Fx.displayName="Form";function Ux(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rS(a){let t=H.useContext(ua);return de(t,Ux(a)),t}function jx(a,{target:t,replace:e,unstable_mask:n,state:r,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=Qv(),g=Vi(),b=zo(a,{relative:l});return H.useCallback(v=>{if(vx(v,t)){v.preventDefault();let w=e!==void 0?e:Mo(g)===Mo(b),S=()=>p(a,{replace:w,unstable_mask:n,state:r,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});f?H.startTransition(()=>S()):S()}},[g,p,b,e,n,r,t,a,o,l,c,d,f])}var Hx=0,qx=()=>`__${String(++Hx)}__`;function Vx(){let{router:a}=rS("useSubmit"),{basename:t}=H.useContext(Nn),e=lx(),n=a.fetch,r=a.navigate;return H.useCallback(async(o,l={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=wx(o,t);if(l.navigate===!1){let b=l.fetcherKey||qx();await n(b,e,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,r,t,e])}function Gx(a,{relative:t}={}){let{basename:e}=H.useContext(Nn),n=H.useContext(vi);de(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...zo(a||".",{relative:t})},l=Vi();if(a==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();o.search=p?`?${p}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:yi([e,o.pathname])),Mo(o)}function Yx(a,{relative:t}={}){let e=H.useContext(Xv);de(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rS("useViewTransitionState"),r=zo(a,{relative:t});if(!e.isTransitioning)return!1;let o=ji(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=ji(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Lu(r.pathname,l)!=null||Lu(r.pathname,o)!=null}function Xx(){return O.jsx("header",{className:"header",children:O.jsxs("div",{className:"container header-inner",children:[O.jsxs("div",{className:"brand",children:[O.jsx("div",{className:"brand-title",children:"Mike Lalonde"}),O.jsx("div",{className:"brand-subtitle",children:"AI Engineer  Embedded IoT  Full Stack"}),O.jsx("div",{className:"brand-meta",children:"Halifax, NS  902-225-6527"})]}),O.jsxs("nav",{className:"nav",children:[O.jsx(Yr,{to:"/",className:"nav-link",children:"Home"}),O.jsx(Yr,{to:"/resume",className:"nav-link",children:"Resume"}),O.jsx(Yr,{to:"/quick-glance",className:"nav-link",children:"Glance"}),O.jsx(Yr,{to:"/projects",className:"nav-link",children:"Projects"}),O.jsx(Yr,{to:"/about",className:"nav-link",children:"About"}),O.jsx("a",{className:"nav-link",href:"https://github.com/Mike-Lalonde",target:"_blank",rel:"noreferrer",children:"GitHub"})]})]})})}function Kx(){const a=new Date().getFullYear();return O.jsx("footer",{className:"footer",children:O.jsxs("div",{className:"container footer-inner",children:[O.jsxs("div",{children:[" ",a," Mike Lalonde"]}),O.jsxs("div",{className:"footer-links",children:[O.jsx("a",{href:"https://github.com/Mike-Lalonde",target:"_blank",rel:"noreferrer",children:"GitHub"}),O.jsx("span",{className:"dot",children:""}),O.jsx("a",{href:"mailto:mlalonde@yrmindinsite.ca",children:"Email"})]})]})})}var Hr={},xd,Gb;function $x(){return Gb||(Gb=1,xd=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),xd}var Cd={},vs={},Yb;function Js(){if(Yb)return vs;Yb=1;let a;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return vs.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},vs.getSymbolTotalCodewords=function(n){return t[n]},vs.getBCHDigit=function(e){let n=0;for(;e!==0;)n++,e>>>=1;return n},vs.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');a=n},vs.isKanjiModeEnabled=function(){return typeof a<"u"},vs.toSJIS=function(n){return a(n)},vs}var _d={},Xb;function Xf(){return Xb||(Xb=1,(function(a){a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+e)}}a.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},a.from=function(n,r){if(a.isValid(n))return n;try{return t(n)}catch{return r}}})(_d)),_d}var Td,Kb;function Wx(){if(Kb)return Td;Kb=1;function a(){this.buffer=[],this.length=0}return a.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},Td=a,Td}var Rd,$b;function Qx(){if($b)return Rd;$b=1;function a(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return a.prototype.set=function(t,e,n,r){const o=t*this.size+e;this.data[o]=n,r&&(this.reservedBit[o]=!0)},a.prototype.get=function(t,e){return this.data[t*this.size+e]},a.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},a.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},Rd=a,Rd}var Md={},Wb;function Zx(){return Wb||(Wb=1,(function(a){const t=Js().getSymbolSize;a.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,o=t(n),l=o===145?26:Math.ceil((o-13)/(2*r-2))*2,c=[o-7];for(let d=1;d<r-1;d++)c[d]=c[d-1]-l;return c.push(6),c.reverse()},a.getPositions=function(n){const r=[],o=a.getRowColCoords(n),l=o.length;for(let c=0;c<l;c++)for(let d=0;d<l;d++)c===0&&d===0||c===0&&d===l-1||c===l-1&&d===0||r.push([o[c],o[d]]);return r}})(Md)),Md}var kd={},Qb;function Jx(){if(Qb)return kd;Qb=1;const a=Js().getSymbolSize,t=7;return kd.getPositions=function(n){const r=a(n);return[[0,0],[r-t,0],[0,r-t]]},kd}var Dd={},Zb;function tC(){return Zb||(Zb=1,(function(a){a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};a.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},a.from=function(r){return a.isValid(r)?parseInt(r,10):void 0},a.getPenaltyN1=function(r){const o=r.size;let l=0,c=0,d=0,f=null,p=null;for(let g=0;g<o;g++){c=d=0,f=p=null;for(let b=0;b<o;b++){let v=r.get(g,b);v===f?c++:(c>=5&&(l+=t.N1+(c-5)),f=v,c=1),v=r.get(b,g),v===p?d++:(d>=5&&(l+=t.N1+(d-5)),p=v,d=1)}c>=5&&(l+=t.N1+(c-5)),d>=5&&(l+=t.N1+(d-5))}return l},a.getPenaltyN2=function(r){const o=r.size;let l=0;for(let c=0;c<o-1;c++)for(let d=0;d<o-1;d++){const f=r.get(c,d)+r.get(c,d+1)+r.get(c+1,d)+r.get(c+1,d+1);(f===4||f===0)&&l++}return l*t.N2},a.getPenaltyN3=function(r){const o=r.size;let l=0,c=0,d=0;for(let f=0;f<o;f++){c=d=0;for(let p=0;p<o;p++)c=c<<1&2047|r.get(f,p),p>=10&&(c===1488||c===93)&&l++,d=d<<1&2047|r.get(p,f),p>=10&&(d===1488||d===93)&&l++}return l*t.N3},a.getPenaltyN4=function(r){let o=0;const l=r.data.length;for(let d=0;d<l;d++)o+=r.data[d];return Math.abs(Math.ceil(o*100/l/5)-10)*t.N4};function e(n,r,o){switch(n){case a.Patterns.PATTERN000:return(r+o)%2===0;case a.Patterns.PATTERN001:return r%2===0;case a.Patterns.PATTERN010:return o%3===0;case a.Patterns.PATTERN011:return(r+o)%3===0;case a.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(o/3))%2===0;case a.Patterns.PATTERN101:return r*o%2+r*o%3===0;case a.Patterns.PATTERN110:return(r*o%2+r*o%3)%2===0;case a.Patterns.PATTERN111:return(r*o%3+(r+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}a.applyMask=function(r,o){const l=o.size;for(let c=0;c<l;c++)for(let d=0;d<l;d++)o.isReserved(d,c)||o.xor(d,c,e(r,d,c))},a.getBestMask=function(r,o){const l=Object.keys(a.Patterns).length;let c=0,d=1/0;for(let f=0;f<l;f++){o(f),a.applyMask(f,r);const p=a.getPenaltyN1(r)+a.getPenaltyN2(r)+a.getPenaltyN3(r)+a.getPenaltyN4(r);a.applyMask(f,r),p<d&&(d=p,c=f)}return c}})(Dd)),Dd}var fu={},Jb;function aS(){if(Jb)return fu;Jb=1;const a=Xf(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return fu.getBlocksCount=function(r,o){switch(o){case a.L:return t[(r-1)*4+0];case a.M:return t[(r-1)*4+1];case a.Q:return t[(r-1)*4+2];case a.H:return t[(r-1)*4+3];default:return}},fu.getTotalCodewordsCount=function(r,o){switch(o){case a.L:return e[(r-1)*4+0];case a.M:return e[(r-1)*4+1];case a.Q:return e[(r-1)*4+2];case a.H:return e[(r-1)*4+3];default:return}},fu}var Ld={},ho={},t0;function eC(){if(t0)return ho;t0=1;const a=new Uint8Array(512),t=new Uint8Array(256);return(function(){let n=1;for(let r=0;r<255;r++)a[r]=n,t[n]=r,n<<=1,n&256&&(n^=285);for(let r=255;r<512;r++)a[r]=a[r-255]})(),ho.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},ho.exp=function(n){return a[n]},ho.mul=function(n,r){return n===0||r===0?0:a[t[n]+t[r]]},ho}var e0;function nC(){return e0||(e0=1,(function(a){const t=eC();a.mul=function(n,r){const o=new Uint8Array(n.length+r.length-1);for(let l=0;l<n.length;l++)for(let c=0;c<r.length;c++)o[l+c]^=t.mul(n[l],r[c]);return o},a.mod=function(n,r){let o=new Uint8Array(n);for(;o.length-r.length>=0;){const l=o[0];for(let d=0;d<r.length;d++)o[d]^=t.mul(r[d],l);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},a.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let o=0;o<n;o++)r=a.mul(r,new Uint8Array([1,t.exp(o)]));return r}})(Ld)),Ld}var Nd,n0;function iC(){if(n0)return Nd;n0=1;const a=nC();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=a.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(n.length+this.degree);r.set(n);const o=a.mod(r,this.genPoly),l=this.degree-o.length;if(l>0){const c=new Uint8Array(this.degree);return c.set(o,l),c}return o},Nd=t,Nd}var Od={},Pd={},Bd={},i0;function oS(){return i0||(i0=1,Bd.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Bd}var oi={},s0;function lS(){if(s0)return oi;s0=1;const a="[0-9]+",t="[A-Z $%*+\\-./:]+";let e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";e=e.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+e+`)(?:.|[\r
]))+`;oi.KANJI=new RegExp(e,"g"),oi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),oi.BYTE=new RegExp(n,"g"),oi.NUMERIC=new RegExp(a,"g"),oi.ALPHANUMERIC=new RegExp(t,"g");const r=new RegExp("^"+e+"$"),o=new RegExp("^"+a+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return oi.testKanji=function(d){return r.test(d)},oi.testNumeric=function(d){return o.test(d)},oi.testAlphanumeric=function(d){return l.test(d)},oi}var r0;function tr(){return r0||(r0=1,(function(a){const t=oS(),e=lS();a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(o,l){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?o.ccBits[0]:l<27?o.ccBits[1]:o.ccBits[2]},a.getBestModeForData=function(o){return e.testNumeric(o)?a.NUMERIC:e.testAlphanumeric(o)?a.ALPHANUMERIC:e.testKanji(o)?a.KANJI:a.BYTE},a.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},a.isValid=function(o){return o&&o.bit&&o.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+r)}}a.from=function(o,l){if(a.isValid(o))return o;try{return n(o)}catch{return l}}})(Pd)),Pd}var a0;function sC(){return a0||(a0=1,(function(a){const t=Js(),e=aS(),n=Xf(),r=tr(),o=oS(),l=7973,c=t.getBCHDigit(l);function d(b,v,w){for(let S=1;S<=40;S++)if(v<=a.getCapacity(S,w,b))return S}function f(b,v){return r.getCharCountIndicator(b,v)+4}function p(b,v){let w=0;return b.forEach(function(S){const x=f(S.mode,v);w+=x+S.getBitsLength()}),w}function g(b,v){for(let w=1;w<=40;w++)if(p(b,w)<=a.getCapacity(w,v,r.MIXED))return w}a.from=function(v,w){return o.isValid(v)?parseInt(v,10):w},a.getCapacity=function(v,w,S){if(!o.isValid(v))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=r.BYTE);const x=t.getSymbolTotalCodewords(v),E=e.getTotalCodewordsCount(v,w),T=(x-E)*8;if(S===r.MIXED)return T;const C=T-f(S,v);switch(S){case r.NUMERIC:return Math.floor(C/10*3);case r.ALPHANUMERIC:return Math.floor(C/11*2);case r.KANJI:return Math.floor(C/13);case r.BYTE:default:return Math.floor(C/8)}},a.getBestVersionForData=function(v,w){let S;const x=n.from(w,n.M);if(Array.isArray(v)){if(v.length>1)return g(v,x);if(v.length===0)return 1;S=v[0]}else S=v;return d(S.mode,S.getLength(),x)},a.getEncodedBits=function(v){if(!o.isValid(v)||v<7)throw new Error("Invalid QR Code version");let w=v<<12;for(;t.getBCHDigit(w)-c>=0;)w^=l<<t.getBCHDigit(w)-c;return v<<12|w}})(Od)),Od}var Id={},o0;function rC(){if(o0)return Id;o0=1;const a=Js(),t=1335,e=21522,n=a.getBCHDigit(t);return Id.getEncodedBits=function(o,l){const c=o.bit<<3|l;let d=c<<10;for(;a.getBCHDigit(d)-n>=0;)d^=t<<a.getBCHDigit(d)-n;return(c<<10|d)^e},Id}var zd={},Fd,l0;function aC(){if(l0)return Fd;l0=1;const a=tr();function t(e){this.mode=a.NUMERIC,this.data=e.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let r,o,l;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),l=parseInt(o,10),n.put(l,10);const c=this.data.length-r;c>0&&(o=this.data.substr(r),l=parseInt(o,10),n.put(l,c*3+1))},Fd=t,Fd}var Ud,u0;function oC(){if(u0)return Ud;u0=1;const a=tr(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(n){this.mode=a.ALPHANUMERIC,this.data=n}return e.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let o;for(o=0;o+2<=this.data.length;o+=2){let l=t.indexOf(this.data[o])*45;l+=t.indexOf(this.data[o+1]),r.put(l,11)}this.data.length%2&&r.put(t.indexOf(this.data[o]),6)},Ud=e,Ud}var jd,c0;function lC(){if(c0)return jd;c0=1;const a=tr();function t(e){this.mode=a.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let n=0,r=this.data.length;n<r;n++)e.put(this.data[n],8)},jd=t,jd}var Hd,h0;function uC(){if(h0)return Hd;h0=1;const a=tr(),t=Js();function e(n){this.mode=a.KANJI,this.data=n}return e.getBitsLength=function(r){return r*13},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let r;for(r=0;r<this.data.length;r++){let o=t.toSJIS(this.data[r]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),n.put(o,13)}},Hd=e,Hd}var qd={exports:{}},d0;function cC(){return d0||(d0=1,(function(a){var t={single_source_shortest_paths:function(e,n,r){var o={},l={};l[n]=0;var c=t.PriorityQueue.make();c.push(n,0);for(var d,f,p,g,b,v,w,S,x;!c.empty();){d=c.pop(),f=d.value,g=d.cost,b=e[f]||{};for(p in b)b.hasOwnProperty(p)&&(v=b[p],w=g+v,S=l[p],x=typeof l[p]>"u",(x||S>w)&&(l[p]=w,c.push(p,w),o[p]=f))}if(typeof r<"u"&&typeof l[r]>"u"){var E=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(E)}return o},extract_shortest_path_from_predecessor_list:function(e,n){for(var r=[],o=n;o;)r.push(o),e[o],o=e[o];return r.reverse(),r},find_path:function(e,n,r){var o=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var n=t.PriorityQueue,r={},o;e=e||{};for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var r={value:e,cost:n};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};a.exports=t})(qd)),qd.exports}var f0;function hC(){return f0||(f0=1,(function(a){const t=tr(),e=aC(),n=oC(),r=lC(),o=uC(),l=lS(),c=Js(),d=cC();function f(E){return unescape(encodeURIComponent(E)).length}function p(E,T,C){const D=[];let N;for(;(N=E.exec(C))!==null;)D.push({data:N[0],index:N.index,mode:T,length:N[0].length});return D}function g(E){const T=p(l.NUMERIC,t.NUMERIC,E),C=p(l.ALPHANUMERIC,t.ALPHANUMERIC,E);let D,N;return c.isKanjiModeEnabled()?(D=p(l.BYTE,t.BYTE,E),N=p(l.KANJI,t.KANJI,E)):(D=p(l.BYTE_KANJI,t.BYTE,E),N=[]),T.concat(C,D,N).sort(function(k,z){return k.index-z.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function b(E,T){switch(T){case t.NUMERIC:return e.getBitsLength(E);case t.ALPHANUMERIC:return n.getBitsLength(E);case t.KANJI:return o.getBitsLength(E);case t.BYTE:return r.getBitsLength(E)}}function v(E){return E.reduce(function(T,C){const D=T.length-1>=0?T[T.length-1]:null;return D&&D.mode===C.mode?(T[T.length-1].data+=C.data,T):(T.push(C),T)},[])}function w(E){const T=[];for(let C=0;C<E.length;C++){const D=E[C];switch(D.mode){case t.NUMERIC:T.push([D,{data:D.data,mode:t.ALPHANUMERIC,length:D.length},{data:D.data,mode:t.BYTE,length:D.length}]);break;case t.ALPHANUMERIC:T.push([D,{data:D.data,mode:t.BYTE,length:D.length}]);break;case t.KANJI:T.push([D,{data:D.data,mode:t.BYTE,length:f(D.data)}]);break;case t.BYTE:T.push([{data:D.data,mode:t.BYTE,length:f(D.data)}])}}return T}function S(E,T){const C={},D={start:{}};let N=["start"];for(let R=0;R<E.length;R++){const k=E[R],z=[];for(let F=0;F<k.length;F++){const V=k[F],j=""+R+F;z.push(j),C[j]={node:V,lastCount:0},D[j]={};for(let G=0;G<N.length;G++){const tt=N[G];C[tt]&&C[tt].node.mode===V.mode?(D[tt][j]=b(C[tt].lastCount+V.length,V.mode)-b(C[tt].lastCount,V.mode),C[tt].lastCount+=V.length):(C[tt]&&(C[tt].lastCount=V.length),D[tt][j]=b(V.length,V.mode)+4+t.getCharCountIndicator(V.mode,T))}}N=z}for(let R=0;R<N.length;R++)D[N[R]].end=0;return{map:D,table:C}}function x(E,T){let C;const D=t.getBestModeForData(E);if(C=t.from(T,D),C!==t.BYTE&&C.bit<D.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(D));switch(C===t.KANJI&&!c.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new e(E);case t.ALPHANUMERIC:return new n(E);case t.KANJI:return new o(E);case t.BYTE:return new r(E)}}a.fromArray=function(T){return T.reduce(function(C,D){return typeof D=="string"?C.push(x(D,null)):D.data&&C.push(x(D.data,D.mode)),C},[])},a.fromString=function(T,C){const D=g(T,c.isKanjiModeEnabled()),N=w(D),R=S(N,C),k=d.find_path(R.map,"start","end"),z=[];for(let F=1;F<k.length-1;F++)z.push(R.table[k[F]].node);return a.fromArray(v(z))},a.rawSplit=function(T){return a.fromArray(g(T,c.isKanjiModeEnabled()))}})(zd)),zd}var p0;function dC(){if(p0)return Cd;p0=1;const a=Js(),t=Xf(),e=Wx(),n=Qx(),r=Zx(),o=Jx(),l=tC(),c=aS(),d=iC(),f=sC(),p=rC(),g=tr(),b=hC();function v(R,k){const z=R.size,F=o.getPositions(k);for(let V=0;V<F.length;V++){const j=F[V][0],G=F[V][1];for(let tt=-1;tt<=7;tt++)if(!(j+tt<=-1||z<=j+tt))for(let $=-1;$<=7;$++)G+$<=-1||z<=G+$||(tt>=0&&tt<=6&&($===0||$===6)||$>=0&&$<=6&&(tt===0||tt===6)||tt>=2&&tt<=4&&$>=2&&$<=4?R.set(j+tt,G+$,!0,!0):R.set(j+tt,G+$,!1,!0))}}function w(R){const k=R.size;for(let z=8;z<k-8;z++){const F=z%2===0;R.set(z,6,F,!0),R.set(6,z,F,!0)}}function S(R,k){const z=r.getPositions(k);for(let F=0;F<z.length;F++){const V=z[F][0],j=z[F][1];for(let G=-2;G<=2;G++)for(let tt=-2;tt<=2;tt++)G===-2||G===2||tt===-2||tt===2||G===0&&tt===0?R.set(V+G,j+tt,!0,!0):R.set(V+G,j+tt,!1,!0)}}function x(R,k){const z=R.size,F=f.getEncodedBits(k);let V,j,G;for(let tt=0;tt<18;tt++)V=Math.floor(tt/3),j=tt%3+z-8-3,G=(F>>tt&1)===1,R.set(V,j,G,!0),R.set(j,V,G,!0)}function E(R,k,z){const F=R.size,V=p.getEncodedBits(k,z);let j,G;for(j=0;j<15;j++)G=(V>>j&1)===1,j<6?R.set(j,8,G,!0):j<8?R.set(j+1,8,G,!0):R.set(F-15+j,8,G,!0),j<8?R.set(8,F-j-1,G,!0):j<9?R.set(8,15-j-1+1,G,!0):R.set(8,15-j-1,G,!0);R.set(F-8,8,1,!0)}function T(R,k){const z=R.size;let F=-1,V=z-1,j=7,G=0;for(let tt=z-1;tt>0;tt-=2)for(tt===6&&tt--;;){for(let $=0;$<2;$++)if(!R.isReserved(V,tt-$)){let J=!1;G<k.length&&(J=(k[G]>>>j&1)===1),R.set(V,tt-$,J),j--,j===-1&&(G++,j=7)}if(V+=F,V<0||z<=V){V-=F,F=-F;break}}}function C(R,k,z){const F=new e;z.forEach(function($){F.put($.mode.bit,4),F.put($.getLength(),g.getCharCountIndicator($.mode,R)),$.write(F)});const V=a.getSymbolTotalCodewords(R),j=c.getTotalCodewordsCount(R,k),G=(V-j)*8;for(F.getLengthInBits()+4<=G&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const tt=(G-F.getLengthInBits())/8;for(let $=0;$<tt;$++)F.put($%2?17:236,8);return D(F,R,k)}function D(R,k,z){const F=a.getSymbolTotalCodewords(k),V=c.getTotalCodewordsCount(k,z),j=F-V,G=c.getBlocksCount(k,z),tt=F%G,$=G-tt,J=Math.floor(F/G),B=Math.floor(j/G),Y=B+1,rt=J-B,ht=new d(rt);let L=0;const I=new Array(G),Q=new Array(G);let M=0;const at=new Uint8Array(R.buffer);for(let Et=0;Et<G;Et++){const ye=Et<$?B:Y;I[Et]=at.slice(L,L+ye),Q[Et]=ht.encode(I[Et]),L+=ye,M=Math.max(M,ye)}const dt=new Uint8Array(F);let ut=0,ct,wt;for(ct=0;ct<M;ct++)for(wt=0;wt<G;wt++)ct<I[wt].length&&(dt[ut++]=I[wt][ct]);for(ct=0;ct<rt;ct++)for(wt=0;wt<G;wt++)dt[ut++]=Q[wt][ct];return dt}function N(R,k,z,F){let V;if(Array.isArray(R))V=b.fromArray(R);else if(typeof R=="string"){let J=k;if(!J){const B=b.rawSplit(R);J=f.getBestVersionForData(B,z)}V=b.fromString(R,J||40)}else throw new Error("Invalid data");const j=f.getBestVersionForData(V,z);if(!j)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=j;else if(k<j)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+j+`.
`);const G=C(k,z,V),tt=a.getSymbolSize(k),$=new n(tt);return v($,k),w($),S($,k),E($,z,0),k>=7&&x($,k),T($,G),isNaN(F)&&(F=l.getBestMask($,E.bind(null,$,z))),l.applyMask(F,$),E($,z,F),{modules:$,version:k,errorCorrectionLevel:z,maskPattern:F,segments:V}}return Cd.create=function(k,z){if(typeof k>"u"||k==="")throw new Error("No input text");let F=t.M,V,j;return typeof z<"u"&&(F=t.from(z.errorCorrectionLevel,t.M),V=f.from(z.version),j=l.from(z.maskPattern),z.toSJISFunc&&a.setToSJISFunction(z.toSJISFunc)),N(k,V,F,j)},Cd}var Vd={},Gd={},g0;function uS(){return g0||(g0=1,(function(a){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}a.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,l=n.scale||4;return{width:o,scale:o?4:l,margin:r,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},a.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},a.getImageWidth=function(n,r){const o=a.getScale(n,r);return Math.floor((n+r.margin*2)*o)},a.qrToImageData=function(n,r,o){const l=r.modules.size,c=r.modules.data,d=a.getScale(l,o),f=Math.floor((l+o.margin*2)*d),p=o.margin*d,g=[o.color.light,o.color.dark];for(let b=0;b<f;b++)for(let v=0;v<f;v++){let w=(b*f+v)*4,S=o.color.light;if(b>=p&&v>=p&&b<f-p&&v<f-p){const x=Math.floor((b-p)/d),E=Math.floor((v-p)/d);S=g[c[x*l+E]?1:0]}n[w++]=S.r,n[w++]=S.g,n[w++]=S.b,n[w]=S.a}}})(Gd)),Gd}var m0;function fC(){return m0||(m0=1,(function(a){const t=uS();function e(r,o,l){r.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=l,o.width=l,o.style.height=l+"px",o.style.width=l+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}a.render=function(o,l,c){let d=c,f=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(f=n()),d=t.getOptions(d);const p=t.getImageWidth(o.modules.size,d),g=f.getContext("2d"),b=g.createImageData(p,p);return t.qrToImageData(b.data,o,d),e(g,f,p),g.putImageData(b,0,0),f},a.renderToDataURL=function(o,l,c){let d=c;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const f=a.render(o,l,d),p=d.type||"image/png",g=d.rendererOpts||{};return f.toDataURL(p,g.quality)}})(Vd)),Vd}var Yd={},y0;function pC(){if(y0)return Yd;y0=1;const a=uS();function t(r,o){const l=r.a/255,c=o+'="'+r.hex+'"';return l<1?c+" "+o+'-opacity="'+l.toFixed(2).slice(1)+'"':c}function e(r,o,l){let c=r+o;return typeof l<"u"&&(c+=" "+l),c}function n(r,o,l){let c="",d=0,f=!1,p=0;for(let g=0;g<r.length;g++){const b=Math.floor(g%o),v=Math.floor(g/o);!b&&!f&&(f=!0),r[g]?(p++,g>0&&b>0&&r[g-1]||(c+=f?e("M",b+l,.5+v+l):e("m",d,0),d=0,f=!1),b+1<o&&r[g+1]||(c+=e("h",p),p=0)):d++}return c}return Yd.render=function(o,l,c){const d=a.getOptions(l),f=o.modules.size,p=o.modules.data,g=f+d.margin*2,b=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",v="<path "+t(d.color.dark,"stroke")+' d="'+n(p,f,d.margin)+'"/>',w='viewBox="0 0 '+g+" "+g+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+w+' shape-rendering="crispEdges">'+b+v+`</svg>
`;return typeof c=="function"&&c(null,x),x},Yd}var b0;function gC(){if(b0)return Hr;b0=1;const a=$x(),t=dC(),e=fC(),n=pC();function r(o,l,c,d,f){const p=[].slice.call(arguments,1),g=p.length,b=typeof p[g-1]=="function";if(!b&&!a())throw new Error("Callback required as last argument");if(b){if(g<2)throw new Error("Too few arguments provided");g===2?(f=c,c=l,l=d=void 0):g===3&&(l.getContext&&typeof f>"u"?(f=d,d=void 0):(f=d,d=c,c=l,l=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(c=l,l=d=void 0):g===2&&!l.getContext&&(d=c,c=l,l=void 0),new Promise(function(v,w){try{const S=t.create(c,d);v(o(S,l,d))}catch(S){w(S)}})}try{const v=t.create(c,d);f(null,o(v,l,d))}catch(v){f(v)}}return Hr.create=t.create,Hr.toCanvas=r.bind(null,e.render),Hr.toDataURL=r.bind(null,e.renderToDataURL),Hr.toString=r.bind(null,function(o,l,c){return n.render(o,c)}),Hr}var mC=gC();const yC=la(mC);function bC({url:a}){const[t,e]=H.useState("");return H.useEffect(()=>{let n=!0;return yC.toDataURL(a,{margin:1,scale:6}).then(r=>n&&e(r)).catch(()=>n&&e("")),()=>{n=!1}},[a]),O.jsxs("div",{className:"card qr-card",children:[O.jsx("a",{href:"https://mike-lalonde.github.io/",target:"_blank",rel:"noopener noreferrer",children:"Mike Lalonde's Tech Portfolio"}),O.jsx("div",{className:"card-subtitle"}),t?O.jsx("img",{className:"qr-img",src:t,alt:"Portfolio QR Code"}):O.jsx("div",{className:"muted",children:"QR code generating"})]})}function vC(){return O.jsxs("div",{className:"stack",children:[O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:O.jsx("h2",{children:"Welcome to My Technical Portfolio"})}),O.jsxs("p",{className:"muted",children:["This portfolio is a work in progress and was initiated on ",O.jsx("strong",{children:"February 18, 2026"}),". It is currently under active development and will continue to evolve over the next two weeks as additional projects and documentation are integrated."]}),O.jsx("p",{className:"muted",children:"My rsum is current and fully up to date."}),O.jsxs("p",{className:"muted",children:["This site will represent curated samples from more than ",O.jsx("strong",{children:"120 manually programmed projects"})," completed across three technical programs. The goal is to showcase representative work that demonstrates both breadth and depth of applied capability."]}),O.jsx("p",{className:"muted",children:"Please check back soon, as this portfolio will be fully updated and expanded within the next two weeks."}),O.jsx("div",{className:"muted",style:{marginTop:10},children:" Mike Lalonde"})]}),O.jsx("section",{className:"grid",children:O.jsx("div",{className:"card",children:O.jsx(bC,{url:"https://mike-lalonde.github.io/"})})})]})}const en=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),bf=[.001,0,0,.001,0,0],Xd=1.35,Tn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},gi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ko="pdfjs_internal_editor_",Tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},zt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},cS={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ye={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},xo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Xr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fo={ERRORS:0,WARNINGS:1,INFOS:5},ra={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},pu={moveTo:0,lineTo:1,curveTo:2,closePath:3},hS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let qu=Fo.WARNINGS;function SC(a){Number.isInteger(a)&&(qu=a)}function AC(){return qu}function Vu(a){qu>=Fo.INFOS&&console.info(`Info: ${a}`)}function Rt(a){qu>=Fo.WARNINGS&&console.warn(`Warning: ${a}`)}function se(a){throw new Error(a)}function Ut(a,t){a||se(t)}function wC(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Kf(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=TC(a)}catch{}const n=t?URL.parse(a,t):URL.parse(a);return wC(n)?n:null}function $f(a,t,e=!1){const n=URL.parse(a);return n?(n.hash=t,n.href):e&&Kf(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Lt(a,t,e,n=!1){return Object.defineProperty(a,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const er=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class v0 extends er{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Kd extends er{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Nu extends er{constructor(t){super(t,"InvalidPDFException")}}class Do extends er{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class EC extends er{constructor(t){super(t,"FormatError")}}class Hi extends er{constructor(t){super(t,"AbortException")}}function dS(a){(typeof a!="object"||a?.length===void 0)&&se("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const n=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),l=a.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Uo(a){typeof a!="string"&&se("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=a.charCodeAt(n)&255;return e}function xC(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function CC(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function _C(){try{return new Function(""),!0}catch{return!1}}class Fe{static get isLittleEndian(){return Lt(this,"isLittleEndian",CC())}static get isEvalSupported(){return Lt(this,"isEvalSupported",_C())}static get isOffscreenCanvasSupported(){return Lt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Lt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Lt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Lt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const $d=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class pt{static makeHexColor(t,e,n){return`#${$d[t]}${$d[e]}${$d[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const r=t[n],o=t[n+1];t[n]=r*e[0]+o*e[2]+e[4],t[n+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],o=e[1],l=e[2],c=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const g=t[n+p],b=t[n+p+1];t[n+p]=g*r+b*l+d,t[n+p+1]=g*o+b*c+f}}static applyInverseTransform(t,e){const n=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const r=e[0],o=e[1],l=e[2],c=e[3],d=e[4],f=e[5],p=t[0],g=t[1],b=t[2],v=t[3];let w=r*p+d,S=w,x=r*b+d,E=x,T=c*g+f,C=T,D=c*v+f,N=D;if(o!==0||l!==0){const R=o*p,k=o*b,z=l*g,F=l*v;w+=z,E+=z,x+=F,S+=F,T+=R,N+=R,D+=k,C+=k}n[0]=Math.min(n[0],w,x,S,E),n[1]=Math.min(n[1],T,D,C,N),n[2]=Math.max(n[2],w,x,S,E),n[3]=Math.max(n[3],T,D,C,N)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],o=t[2],l=t[3],c=n**2+r**2,d=n*o+r*l,f=o**2+l**2,p=(c+f)/2,g=Math.sqrt(p**2-(c*f-d**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,r)}static#t(t,e,n,r,o,l,c,d,f,p){if(f<=0||f>=1)return;const g=1-f,b=f*f,v=b*f,w=g*(g*(g*t+3*f*e)+3*b*n)+v*r,S=g*(g*(g*o+3*f*l)+3*b*c)+v*d;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],S)}static#e(t,e,n,r,o,l,c,d,f,p,g,b){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,r,o,l,c,d,-g/p,b);return}const v=p**2-4*g*f;if(v<0)return;const w=Math.sqrt(v),S=2*f;this.#t(t,e,n,r,o,l,c,d,(-p+w)/S,b),this.#t(t,e,n,r,o,l,c,d,(-p-w)/S,b)}static bezierBoundingBox(t,e,n,r,o,l,c,d,f){f[0]=Math.min(f[0],t,c),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,c),f[3]=Math.max(f[3],e,d),this.#e(t,n,o,c,e,r,l,d,3*(-t+3*(n-o)+c),6*(t-2*n+o),3*(n-t),f),this.#e(t,n,o,c,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),f)}}function TC(a){return decodeURIComponent(escape(a))}let Wd=null,S0=null;function fS(a){return Wd||(Wd=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,S0=new Map([["","t"]])),a.replaceAll(Wd,(t,e,n)=>e?e.normalize("NFKC"):S0.get(n))}function Wf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),dS(a)}const Qf="pdfjs_internal_id_";function RC(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...o]=e;if(!a(n)&&!Number.isInteger(n)||!t(r))return!1;const l=o.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function We(a,t,e){return Math.min(Math.max(a,t),e)}function pS(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(dS(a))}function MC(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):Uo(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});class Lo{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(o){if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(Lo.shouldBuildText(c))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)r(d)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Zf{static setupStorage(t,e,n,r,o){const l=r.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:o}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}c&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,o=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const c=o!=="richText",d=t.div;if(d.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=g}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);l.append(g),c&&Lo.shouldBuildText(r.name)&&f.push(g)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[g,b,v]=p.at(-1);if(b+1===g.children.length){p.pop();continue}const w=g.children[++p.at(-1)[1]];if(w===null)continue;const{name:S}=w;if(S==="#text"){const E=document.createTextNode(w.value);f.push(E),v.append(E);continue}const x=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,S):document.createElement(S);if(v.append(x),w.attributes&&this.setAttributes({html:x,element:w,storage:e,intent:o,linkService:n}),w.children?.length>0)p.push([w,-1,x]);else if(w.value){const E=document.createTextNode(w.value);c&&Lo.shouldBuildText(S)&&f.push(E),x.append(E)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Fi="http://www.w3.org/2000/svg";class $s{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function ha(a,t="text"){if(Ao(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class jo{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,b,v;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,g=0,b=0,v=1;break;case 90:p=0,g=1,b=1,v=0;break;case 270:p=0,g=-1,b=-1,v=0;break;case 0:p=1,g=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,v=-v);let w,S,x,E;p===0?(w=Math.abs(f-t[1])*n+o,S=Math.abs(d-t[0])*n+l,x=(t[3]-t[1])*n,E=(t[2]-t[0])*n):(w=Math.abs(d-t[0])*n+o,S=Math.abs(f-t[1])*n+l,x=(t[2]-t[0])*n,E=(t[3]-t[1])*n),this.transform=[p*n,g*n,b*n,v*n,w-p*n*d-b*n*f,S-g*n*d-v*n*f],this.width=x,this.height=E}get rawDims(){const t=this.viewBox;return Lt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new jo({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return pt.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];pt.applyTransform(e,this.transform);const n=[t[2],t[3]];return pt.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return pt.applyInverseTransform(n,this.transform),n}}class Gu extends er{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Ho(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function Yu(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function gS(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function mS(a,t="document.pdf"){if(typeof a!="string")return t;if(Ho(a))return Rt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(a);if(!n)return t;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const f of c)if(o.test(f))return r(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return t}class A0{started=Object.create(null);times=[];time(t){t in this.started&&Rt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Rt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-r}ms
`);return t.join("")}}function Ao(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function Ln(a){a.preventDefault()}function ge(a){a.preventDefault(),a.stopPropagation()}function kC(a){console.log("Deprecated API usage: "+a)}class Ou{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,c+=g):f==="+"&&(l-=p,c-=g),new Date(Date.UTC(n,r,o,l,c,d))}}function yS(a,{scale:t=1,rotation:e=0}){const{width:n,height:r}=a.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new jo({viewBox:o,userUnit:1,scale:t,rotation:e})}function da(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Rt(`Not a valid color format: "${a}"`),[0,0,0])}function DC(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;a.set(e,da(n))}t.remove()}function pe(a){const{a:t,b:e,c:n,d:r,e:o,f:l}=a.getTransform();return[t,e,n,r,o,l]}function li(a){const{a:t,b:e,c:n,d:r,e:o,f:l}=a.getTransform().invertSelf();return[t,e,n,r,o,l]}function Es(a,t,e=!1,n=!0){if(t instanceof jo){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:l}=a,c=Fe.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,p=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&a.setAttribute("data-main-rotation",t.rotation)}class ti{constructor(){const{pixelRatio:t}=ti;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,o=-1){let l=1/0,c=1/0,d=1/0;n=ti.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),r!==-1&&(c=r/t,d=r/e);const f=Math.min(l,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Pu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class LC{static get isDarkMode(){return Lt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class bS{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Lt(this,"commentForegroundColor",da(n))}}function vS(a,t,e,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return a=Math.round(a*n+r),t=Math.round(t*n+r),e=Math.round(e*n+r),[a,t,e]}function w0(a,t){const e=a[0]/255,n=a[1]/255,r=a[2]/255,o=Math.max(e,n,r),l=Math.min(e,n,r),c=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=c<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((n-r)/d+(n<r?6:0))*60;break;case n:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-n)/d+4)*60;break}}t[2]=c}function vf(a,t){const e=a[0],n=a[1],r=a[2],o=(1-Math.abs(2*r-1))*n,l=o*(1-Math.abs(e/60%2-1)),c=r-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=o+c,t[2]=c;break;case 2:t[0]=c,t[1]=o+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=o+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=o+c;break;case 5:case 6:t[0]=o+c,t[1]=c,t[2]=l+c;break}}function E0(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function x0(a,t,e){vf(a,e),e.map(E0);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];vf(t,e),e.map(E0);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const C0=new Map;function SS(a,t){const e=a[0]+a[1]*256+a[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=C0.get(e);if(n)return n;const r=new Float32Array(9),o=r.subarray(0,3),l=r.subarray(3,6);w0(a,l);const c=r.subarray(6,9);w0(t,c);const d=c[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),x0(l,c,o)<f){let p,g;d?(p=l[2],g=1):(p=0,g=l[2]);const b=.005;for(;g-p>b;){const v=l[2]=(p+g)/2;d===x0(l,c,o)<f?p=v:g=v}l[2]=d?g:p}return vf(l,o),n=pt.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),C0.set(e,n),n}function Jf({html:a,dir:t,className:e},n){const r=document.createDocumentFragment();if(typeof a=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=a.split(/(?:\r\n?|\n)/);for(let c=0,d=l.length;c<d;++c){const f=l[c];o.append(document.createTextNode(f)),c<d-1&&o.append(document.createElement("br"))}r.append(o)}else Zf.render({xfaHtml:a,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),n.append(r)}class Co{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#u=null;constructor(t){this.#i=t,Co.#u||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Ln,{signal:e}),t.addEventListener("pointerdown",Co.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ge(t)}#h(t){this.#i._focusEventsAllowed=!0,ge(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ln,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Co.#u[t]),this.#f(n)&&n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#m),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const r=this.#r=this.#m;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(r,e)):this.#n.append(n,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#m)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const r=this.#n.querySelector(n);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class NC{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Ln,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,r=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const c=o.x+(e?o.width:0);if(l>n){r=c,n=l;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,n]}show(t,e,n){const[r,o]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,r){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(o.addEventListener("contextmenu",Ln,{signal:c}),o.addEventListener("click",r,{signal:c})),this.#t.append(o)}}function AS(a,t,e){for(const n of e)t.addEventListener(n,a[n].bind(a))}class OC{#t=0;get id(){return`${ko}${this.#t++}`}}class tp{#t=Wf();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Lt(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await ha(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=tp._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((f,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;c.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=l.onerror=p});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Rt(r),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:o}=t;return this.#n(`${e}_${n}_${r}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class PC{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===o){c&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class qo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Fe.platform;for(const[n,r,o={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(r.bind(t,...l,e)(),o||ge(e))}}class ep{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return DC(t),Lt(this,"_colors",t)}convert(t){const e=da(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((o,l)=>o===e[l]))return ep._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?pt.makeHexColor(...e):t}}class qi{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#u=new PC;#l=null;#d=null;#h=null;#f=0;#m=new Set;#p=null;#c=null;#g=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#C=null;#E=null;#S=null;#T=null;#w=!1;#x=null;#k=new OC;#R=!1;#M=!1;#I=!1;#L=null;#O=null;#z=null;#P=null;#V=null;#_=Tt.NONE;#A=new Set;#N=null;#F=null;#j=null;#X=null;#Y=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#B=null;#G=null;#Z=null;#J=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=qi.prototype,e=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Lt(this,"_keyboardManager",new qo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#G.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,r,o,l,c,d,f,p,g,b,v,w,S,x){const E=this._signal=this.#t.signal;this.#G=t,this.#Z=e,this.#J=n,this.#s=r,this.#l=o,this.#F=l,this.#Y=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:E}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),c._on("setpreference",this.onSetPreference.bind(this),{signal:E}),c._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:E}),window.addEventListener("pointerdown",()=>{this.#M=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#M=!1},{capture:!0,signal:E}),this.#lt(),this.#dt(),this.#et(),this.#r=d.annotationStorage,this.#C=d.filterFactory,this.#j=f,this.#T=p||null,this.#y=g,this.#v=b,this.#b=v,this.#V=w||null,this.viewParameters={realScale:$s.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=x!==!1,o?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#g.clear(),this.#P?.clear(),this.#e=null,this.#A.clear(),this.#u.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#x?.hide(),this.#x=null,this.#z?.destroy(),this.#z=null,this.#i=null,this.#E&&(clearTimeout(this.#E),this.#E=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#Y=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Lt(this,"hcmFilter",this.#j?this.#C.addHCMFilter(this.#j.foreground,this.#j.background):"none")}get direction(){return Lt(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Lt(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Lt(this,"highlightColors",null);const e=new Map,n=!!this.#j;for(const[r,o]of t){const l=r.endsWith("_HCM");if(n&&l){e.set(r.replace("_HCM",""),o);continue}!n&&!l&&e.set(r,o)}return Lt(this,"highlightColors",e)}get highlightColorNames(){return Lt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#z=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,r){this.#l?.showDialog(this,t,e,n,r)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),r=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await n}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#b=e)}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#G.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:r,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=o&&e<=o+c)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*$s.PDF_TO_CSS_UNITS;for(const e of this.#g)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c}=n,d=n.toString(),p=this.#Q(n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const b=this.#tt(p),v=this.#_===Tt.NONE,w=()=>{const S=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c,text:d});v&&this.showAllEditors("highlight",!0,!0),e&&S?.editComment()};if(v){this.switchToMode(Tt.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#x||=new NC(this),this.#x.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${ko}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#N&&(this.#x?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#N)return;const r=this.#Q(t).closest(".textLayer");if(!r){this.#N&&(this.#x?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#N=e,this.#D({hasSelectedText:!0}),!(this.#_!==Tt.HIGHLIGHT&&this.#_!==Tt.NONE)&&(this.#_===Tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#_===Tt.HIGHLIGHT?this.#tt(r):null;if(o?.toggleDrawing(),this.#M){const l=new AbortController,c=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else o?.toggleDrawing(!0),this.#$("main_toolbar")}}#$(t=""){this.#_===Tt.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ut(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ct(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#$("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#O=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[t,e]=this.#O;this.#O=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#L)return;this.#L=new AbortController;const t=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#L?.abort(),this.#L=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#c)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#c)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#A){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#c)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Rt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const f=await r.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#st(d);this.#rt(o)},c=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){Rt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==Tt.NONE&&!this.isEditorHandlingKeyboard&&qi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#$("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(t){Object.entries(t).some(([n,r])=>this.#K[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,t)}),this.#_===Tt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#q([[zt.HIGHLIGHT_FREE,!0]]))}#q(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ut(),this.#nt(),this.#D({isEditing:this.#_!==Tt.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:this.#u.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ct(),this.#it(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(const e of this.#c)this.#q(e.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#R?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1,o=!1){if(this.#_!==t&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#_===Tt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#_=t,t===Tt.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===Tt.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===Tt.POPUP){this.#i||=await this.#Y.getAnnotationsByType(new Set(this.#c.map(d=>d._editorType)));const l=new Set,c=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:g}=d;f&&l.add(f),p&&!g&&c.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:p,contentsObj:g}=d;p&&g?.str&&!l.has(f)&&!this.#m.has(f)&&c.push(d)}this.#l?.showSidebar(c)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#c){switch(t){case zt.CREATE:this.currentLayer.addNewEditor(e);return;case zt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#A)n.updateParams(t,e);else for(const n of this.#c)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#X?.get(zt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#q([[zt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#I!==t){this.#I=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#R){this.#R=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#R){this.#R=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#E&&clearTimeout(this.#E),this.#E=setTimeout(()=>{this.focusMainContainer(),this.#E=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#q(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#A);return t}updateUI(t){this.#gt===t&&this.#q(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#q(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#q(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#q(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#u.undo(),this.#D({hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#u.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#u.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#u.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#u.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==Tt.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,o]=this.#H,l=[...this.#A],c=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},c);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#A)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:r,y:o,pageIndex:l},c]of t)c.newX=r,c.newY=o,c.newPageIndex=l,e||=r!==c.savedX||o!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const n=(r,o,l,c)=>{if(this.#n.has(r.id)){const d=this.#a.get(c);d?r._setParentAndPosition(d,o,l):(r.pageIndex=c,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:c}]of t)n(r,o,l,c)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:c}]of t)n(r,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}isEditingMode(){return this.#_!==Tt.NONE}get imageManager(){return Lt(this,"imageManager",new tp)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(f,p,g,b)=>({x:(p-r)/l,y:1-(f+g-n)/o,width:b/l,height:g/o});break;case"180":c=(f,p,g,b)=>({x:1-(f+g-n)/o,y:1-(p+b-r)/l,width:g/o,height:b/l});break;case"270":c=(f,p,g,b)=>({x:1-(p+b-r)/l,y:(f-n)/o,width:b/l,height:g/o});break;default:c=(f,p,g,b)=>({x:(f-n)/o,y:(p-r)/l,width:g/o,height:b/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const g=e.getRangeAt(f);if(!g.collapsed)for(const{x:b,y:v,width:w,height:S}of g.getClientRects())w===0||S===0||d.push(c(b,v,w,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#_===Tt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#P?.get(t);r&&(r.setCanvas(e,n),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class fi{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#u=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#u=t,this.#h=t._uiManager.useNewAltTextFlow,fi.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){fi._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",fi.#f.missing),e.setAttribute("data-l10n-id",fi.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#u._uiManager._signal;t.addEventListener("contextmenu",Ln,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#h&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#r=!0,r(o))},{signal:n}),await this.#p(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await fi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#u.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(this.#l=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",fi.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",fi.#f[`${this.#m}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#u.id}`;const r=100,o=this.#u._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#u.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class gu{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#u=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:r,y:o,width:l,height:c}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+n-o)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Ln,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,ge(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,ge(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,r(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,r;if(e)[n,r]=e;else{[n,r]=this.#n.commentButtonPosition;const{width:p,height:g,x:b,y:v}=this.#n;n=b+n*p,r=v+r*g}const o=this.#n.parent.boundingClientRect,{x:l,y:c,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,l+n*d,c+r*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#u||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#u=!0;return}this.#r=t,this.#o=new Date,this.#u=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#u=!1}}class Vo{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#u;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#i=n,this.#n=e,this.#a=r,this.#s=o,this.#r=l,this.#d=new AbortController,this.#u=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#u})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ti.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,o=AbortSignal.any([this.#u,r.signal]),l=this.#t,c={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ge(f),d(f))},c),l.addEventListener("pointerup",d,c),l.addEventListener("pointercancel",d,c);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#u,this.#h.signal]),o=this.#t,l={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#m.bind(this),l);const c=this.#p.bind(this);o.addEventListener("touchend",c,l),o.addEventListener("touchcancel",c,l),l.capture=!0,o.addEventListener("pointerdown",ge,l),o.addEventListener("pointermove",ge,l),o.addEventListener("pointercancel",ge,l),o.addEventListener("pointerup",ge,l),this.#a?.()}if(ge(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;ge(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:o}=e,{screenX:l,screenY:c}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:g,touch1Y:b}=d,v=g-f,w=b-p,S=l-r,x=c-o,E=Math.hypot(S,x)||1,T=Math.hypot(v,w)||1;if(!this.#e&&Math.abs(T-E)<=Vo.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=c,!this.#e){this.#e=!0;return}const C=[(r+l)/2,(o+c)/2];this.#s?.(C,T,E)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(ge(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class bt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#u=null;#l=null;#d=null;#h=null;#f=null;#m="";#p=!1;#c=null;#g=!1;#y=!1;#v=!1;#b=null;#C=0;#E=0;#S=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#x=bt._zIndex++;static _borderLineWidth=-1;static _colorManager=new ep;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=bt.prototype._resizeWithKeyboard,e=qi.TRANSLATE_SMALL,n=qi.TRANSLATE_BIG;return Lt(this,"_resizerKeyboardManager",new qo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],bt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[c,d]=this.parentDimensions;this.x=t.x/c,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Lt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new BC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(bt._l10n??=t,bt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),bt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);bt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){se("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#x}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/o,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#k([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#k(this.parentDimensions,t,e)}translateInPage(t,e){this.#c||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#c||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,f]=this.getBaseTranslation();l+=d,c+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=bt,r=n/t,o=n/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:o,y:l,width:c,height:d}=this;if(c*=n,d*=r,o*=n,l*=r,this._mustFixPosition)switch(t){case 0:o=We(o,0,n-c),l=We(l,0,r-d);break;case 90:o=We(o,0,n-d),l=We(l,c,r);break;case 180:o=We(o,c,n),l=We(l,d,r);break;case 270:o=We(o,d,n),l=We(l,0,r-c);break}this.x=o/=n,this.y=l/=r;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#R(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return bt.#R(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return bt.#R(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#u)return;this.#u=document.createElement("div"),this.#u.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#u.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#L.bind(this,n),{signal:e}),r.addEventListener("contextmenu",Ln,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#u)}#L(t,e){e.preventDefault();const{isMac:n}=Fe.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",ge,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ln,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#z()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#O(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#d;this.#d=null;const o=this.x,l=this.y,c=this.width,d=this.height;o===t&&l===e&&c===n&&d===r||this.addCommands({cmd:this.#O.bind(this,o,l,c,d),undo:this.#O.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[n,r]=this.parentDimensions,o=this.x,l=this.y,c=this.width,d=this.height,f=bt.MIN_SIZE/n,p=bt.MIN_SIZE/r,g=this.#M(this.rotation),b=(B,Y)=>[g[0]*B+g[2]*Y,g[1]*B+g[3]*Y],v=this.#M(360-this.rotation),w=(B,Y)=>[v[0]*B+v[2]*Y,v[1]*B+v[3]*Y];let S,x,E=!1,T=!1;switch(t){case"topLeft":E=!0,S=(B,Y)=>[0,0],x=(B,Y)=>[B,Y];break;case"topMiddle":S=(B,Y)=>[B/2,0],x=(B,Y)=>[B/2,Y];break;case"topRight":E=!0,S=(B,Y)=>[B,0],x=(B,Y)=>[0,Y];break;case"middleRight":T=!0,S=(B,Y)=>[B,Y/2],x=(B,Y)=>[0,Y/2];break;case"bottomRight":E=!0,S=(B,Y)=>[B,Y],x=(B,Y)=>[0,0];break;case"bottomMiddle":S=(B,Y)=>[B/2,Y],x=(B,Y)=>[B/2,0];break;case"bottomLeft":E=!0,S=(B,Y)=>[0,Y],x=(B,Y)=>[B,0];break;case"middleLeft":T=!0,S=(B,Y)=>[0,Y/2],x=(B,Y)=>[B,Y/2];break}const C=S(c,d),D=x(c,d);let N=b(...D);const R=bt._round(o+N[0]),k=bt._round(l+N[1]);let z=1,F=1,V,j;if(e.fromKeyboard)({deltaX:V,deltaY:j}=e);else{const{screenX:B,screenY:Y}=e,[rt,ht]=this.#l;[V,j]=this.screenToPageTranslation(B-rt,Y-ht),this.#l[0]=B,this.#l[1]=Y}if([V,j]=w(V/n,j/r),E){const B=Math.hypot(c,d);z=F=Math.max(Math.min(Math.hypot(D[0]-C[0]-V,D[1]-C[1]-j)/B,1/c,1/d),f/c,p/d)}else T?z=We(Math.abs(D[0]-C[0]-V),f,1)/c:F=We(Math.abs(D[1]-C[1]-j),p,1)/d;const G=bt._round(c*z),tt=bt._round(d*F);N=b(...x(G,tt));const $=R-N[0],J=k-N[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=G,this.height=tt,this.x=$,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Co(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(fi.initialize(bt._l10n),this.#i=new fi(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new gu(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:r}}=this.#n;return{text:e,richText:t,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new gu(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new gu(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new gu(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,c=l+o+1,d=r-100,f=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#j();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),AS(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Vo({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#_.bind(this),onPinchEnd:this.#A.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#V(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#_(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#M(this.rotation),c=(R,k)=>[l[0]*R+l[2]*k,l[1]*R+l[3]*k],[d,f]=this.parentDimensions,p=this.x,g=this.y,b=this.width,v=this.height,w=bt.MIN_SIZE/d,S=bt.MIN_SIZE/f;o=Math.max(Math.min(o,1/b,1/v),w/b,S/v);const x=bt._round(b*o),E=bt._round(v*o);if(x===b&&E===v)return;this.#c||=[p,g,b,v];const T=c(b/2,v/2),C=bt._round(p+T[0]),D=bt._round(g+T[1]),N=c(x/2,E/2);this.x=C-N[0],this.y=D-N[1],this.width=x,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#A(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(t){const{isMac:e}=Fe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#F(t);return}this.#N(t)}#N(t){const{isMac:e}=Fe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},c=f=>{r.abort(),this.#r=null,this.#p=!1,this._uiManager.endDragSession()||this.#N(f),n&&this._onStopDragging()};e&&(this.#C=t.clientX,this.#E=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:b}=f;if(b!==this.#r){ge(f);return}const[v,w]=this.screenToPageTranslation(p-this.#C,g-this.#E);this.#C=p,this.#E=g,this._uiManager.dragSelectedEditors(v,w)},l),window.addEventListener("touchmove",ge,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#T||f.isPrimary)&&c(f),ge(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){c(f);return}ge(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[c,d]=this.pageTranslation,f=t/r,p=e/r,g=this.x*o,b=this.y*l,v=this.width*o,w=this.height*l;switch(n){case 0:return[g+f+c,l-b-p-w+d,g+f+v+c,l-b-p+d];case 90:return[g+p+c,l-b+f+d,g+p+w+c,l-b+f+v+d];case 180:return[g-f-v+c,l-b+p+d,g-f+c,l-b+p+w+d];case 270:return[g-p-w+c,l-b-f-v+d,g-p+c,l-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,o,l]=t,c=o-n,d=l-r;switch(this.rotation){case 0:return[n,e-l,c,d];case 90:return[n,e-r,d,c];case 180:return[o,e-r,c,d];case 270:return[o,e-l,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:r,deleted:o,richText:l},uid:c,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||p,popupRef:!o,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&r>0&&t<o&&n>0}#j(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#j()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,l]=r.pageDimensions,[c,d,f,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=c/o,r.y=d/l,r.width=f/o,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#B(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#T?.destroy(),this.#T=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#u.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,r,o,l]=this.getPDFRect();return[bt._round(n+(o-n)*t),bt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#u.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),c=this.#Y.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",this.#K.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",bt._l10nResizer[p])}}const n=this.#e[0];let r=0;for(const l of e){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let c=0;c<r-o;c++)this.#u.append(this.#u.firstChild);else if(o>r)for(let c=0;c<o-r;c++)this.#u.firstChild.before(this.#u.lastChild);let l=0;for(const c of e){const f=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",bt._l10nResizer[f])}}this.#H(0),this.#v=!0,this.#u.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){bt._resizerKeyboardManager.exec(this,t)}#Y(t){this.#v&&t.relatedTarget?.parentNode!==this.#u&&this.#B()}#K(t){this.#m=this.#v?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#P(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#v=!1,this.#H(-1),this.#z()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#u?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#S||=new Map;const{action:n}=t;let r=this.#S.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(n),this.#S.size===0&&(this.#S=null)},bt._telemetryTimeout),this.#S.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class BC extends bt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const _0=3285377520,Vn=4294901760,ui=65535;class wS{constructor(t){this.h1=t?t&4294967295:_0,this.h2=t?t&4294967295:_0}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,x=t.length;S<x;S++){const E=t.charCodeAt(S);E<=255?e[n++]=E:(e[n++]=E>>>8,e[n++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(e.buffer,0,r);let c=0,d=0,f=this.h1,p=this.h2;const g=3432918353,b=461845907,v=g&ui,w=b&ui;for(let S=0;S<r;S++)S&1?(c=l[S],c=c*g&Vn|c*v&ui,c=c<<15|c>>>17,c=c*b&Vn|c*w&ui,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[S],d=d*g&Vn|d*v&ui,d=d<<15|d>>>17,d=d*b&Vn|d*w&ui,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*g&Vn|c*v&ui,c=c<<15|c>>>17,c=c*b&Vn|c*w&ui,r&1?f^=c:p^=c}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Vn|t*36045&ui,e=e*4283543511&Vn|((e<<16|t>>>16)*2950163797&Vn)>>>16,t^=e>>>1,t=t*444984403&Vn|t*60499&ui,e=e*3301882366&Vn|((e<<16|t>>>16)*3120437893&Vn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Sf=Object.freeze({map:null,hash:"",transfer:void 0});class np{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof bt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof bt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(r=!0,n[o]=l);else r=!0,this.#n.set(t,e);r&&this.#a(),e instanceof bt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ES(this)}get serializable(){if(this.#n.size===0)return Sf;const t=new Map,e=new wS,n=[],r=Object.create(null);let o=!1;for(const[l,c]of this.#n){const d=c instanceof bt?c.serialize(!1,r):c;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Sf}get editorStats(){let t=null;const e=new Map;let n=0,r=0;for(const o of this.#n.values()){if(!(o instanceof bt)){o.popup&&(o.popup.deleted?r+=1:n+=1);continue}o.isCommentDeleted?r+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[c]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let g=d.get(f);g||(g=new Map,d.set(f,g));const b=g.get(p)??0;g.set(p,b+1)}}if((r>0||n>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class ES extends np{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:n,transfer:r}}get print(){se("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Lt(this,"modifiedIds",{ids:new Set,hash:""})}}class IC{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Ut(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=t,c=new FontFace(r,o,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(r),n?.(t)}catch{Rt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}se("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Rt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Lt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Lt(this,"isSyncFontLoadingSupported",en||Fe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ut(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Lt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(D,N){return D.charCodeAt(N)<<24|D.charCodeAt(N+1)<<16|D.charCodeAt(N+2)<<8|D.charCodeAt(N+3)&255}function r(D,N,R,k){const z=D.substring(0,N),F=D.substring(N+R);return z+k+F}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function p(D,N){if(++f>30){Rt("Load test font never loaded."),N();return}if(d.font="30px "+D,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(p.bind(null,D,N))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,g.length,g);const w=16,S=1482184792;let x=n(b,w);for(o=0,l=g.length-3;o<l;o+=4)x=x-S+n(g,o)|0;o<g.length&&(x=x-S+n(g+"XXX",o)|0),b=r(b,w,4,xC(x));const E=`url(data:font/opentype;base64,${btoa(b)});`,T=`@font-face {font-family:"${g}";src:${E}}`;this.insertRule(T);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const D of[t.loadedName,g]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=D,C.append(N)}this._document.body.append(C),p(g,()=>{C.remove(),e.complete()})}}class zC{#t;constructor(t,e=null,n,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${pS(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(l){Rt(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function FC(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(en)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function UC(a){if(en&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Uo(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function mu(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const Af=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,jC=a=>typeof a=="object"&&typeof a?.name=="string",xS=RC.bind(null,Af,jC);class HC{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Rt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const yu={DATA:1,ERROR:2},ke={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function T0(){}function pn(a){if(a instanceof Hi||a instanceof Nu||a instanceof v0||a instanceof Do||a instanceof Kd)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||se('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Hi(a.message);case"InvalidPDFException":return new Nu(a.message);case"PasswordException":return new v0(a.message,a.code);case"ResponseException":return new Do(a.message,a.status,a.missing);case"UnknownErrorException":return new Kd(a.message,a.details)}return new Kd(a.message,a.toString())}class wo{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===yu.DATA)r.resolve(t.data);else if(t.callback===yu.ERROR)r.reject(pn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:yu.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:yu.ERROR,callbackId:t.callbackId,reason:pn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,r){const o=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:c,stream:ke.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ut(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:ke.CANCEL,streamId:o,reason:pn(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this,c=this.actionHandler[t.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:ke.ENQUEUE,streamId:e,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:ke.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Ut(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:ke.ERROR,streamId:e,reason:pn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(c,t.data,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:ke.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:ke.START_COMPLETE,streamId:e,reason:pn(f)})})}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case ke.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(pn(t.reason));break;case ke.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(pn(t.reason));break;case ke.PULL:if(!c){o.postMessage({sourceName:n,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||T0).then(function(){o.postMessage({sourceName:n,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,reason:pn(f)})});break;case ke.ENQUEUE:if(Ut(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case ke.CLOSE:if(Ut(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case ke.ERROR:Ut(l,"error should have stream controller"),l.controller.error(pn(t.reason)),this.#a(l,e);break;case ke.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(pn(t.reason)),this.#a(l,e);break;case ke.CANCEL:if(!c)break;const d=pn(t.reason);Promise.try(c.onCancel||T0,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,reason:pn(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class CS{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){se("Abstract method `_createCanvas` called.")}}class qC extends CS{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class _S{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){se("Abstract method `_fetch` called.")}}class R0 extends _S{async _fetch(t){const e=await ha(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Uo(e)}}class TS{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,o){return"none"}destroy(t=!1){}}class VC extends TS{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#u(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(Fi,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(Fi,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=d[g]/255;const p=f.join(",");return[p,p,p]}const[e,n,r]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=n[d]/255,c[d]=r[d]/255;return[o.join(","),l.join(","),c.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Ho(e)?Rt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=$f(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,r,o]=this.#d(t),l=t.length===1?n:`${n}${r}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const c=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#h(c);this.#o.set(t,d),this.#o.set(l,d);const f=this.#p(c);return this.#g(n,r,o,f),d}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let o=this.#u.get(r);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#u.set(r,o)),!t||!e))return o.url;const l=this.#v(t);t=pt.makeHexColor(...l);const c=this.#v(e);if(e=pt.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const w=v/255;d[v]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,g=o.filter=this.#p(p);this.#g(f,f,f,g),this.#m(g);const b=(v,w)=>{const S=l[v]/255,x=c[v]/255,E=new Array(w+1);for(let T=0;T<=w;T++)E[T]=S+T/w*(x-S);return E.join(",")};return this.#g(b(0,5),b(1,5),b(2,5),g),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const c=this.#p(o);return this.#y(n,c),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const c=this.#p(o);return this.#f(c),t&&this.#y(n,c),l}addHighlightHCMFilter(t,e,n,r,o){const l=`${e}-${n}-${r}-${o}`;let c=this.#u.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#u.set(t,c)),!e||!n))return c.url;const[d,f]=[e,n].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,v]=[r,o].map(this.#v.bind(this));g<p&&([p,g,b,v]=[g,p,v,b]),this.#l.style.color="";const w=(E,T,C)=>{const D=new Array(256),N=(g-p)/C,R=E/255,k=(T-E)/(255*C);let z=0;for(let F=0;F<=C;F++){const V=Math.round(p+F*N),j=R+F*k;for(let G=z;G<=V;G++)D[G]=j;z=V+1}for(let F=z;F<256;F++)D[F]=D[z-1];return D.join(",")},S=`g_${this.#n}_hcm_${t}_filter`,x=c.filter=this.#p(S);return this.#m(x),this.#g(w(b[0],v[0],5),w(b[1],v[1],5),w(b[2],v[2],5),x),c.url=this.#h(S),c.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(Fi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(Fi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(Fi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,n){const r=this.#a.createElementNS(Fi,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#g(t,e,n,r){const o=this.#a.createElementNS(Fi,"feComponentTransfer");r.append(o),this.#c(o,"feFuncR",t),this.#c(o,"feFuncG",e),this.#c(o,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(Fi,"feComponentTransfer");e.append(n),this.#c(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,da(getComputedStyle(this.#l).getPropertyValue("color"))}}class RS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){se("Abstract method `_fetch` called.")}}class M0 extends RS{async _fetch(t){const e=await ha(t,"arraybuffer");return new Uint8Array(e)}}class MS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){se("Abstract method `_fetch` called.")}}class k0 extends MS{async _fetch(t){const e=await ha(t,"arraybuffer");return new Uint8Array(e)}}en&&Rt("Please use the `legacy` build in Node.js environments.");async function ip(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class GC extends TS{}class YC extends CS{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class XC extends _S{async _fetch(t){return ip(t)}}class KC extends RS{async _fetch(t){return ip(t)}}class $C extends MS{async _fetch(t){return ip(t)}}const qr="__forcedDependency",{floor:D0,ceil:L0}=Math;function bu(a,t,e,n,r,o){a[t*4+0]=Math.min(a[t*4+0],e),a[t*4+1]=Math.min(a[t*4+1],n),a[t*4+2]=Math.max(a[t*4+2],r),a[t*4+3]=Math.max(a[t*4+3],o)}const wf=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class WC{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===wf}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const vu=(a,t)=>{if(!a)return;let e=a.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},a.set(t,e)),e};class QC{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[qr]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#u=-1;#l=new Set;#d=new Map;#h=new Map;#f;#m;#p;#c;#g;constructor(t,e,n=!1){this.#f=t.width,this.#m=t.height,this.#y(e),n&&(this.#g=new Map)}growOperationsCount(t){t>=this.#c.length&&this.#y(t,this.#c)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#c=new Uint32Array(n),e&&e.length>0?(this.#c.set(e),this.#c.fill(wf,e.length)):this.#c.fill(wf)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[qr]:{__proto__:this.#e[qr]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(vu(this.#g,t)?.dependencies.add(n),this.#c[t]=this.#c[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(vu(this.#g,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(vu(this.#g,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}pushBaseTransform(t){return this.#s.push(pt.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(qr,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(qr,t);return this}resetBBox(t){return this.#u!==t&&(this.#u=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,r,o,l){const c=pt.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];pt.axialAlignedBoundingBox([n,o,r,l],c,d);const f=pt.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,r,o,l){const c=this.#r;if(c[0]===1/0)return this;const d=pt.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(c[0]===-1/0)return pt.axialAlignedBoundingBox([n,o,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return pt.axialAlignedBoundingBox([n,o,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],c[3])),this}recordCharacterBBox(t,e,n,r=1,o=0,l=0,c){const d=n.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(n),f!==!1&&(p=[0,0,0,0],pt.axialAlignedBoundingBox(d,n.fontMatrix,p),(r!==1||o!==0||l!==0)&&pt.scaleMinMax([r,0,0,-r,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(t);const g=c();return d&&p&&f===void 0&&(f=p[0]<=o-g.actualBoundingBoxLeft&&p[2]>=o+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,this.#h.set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-g.actualBoundingBoxLeft,o+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,r=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(r[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[qr]),this.#g){const n=vu(this.#g,t),{dependencies:r}=n;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(t),n.isRenderingOperation=!0}if(this.#u===t){const n=D0(this.#o[0]*256/this.#f),r=D0(this.#o[1]*256/this.#m),o=L0(this.#o[2]*256/this.#f),l=L0(this.#o[3]*256/this.#m);bu(this.#p,t,n,r,o,l);for(const c of this.#l)c!==t&&bu(this.#p,c,n,r,o,l);for(const c of this.#n)c!==t&&bu(this.#p,c,n,r,o,l);for(const c of this.#a)c!==t&&bu(this.#p,c,n,r,o,l);e||(this.#l.clear(),this.#u=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#u===t&&(this.#u=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new WC(this.#c,this.#p)}takeDebugMetadata(){return this.#g}}class Bu{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof Bu&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,r,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,r,o,l),this}recordBBox(t,e,n,r,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,r,o,l),this}recordCharacterBBox(t,e,n,r,o,l,c){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,r,o,l,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Gn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Xe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Ef(a,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),a.clip(r)}class sp{isModifyingCurrentTransform(){return!1}getPattern(){se("Abstract method `getPattern` called.")}}class ZC extends sp{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let o;if(r===Xe.STROKE||r===Xe.FILL){const l=e.current.getClippedPathBoundingBox(r,pe(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",c,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=pt.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Ef(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else Ef(t,this._bbox),o=this._createGradient(t);return o}}function Qd(a,t,e,n,r,o,l,c){const d=t.coords,f=t.colors,p=a.data,g=a.width*4;let b;d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b),d[n+1]>d[r+1]&&(b=n,n=r,r=b,b=l,l=c,c=b),d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b);const v=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,S=(d[n]+t.offsetX)*t.scaleX,x=(d[n+1]+t.offsetY)*t.scaleY,E=(d[r]+t.offsetX)*t.scaleX,T=(d[r+1]+t.offsetY)*t.scaleY;if(w>=T)return;const C=f[o],D=f[o+1],N=f[o+2],R=f[l],k=f[l+1],z=f[l+2],F=f[c],V=f[c+1],j=f[c+2],G=Math.round(w),tt=Math.round(T);let $,J,B,Y,rt,ht,L,I;for(let Q=G;Q<=tt;Q++){if(Q<x){const ct=Q<w?0:(w-Q)/(w-x);$=v-(v-S)*ct,J=C-(C-R)*ct,B=D-(D-k)*ct,Y=N-(N-z)*ct}else{let ct;Q>T?ct=1:x===T?ct=0:ct=(x-Q)/(x-T),$=S-(S-E)*ct,J=R-(R-F)*ct,B=k-(k-V)*ct,Y=z-(z-j)*ct}let M;Q<w?M=0:Q>T?M=1:M=(w-Q)/(w-T),rt=v-(v-E)*M,ht=C-(C-F)*M,L=D-(D-V)*M,I=N-(N-j)*M;const at=Math.round(Math.min($,rt)),dt=Math.round(Math.max($,rt));let ut=g*Q+at*4;for(let ct=at;ct<=dt;ct++)M=($-ct)/($-rt),M<0?M=0:M>1&&(M=1),p[ut++]=J-(J-ht)*M|0,p[ut++]=B-(B-L)*M|0,p[ut++]=Y-(Y-I)*M|0,p[ut++]=255}}function JC(a,t,e){const n=t.coords,r=t.colors;let o,l;switch(t.type){case"lattice":const c=t.verticesPerRow,d=Math.floor(n.length/c)-1,f=c-1;for(o=0;o<d;o++){let p=o*c;for(let g=0;g<f;g++,p++)Qd(a,e,n[p],n[p+1],n[p+c],r[p],r[p+1],r[p+c]),Qd(a,e,n[p+c+1],n[p+1],n[p+c],r[p+c+1],r[p+1],r[p+c])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Qd(a,e,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class t_ extends sp{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=f/g,w=p/b,S={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/v,scaleY:1/w},x=g+4,E=b+4,T=n.getCanvas("mesh",x,E),C=T.context,D=C.createImageData(g,b);if(e){const R=D.data;for(let k=0,z=R.length;k<z;k+=4)R[k]=e[0],R[k+1]=e[1],R[k+2]=e[2],R[k+3]=255}for(const R of this._figures)JC(D,R,S);return C.putImageData(D,2,2),{canvas:T.canvas,offsetX:c-2*v,offsetY:d-2*w,scaleX:v,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){Ef(t,this._bbox);const o=new Float32Array(2);if(r===Xe.SHADING)pt.singularValueDecompose2dScale(pe(t),o);else if(this.matrix){pt.singularValueDecompose2dScale(this.matrix,o);const[c,d]=o;pt.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=c,o[1]*=d}else pt.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,r===Xe.SHADING?null:this._background,e.cachedCanvases);return r!==Xe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class e_ extends sp{getPattern(){return"hotpink"}}function n_(a){switch(a[0]){case"RadialAxial":return new ZC(a);case"Mesh":return new t_(a);case"Dummy":return new e_}throw new Error(`Unknown IR type: ${a[0]}`)}const N0={COLORED:1,UNCOLORED:2};class rp{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:n,operatorList:r,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Vu("TilingType: "+l);const g=n[0],b=n[1],v=n[2],w=n[3],S=v-g,x=w-b,E=new Float32Array(2);pt.singularValueDecompose2dScale(this.matrix,E);const[T,C]=E;pt.singularValueDecompose2dScale(this.baseTransform,E);const D=T*E[0],N=C*E[1];let R=S,k=x,z=!1,F=!1;const V=Math.ceil(f*D),j=Math.ceil(p*N),G=Math.ceil(S*D),tt=Math.ceil(x*N);V>=G?R=f:z=!0,j>=tt?k=p:F=!0;const $=this.getSizeAndScale(R,this.ctx.canvas.width,D),J=this.getSizeAndScale(k,this.ctx.canvas.height,N),B=t.cachedCanvases.getCanvas("pattern",$.size,J.size),Y=B.context,rt=d.createCanvasGraphics(Y,e);if(rt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(rt,o,c),Y.translate(-$.scale*g,-J.scale*b),rt.transform(0,$.scale,0,0,J.scale,0,0),Y.save(),rt.dependencyTracker?.save(),this.clipBbox(rt,g,b,v,w),rt.baseTransform=pe(rt.ctx),rt.executeOperatorList(r),rt.endDrawing(),rt.dependencyTracker?.restore(),Y.restore(),z||F){const ht=B.canvas;z&&(R=f),F&&(k=p);const L=this.getSizeAndScale(R,this.ctx.canvas.width,D),I=this.getSizeAndScale(k,this.ctx.canvas.height,N),Q=L.size,M=I.size,at=t.cachedCanvases.getCanvas("pattern-workaround",Q,M),dt=at.context,ut=z?Math.floor(S/f):0,ct=F?Math.floor(x/p):0;for(let wt=0;wt<=ut;wt++)for(let Et=0;Et<=ct;Et++)dt.drawImage(ht,Q*wt,M*Et,Q,M,0,0,Q,M);return{canvas:at.canvas,scaleX:L.scale,scaleY:I.scale,offsetX:g,offsetY:b}}return{canvas:B.canvas,scaleX:$.scale,scaleY:J.scale,offsetX:g,offsetY:b}}getSizeAndScale(t,e,n){const r=Math.max(rp.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=r?o=r:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,r,o){const l=r-e,c=o-n;t.ctx.rect(e,n,l,c),pt.axialAlignedBoundingBox([e,n,r,o],pe(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,o=t.current;switch(e){case N0.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=c;break;case N0.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new EC(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r,o){let l=n;r!==Xe.SHADING&&(l=pt.transform(l,e.baseTransform),this.matrix&&(l=pt.transform(l,this.matrix)));const c=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(d),f}}function i_({src:a,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=Fe.isLittleEndian?4278190080:255,[d,f]=l?[o,c]:[c,o],p=n>>3,g=n&7,b=a.length;e=new Uint32Array(e.buffer);let v=0;for(let w=0;w<r;w++){for(const x=t+p;t<x;t++){const E=t<b?a[t]:255;e[v++]=E&128?f:d,e[v++]=E&64?f:d,e[v++]=E&32?f:d,e[v++]=E&16?f:d,e[v++]=E&8?f:d,e[v++]=E&4?f:d,e[v++]=E&2?f:d,e[v++]=E&1?f:d}if(g===0)continue;const S=t<b?a[t++]:255;for(let x=0;x<g;x++)e[v++]=S&1<<7-x?f:d}return{srcPos:t,destPos:v}}const O0=16,P0=100,s_=15,B0=10,gn=16,Zd=new DOMMatrix,Mn=new Float32Array(2),$r=new Float32Array([1/0,1/0,-1/0,-1/0]);function r_(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},a.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},a.transform=function(e,n,r,o,l,c){t.transform(e,n,r,o,l,c),this.__originalTransform(e,n,r,o,l,c)},a.setTransform=function(e,n,r,o,l,c){t.setTransform(e,n,r,o,l,c),this.__originalSetTransform(e,n,r,o,l,c)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},a.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},a.bezierCurveTo=function(e,n,r,o,l,c){t.bezierCurveTo(e,n,r,o,l,c),this.__originalBezierCurveTo(e,n,r,o,l,c)},a.rect=function(e,n,r,o){t.rect(e,n,r,o),this.__originalRect(e,n,r,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class a_{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Su(a,t,e,n,r,o,l,c,d,f){const[p,g,b,v,w,S]=pe(a);if(g===0&&b===0){const T=l*p+w,C=Math.round(T),D=c*v+S,N=Math.round(D),R=(l+d)*p+w,k=Math.abs(Math.round(R)-C)||1,z=(c+f)*v+S,F=Math.abs(Math.round(z)-N)||1;return a.setTransform(Math.sign(p),0,0,Math.sign(v),C,N),a.drawImage(t,e,n,r,o,0,0,k,F),a.setTransform(p,g,b,v,w,S),[k,F]}if(p===0&&v===0){const T=c*b+w,C=Math.round(T),D=l*g+S,N=Math.round(D),R=(c+f)*b+w,k=Math.abs(Math.round(R)-C)||1,z=(l+d)*g+S,F=Math.abs(Math.round(z)-N)||1;return a.setTransform(0,Math.sign(g),Math.sign(b),0,C,N),a.drawImage(t,e,n,r,o,0,0,F,k),a.setTransform(p,g,b,v,w,S),[F,k]}a.drawImage(t,e,n,r,o,l,c,d,f);const x=Math.hypot(p,g),E=Math.hypot(b,v);return[x*d,E*f]}class I0{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=bf;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ye.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=$r.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Xe.FILL,e=null){const n=this.minMax.slice();if(t===Xe.STROKE){e||se("Stroke bounding box must include transform."),pt.singularValueDecompose2dScale(e,Mn);const r=Mn[0]*this.lineWidth/2,o=Mn[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const t=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set($r,0)}getClippedPathBoundingBox(t=Xe.FILL,e=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function z0(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%gn,o=(e-r)/gn,l=r===0?o:o+1,c=a.createImageData(n,gn);let d=0,f;const p=t.data,g=c.data;let b,v,w,S;if(t.kind===xo.GRAYSCALE_1BPP){const x=p.byteLength,E=new Uint32Array(g.buffer,0,g.byteLength>>2),T=E.length,C=n+7>>3,D=4294967295,N=Fe.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(w=b<o?gn:r,f=0,v=0;v<w;v++){const R=x-d;let k=0;const z=R>C?n:R*8-7,F=z&-8;let V=0,j=0;for(;k<F;k+=8)j=p[d++],E[f++]=j&128?D:N,E[f++]=j&64?D:N,E[f++]=j&32?D:N,E[f++]=j&16?D:N,E[f++]=j&8?D:N,E[f++]=j&4?D:N,E[f++]=j&2?D:N,E[f++]=j&1?D:N;for(;k<z;k++)V===0&&(j=p[d++],V=128),E[f++]=j&V?D:N,V>>=1}for(;f<T;)E[f++]=0;a.putImageData(c,0,b*gn)}}else if(t.kind===xo.RGBA_32BPP){for(v=0,S=n*gn*4,b=0;b<o;b++)g.set(p.subarray(d,d+S)),d+=S,a.putImageData(c,0,v),v+=gn;b<l&&(S=n*r*4,g.set(p.subarray(d,d+S)),a.putImageData(c,0,v))}else if(t.kind===xo.RGB_24BPP)for(w=gn,S=n*w,b=0;b<l;b++){for(b>=o&&(w=r,S=n*w),f=0,v=S;v--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;a.putImageData(c,0,b*gn)}else throw new Error(`bad image kind: ${t.kind}`)}function F0(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%gn,o=(e-r)/gn,l=r===0?o:o+1,c=a.createImageData(n,gn);let d=0;const f=t.data,p=c.data;for(let g=0;g<l;g++){const b=g<o?gn:r;({srcPos:d}=i_({src:f,srcPos:d,dest:p,width:n,height:b,nonBlackColor:0})),a.putImageData(c,0,g*gn)}}function fo(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)a[n]!==void 0&&(t[n]=a[n]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function Au(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function U0(a,t){if(t)return!0;pt.singularValueDecompose2dScale(a,Mn);const e=Math.fround(ti.pixelRatio*$s.PDF_TO_CSS_UNITS);return Mn[0]<=e&&Mn[1]<=e}const o_=["butt","round","square"],l_=["miter","round","bevel"],u_={},j0={};class Qr{constructor(t,e,n,r,o,{optionalContentConfig:l,markedContentStack:c=null},d,f,p){this.ctx=t,this.current=new I0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new a_(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...pe(this.compositeCtx))}this.ctx.save(),Au(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=pe(this.ctx)}executeOperatorList(t,e,n,r,o){const l=t.argsArray,c=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>B0&&typeof n=="function",g=p?Date.now()+s_:0;let b=0;const v=this.commonObjs,w=this.objs;let S,x;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(!o||o(d))if(S=c[d],x=l[d]??null,S!==ra.dependency)x===null?this[S](d):this[S](d,...x);else for(const E of x){this.dependencyTracker?.recordNamedData(E,d);const T=E.startsWith("g_")?v:w;if(!T.has(E))return T.get(E,n),d}if(d++,d===f)return d;if(p&&++b>B0){if(Date.now()>g)return n(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,d=r,f="prescale1",p,g;for(;o>2&&c>1||l>2&&d>1;){let b=c,v=d;o>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/b),l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/v),p=this.cachedCanvases.getCanvas(f,b,v),g=p.context,g.clearRect(0,0,b,v),g.drawImage(t,0,0,c,d,0,0,b,v),t=p.canvas,c=b,d=v,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:d}}_createMaskCanvas(t,e){const n=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,d=pe(n);let f,p,g,b;if((e.bitmap||e.data)&&e.count>1){const V=e.bitmap||e.data.buffer;p=JSON.stringify(c?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(V),f||(f=new Map,this._cachedBitmapsMap.set(V,f));const j=f.get(p);if(j&&!c){const G=Math.round(Math.min(d[0],d[2])+d[4]),tt=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Gn.transformAndFill),{canvas:j,offsetX:G,offsetY:tt}}g=j}g||(b=this.cachedCanvases.getCanvas("maskCanvas",r,o),F0(b.context,e));let v=pt.transform(d,[1/r,0,0,-1/o,0,0]);v=pt.transform(v,[1,0,0,1,0,-o]);const w=$r.slice();pt.axialAlignedBoundingBox([0,0,r,o],v,w);const[S,x,E,T]=w,C=Math.round(E-S)||1,D=Math.round(T-x)||1,N=this.cachedCanvases.getCanvas("fillCanvas",C,D),R=N.context,k=S,z=x;R.translate(-k,-z),R.transform(...v),g||(g=this._scaleImage(b.canvas,li(R)),g=g.img,f&&c&&f.set(p,g)),R.imageSmoothingEnabled=U0(pe(R),e.interpolate),Su(R,g,0,0,g.width,g.height,0,0,r,o),R.globalCompositeOperation="source-in";const F=pt.transform(li(R),[1,0,0,1,-k,-z]);return R.fillStyle=c?l.getPattern(n,this,F,Xe.FILL,t):l,R.fillRect(0,0,r,o),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,N.canvas)),this.dependencyTracker?.recordDependencies(t,Gn.transformAndFill),{canvas:N.canvas,offsetX:Math.round(k),offsetY:Math.round(z)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=o_[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=l_[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),fo(this.suspendedCtx,l),r_(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),fo(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const o=r[0],l=r[1],c=r[2]-o,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(e.context,n,c,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,o,l,c,d,f,p,g){let b=t.canvas,v=d-p,w=f-g;if(l)if(v<0||w<0||v+n>b.width||w+r>b.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,r),E=x.context;E.drawImage(b,-v,-w),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,n,r),E.globalCompositeOperation="source-over",b=x.canvas,v=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(v,w,n,r),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(v,w,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const S=new Path2D;S.rect(d,f,n,r),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,v,w,n,r,d,f,n,r),e.restore()}save(t){this.inSMaskMode&&fo(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&fo(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,o,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,r,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,r){let[o]=n;if(!r){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===ra.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let c=0,d=o.length;c<d;)switch(o[c++]){case pu.moveTo:l.moveTo(o[c++],o[c++]);break;case pu.lineTo:l.lineTo(o[c++],o[c++]);break;case pu.curveTo:l.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case pu.closePath:l.closePath();break;default:Rt(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=l}pt.axialAlignedBoundingBox(r,pe(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,li(r),Xe.STROKE,t),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Gn.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Xe.STROKE,pe(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const f=o.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=o.getPattern(r,this,li(r),Xe.FILL,t),f){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=p}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,Gn.fill),c&&(r.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Gn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=u_}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=j0}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:f,path:p}of e)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(c,d).scale(f,-f));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||bf,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Rt("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let p=n;n<O0?p=O0:n>P0&&(p=P0),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${d} ${p}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,o,l){const c=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,g=d.fontSize/d.fontSizeScale,b=p&Ye.FILL_STROKE_MASK,v=!!(p&Ye.ADD_TO_PATH_FLAG),w=d.patternFill&&!f.missingFile,S=d.patternStroke&&!f.missingFile;let x;if((f.disableFontFace||v||w||S)&&!f.missingFile&&(x=f.getPathGenerator(this.commonObjs,e)),x&&(f.disableFontFace||w||S)){c.save(),c.translate(n,r),c.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,c,f);let E;if(b===Ye.FILL||b===Ye.FILL_STROKE)if(o){E=c.getTransform(),c.setTransform(...o);const T=this.#i(x,E,o);c.fill(T)}else c.fill(x);if(b===Ye.STROKE||b===Ye.FILL_STROKE)if(l){E||=c.getTransform(),c.setTransform(...l);const{a:T,b:C,c:D,d:N}=E,R=pt.inverseTransform(l),k=pt.transform([T,C,D,N,0,0],R);pt.singularValueDecompose2dScale(k,Mn),c.lineWidth*=Math.max(Mn[0],Mn[1])/g,c.stroke(this.#i(x,E,l))}else c.lineWidth/=g,c.stroke(x);c.restore()}else(b===Ye.FILL||b===Ye.FILL_STROKE)&&(c.fillText(e,n,r),this.dependencyTracker?.recordCharacterBBox(t,c,f,g,n,r,()=>c.measureText(e))),(b===Ye.STROKE||b===Ye.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,f,g,n,r,()=>c.measureText(e)).recordDependencies(t,Gn.stroke),c.strokeText(e,n,r));v&&((this.pendingTextPaths||=[]).push({transform:pe(c),x:n,y:r,fontSize:g,path:x}),this.dependencyTracker?.recordCharacterBBox(t,c,f,g,n,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Lt(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Gn.showText).resetBBox(t),this.current.textRenderingMode&Ye.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=n.fontSizeScale,d=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,b=e.length,v=r.vertical,w=v?1:-1,S=r.defaultVMetrics,x=o*n.fontMatrix[0],E=n.textRenderingMode===Ye.FILL&&!r.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let T,C;if(n.patternFill){l.save();const z=n.fillColor.getPattern(l,this,li(l),Xe.FILL,t);T=pe(l),l.restore(),l.fillStyle=z}if(n.patternStroke){l.save();const z=n.strokeColor.getPattern(l,this,li(l),Xe.STROKE,t);C=pe(l),l.restore(),l.strokeStyle=z}let D=n.lineWidth;const N=n.textMatrixScale;if(N===0||D===0){const z=n.textRenderingMode&Ye.FILL_STROKE_MASK;(z===Ye.STROKE||z===Ye.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=N;if(c!==1&&(l.scale(c,c),D/=c),l.lineWidth=D,r.isInvalidPDFjsFont){const z=[];let F=0;for(const j of e)z.push(j.unicode),F+=j.width;const V=z.join("");if(l.fillText(V,0,0),this.dependencyTracker!==null){const j=l.measureText(V);this.dependencyTracker.recordBBox(t,this.ctx,-j.actualBoundingBoxLeft,j.actualBoundingBoxRight,-j.actualBoundingBoxAscent,j.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=F*x*g,l.restore(),this.compose();return}let R=0,k;for(k=0;k<b;++k){const z=e[k];if(typeof z=="number"){R+=w*z*o/1e3;continue}let F=!1;const V=(z.isSpace?f:0)+d,j=z.fontChar,G=z.accent;let tt,$,J=z.width;if(v){const rt=z.vmetric||S,ht=-(z.vmetric?rt[1]:J*.5)*x,L=rt[2]*x;J=rt?-rt[0]:J,tt=ht/c,$=(R+L)/c}else tt=R/c,$=0;let B;if(r.remeasure&&J>0){B=l.measureText(j);const rt=B.width*1e3/o*c;if(J<rt&&this.isFontSubpixelAAEnabled){const ht=J/rt;F=!0,l.save(),l.scale(ht,1),tt/=ht}else J!==rt&&(tt+=(J-rt)/2e3*o/c)}if(this.contentVisible&&(z.isInFont||r.missingFile)){if(E&&!G)l.fillText(j,tt,$),this.dependencyTracker?.recordCharacterBBox(t,l,B?{bbox:null}:r,o/c,tt,$,()=>B??l.measureText(j));else if(this.paintChar(t,j,tt,$,T,C),G){const rt=tt+o*G.offset.x/c,ht=$-o*G.offset.y/c;this.paintChar(t,G.fontChar,rt,ht,T,C)}}const Y=v?J*x-V*p:J*x+V*p;R+=Y,F&&l.restore()}v?n.y-=R:n.x+=R*g,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,r=this.current,o=r.font,l=r.fontSize,c=r.fontDirection,d=o.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,g=r.textHScale*c,b=r.fontMatrix||bf,v=e.length,w=r.textRenderingMode===Ye.INVISIBLE;let S,x,E,T;if(w||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(g,c);const C=this.dependencyTracker;for(this.dependencyTracker=C?new Bu(C,t):null,S=0;S<v;++S){if(x=e[S],typeof x=="number"){T=d*x*l/1e3,this.ctx.translate(T,0),r.x+=T*g;continue}const D=(x.isSpace?p:0)+f,N=o.charProcOperatorList[x.operatorListId];N?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...b),this.executeOperatorList(N),this.restore()):Rt(`Type3 character "${x.operatorListId}" is not available.`);const R=[x.width,0];pt.applyTransform(R,b),E=R[0]*l+D,n.translate(E,0),r.x+=E*g}n.restore(),C&&(this.dependencyTracker=C)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,r,o,l,c){const d=new Path2D;d.rect(r,o,l-r,c-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,o,c).recordClipBox(t,this.ctx,r,l,o,c),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||pe(this.ctx),o={createCanvasGraphics:(l,c)=>new Qr(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Bu(this.dependencyTracker,c,!0):null)};n=new rp(e,this.ctx,o,r)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=n_(this.getObject(t,e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const r=this._getPattern(t,e);n.fillStyle=r.getPattern(n,this,li(n),Xe.SHADING,t);const o=li(n);if(o){const{width:l,height:c}=n.canvas,d=$r.slice();pt.axialAlignedBoundingBox([0,0,l,c],o,d);const[f,p,g,b]=d;this.ctx.fillRect(f,p,g-f,b-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Gn.transform).recordDependencies(t,Gn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){se("Should not call beginInlineImage")}beginImageData(){se("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=pe(this.ctx),n)){pt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,o,l,c]=n,d=new Path2D;d.rect(r,o,l-r,c-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,o,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||Vu("TODO: Support non-isolated groups."),e.knockout&&Rt("Knockout groups not supported.");const r=pe(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=$r.slice();pt.axialAlignedBoundingBox(e.bbox,pe(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=pt.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-c,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(g,f,p),v=b.context;v.translate(-c,-d),v.transform(...r);let w=new Path2D;const[S,x,E,T]=e.bbox;if(w.rect(S,x,E-S,T-x),e.matrix){const C=new Path2D;C.addPath(w,new DOMMatrix(e.matrix)),w=C}v.clip(w),e.smask&&this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,d),n.save()),fo(n,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=pe(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=$r.slice();pt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,o,l){if(this.#t(),Au(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],d=n[3]-n[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=d,pt.singularValueDecompose2dScale(pe(this.ctx),Mn);const{viewportScale:f}=this,p=Math.ceil(c*this.outputScaleX*f),g=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:b,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Mn[0],0,0,-Mn[1],0,d*Mn[1]),Au(this.ctx)}else{Au(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],c,d),this.ctx.clip(f)}}this.current=new I0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const r=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,r=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=pe(d);d.transform(n,r,o,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,b=c.length;g<b;g+=2){const v=pt.transform(f,[n,r,o,l,c[g],c[g+1]]);d.drawImage(p.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+p.canvas.width,v[5],v[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Gn.transformAndFill);for(const l of e){const{data:c,width:d,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=g.context;b.save();const v=this.getObject(t,c,l);F0(b,v),b.globalCompositeOperation="source-in",b.fillStyle=o?r.getPattern(b,this,li(n),Xe.FILL,t):r,b.fillRect(0,0,d,f),b.restore(),n.save(),n.transform(...p),n.scale(1,-1),Su(n,g.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,d,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Rt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,r,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Rt("Dependent image isn't ready yet");return}const c=l.width,d=l.height,f=[];for(let p=0,g=o.length;p<g;p+=2)f.push({transform:[n,0,0,r,o[p],o[p+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,r=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/r);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,r).context;z0(p,e),c=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(c,li(o));o.imageSmoothingEnabled=U0(pe(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-r,0).recordDependencies(t,Gn.imageXObject).recordOperation(t),Su(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,n,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;z0(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)r.save(),r.transform(...l.transform),r.scale(1,-1),Su(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Gn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(r||(this.pendingClip===j0?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=pe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:o}=this.ctx.getTransform();let l,c;if(n===0&&r===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=c=1/d;else{const p=d*t;l=c=p<1?1/p:1}else if(t===0)l=1/d,c=1/f;else{const p=d*t,g=f*t;l=p<1?1/p:1,c=g<1?1/g:1}}else{const d=Math.abs(e*o-n*r),f=Math.hypot(e,n),p=Math.hypot(r,o);if(t===0)l=p/d,c=f/d;else{const g=t*d;l=p>g?p/g:1,c=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(o,l),Zd.a=1/o,Zd.d=1/l;const d=new Path2D;if(d.addPath(t,Zd),c.length>0){const f=Math.max(o,l);n.setLineDash(c.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in ra)Qr.prototype[a]!==void 0&&(Qr.prototype[ra[a]]=Qr.prototype[a]);class Zr{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let r=0;for(const f of Zr.strings){const p=e.encode(t[f]);n[f]=p,r+=4+p.length}const o=new ArrayBuffer(r),l=new Uint8Array(o),c=new DataView(o);let d=0;for(const f of Zr.strings){const p=n[f],g=p.length;c.setUint32(d,g),l.set(p,d+4),d+=4+g}return Ut(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Ut(t<Zr.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Jr{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let r=0;for(const b of Jr.strings){const v=e.encode(t[b]);n[b]=v,r+=4+v.length}r+=4;let o,l,c=1+r;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+o.length+4+l.length);const d=new ArrayBuffer(c),f=new Uint8Array(d),p=new DataView(d);let g=0;p.setUint8(g++,t.guessFallback?1:0),p.setUint32(g,0),g+=4,r=0;for(const b of Jr.strings){const v=n[b],w=v.length;r+=4+w,p.setUint32(g,w),f.set(v,g+4),g+=4+w}return p.setUint32(g-r-4,r),t.style&&(p.setUint32(g,o.length),f.set(o,g+4),g+=4+o.length,p.setUint32(g,l.length),f.set(l,g+4),g+=4+l.length),Ut(g<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Ut(t<Jr.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:n,weight:o}}}class te{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#u(t){Ut(t<te.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,r=this.#o.getUint8(e)>>n&3;return r===0?void 0:r===2}get black(){return this.#u(0)}get bold(){return this.#u(1)}get disableFontFace(){return this.#u(2)}get fontExtraProperties(){return this.#u(3)}get isInvalidPDFjsFont(){return this.#u(4)}get isType3Font(){return this.#u(5)}get italic(){return this.#u(6)}get missingFile(){return this.#u(7)}get remeasure(){return this.#u(8)}get vertical(){return this.#u(9)}#l(t){return Ut(t<te.numbers.length,"Invalid number index"),this.#o.getFloat64(te.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=te.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=te.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=te.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){Ut(t<te.strings.length,"Invalid string index");let e=te.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=te.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=te.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=te.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);if(r===0)return null;const o=new Uint8Array(r);return o.set(new Uint8Array(this.#s,t+4,r)),new Zr(o.buffer)}get systemFontInfo(){let t=te.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),new Jr(r.buffer)}static write(t){const e=t.systemFontInfo?Jr.write(t.systemFontInfo):null,n=t.cssFontInfo?Zr.write(t.cssFontInfo):null,r=new TextEncoder,o={};let l=0;for(const S of te.strings)o[S]=r.encode(t[S]),l+=4+o[S].length;const c=te.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(c),f=new Uint8Array(d),p=new DataView(d);let g=0;const b=te.bools.length;let v=0,w=0;for(let S=0;S<b;S++){const x=t[te.bools[S]];v|=(x===void 0?0:x?2:1)<<w,w+=2,(w===8||S===b-1)&&(p.setUint8(g++,v),v=0,w=0)}Ut(g===te.#t,"FontInfo.write: Boolean properties offset mismatch");for(const S of te.numbers)p.setFloat64(g,t[S]),g+=8;if(Ut(g===te.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(g++,4);for(const S of t.bbox)p.setInt16(g,S,!0),g+=2}else p.setUint8(g++,0),g+=8;if(Ut(g===te.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(g++,6);for(const S of t.fontMatrix)p.setFloat64(g,S,!0),g+=8}else p.setUint8(g++,0),g+=48;if(Ut(g===te.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(g++,1);for(const S of t.defaultVMetrics)p.setInt16(g,S,!0),g+=2}else p.setUint8(g++,0),g+=6;Ut(g===te.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(te.#a,0),g+=4;for(const S of te.strings){const x=o[S],E=x.length;p.setUint32(g,E),f.set(x,g+4),g+=4+E}if(p.setUint32(te.#a,g-te.#a-4),!e)p.setUint32(g,0),g+=4;else{const S=e.byteLength;p.setUint32(g,S),Ut(g+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),g+4),g+=4+S}if(!n)p.setUint32(g,0),g+=4;else{const S=n.byteLength;p.setUint32(g,S),Ut(g+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),g+4),g+=4+S}return t.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,t.data.length),f.set(t.data,g+4),g+=4+t.data.length),Ut(g<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(g)}}class ws{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class c_{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Kr=Symbol("INTERNAL");class h_{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:o}){this.#t=!!(t&Tn.DISPLAY),this.#e=!!(t&Tn.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Kr&&se("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class d_{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=Tn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new h_(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Kr,!1);for(const n of t.on)this.#e.get(n)._setVisible(Kr,!0);for(const n of t.off)this.#e.get(n)._setVisible(Kr,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const o=t[r];let l;if(Array.isArray(o))l=this.#a(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return Rt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Vu("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Rt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Rt(`Unknown optional content policy ${t.policy}.`),!0}return Rt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){Rt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(Kr,!1,!0);r._setVisible(Kr,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=this.#e.get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new wS;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class f_{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ut(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});Ut(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ut(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new p_(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new g_(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class p_{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Yu(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g_{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function m_(a){let t=!0,e=n("filename\\*","i").exec(a);if(e){e=e[1];let p=c(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=l(a),e){const p=f(e);return o(p)}if(e=n("filename","i").exec(a),e){e=e[1];let p=c(e);return p=f(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const b=new TextDecoder(p,{fatal:!0}),v=Uo(g);g=b.decode(v),t=!1}catch{}}return g}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const g=[];let b;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(p))!==null;){let[,S,x,E]=b;if(S=parseInt(S,10),S in g){if(S===0)break;continue}g[S]=[x,E]}const w=[];for(let S=0;S<g.length&&S in g;++S){let[x,E]=g[S];E=c(E),x&&(E=unescape(E),S===0&&(E=d(E))),w.push(E)}return w.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let b=0;b<g.length;++b){const v=g[b].indexOf('"');v!==-1&&(g[b]=g[b].slice(0,v),g.length=b+1),g[b]=g[b].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const b=p.slice(0,g),w=p.slice(g+1).replace(/^[^']*'/,"");return r(b,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,b,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,x){return String.fromCharCode(parseInt(x,16))}),r(b,w);try{w=atob(w)}catch{}return r(b,w)})}return""}function kS(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Xu(a){return URL.parse(a)?.origin??null}function DS({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||n||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function LS(a){const t=a.get("Content-Disposition");if(t){let e=m_(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Yu(e))return e}return null}function Go(a,t){return new Do(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function NS(a){return a===200||a===206}function OS(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function PS(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Rt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class y_{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=kS(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b_(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new v_(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class b_{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,OS(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Xu(o.url),!NS(o.status))throw Go(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:d}=DS({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=LS(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Hi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:PS(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class v_{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=r.url;fetch(l,OS(o,this._withCredentials,this._abortController)).then(c=>{const d=Xu(c.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!NS(c.status))throw Go(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:PS(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Jd=200,tf=206;function S_(a){const t=a.response;return typeof t!="string"?t:Uo(t).buffer}class A_{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=kS(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=tf):r.expectedStatus=Jd,e.responseType="arraybuffer",Ut(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||Jd;if(!(o===Jd&&n.expectedStatus===tf)&&o!==n.expectedStatus){n.onError(r.status);return}const c=S_(r);if(o===tf){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:c}):(Rt('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class w_{constructor(t){this._source=t,this._manager=new A_(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ut(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new E_(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new x_(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class E_{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Xu(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...f]=c.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=DS({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=LS(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Go(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x_{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Xu(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Go(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const C_=/^[a-z][a-z0-9\-+.]+:/i;function __(a){if(C_.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class T_{constructor(t){this.source=t,this.url=__(t.url),Ut(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new R_(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new M_(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class R_{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Go(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Hi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class M_{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const po=Symbol("INITIAL_DATA");class BS{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:po}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===po)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==po}delete(t){const e=this.#t[t];return!e||e.data===po?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==po&&(yield[t,e])}}}const k_=1e5,H0=30;let No=class Yn{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#u=null;#l=null;#d=0;#h=0;#f=Object.create(null);#m=[];#p=null;#c=[];#g=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#C=new WeakMap;static#E=null;static#S=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*ti.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:l,pageY:c}=n.rawDims;this.#y=[1,0,0,-1,-l,c+o],this.#o=r,this.#r=o,Yn.#M(),Es(e,n),this.#t.promise.finally(()=>{Yn.#S.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Fe.platform;return Lt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#u.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#u=this.#p.getReader(),Yn.#S.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*ti.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Es(this.#l,{rotation:r})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:Yn.#k(this.#a)};for(const l of this.#c)o.properties=this.#g.get(l),o.div=l,this.#x(o)}}cancel(){const t=new Hi("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#m}#T(t){if(this.#i)return;this.#s.ctx??=Yn.#k(this.#a);const e=this.#c,n=this.#m;for(const r of t){if(e.length>k_){Rt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#w(r)}}#w(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const r=pt.transform(this.#y,t.transform);let o=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=Yn.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),f=d*Yn.#I(c,l,this.#a);let p,g;o===0?(p=r[4],g=r[5]-f):(p=r[4]+f*Math.sin(o),g=r[5]-f*Math.cos(o));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*p/this.#o).toFixed(2)}%`,v.top=`${(100*g/this.#r).toFixed(2)}%`):(v.left=`${b}${p.toFixed(2)}px)`,v.top=`${b}${g.toFixed(2)}px)`),v.fontSize=`${b}${(Yn.#E*d).toFixed(2)}px)`,v.fontFamily=c,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);S!==x&&Math.max(S,x)/Math.min(S,x)>1.5&&(w=!0)}if(w&&(n.canvasWidth=l.vertical?t.height:t.width),this.#g.set(e,n),this.#s.div=e,this.#s.properties=n,this.#x(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#e.append(S)}}#x(t){const{div:e,properties:n,ctx:r}=t,{style:o}=e;let l="";if(Yn.#E>1&&(l=`scale(${1/Yn.#E})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:f}=n;Yn.#R(r,f*this.#h,c);const{width:p}=r.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#S.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#k(t=null){let e=this.#b.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#C.set(e,{size:0,family:""})}return e}static#R(t,e,n){const r=this.#C.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#M(){if(this.#E!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#I(t,e,n){const r=this.#v.get(t);if(r)return r;const o=this.#k(n);o.canvas.width=o.canvas.height=H0,this.#R(o,H0,t);const l=o.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return c?f=c/(c+d):(Fe.platform.isFirefox&&Rt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}};const D_=100;function ap(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new op,{docId:e}=t,n=a.url?FC(a.url):null,r=a.data?UC(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,c=a.password??null,d=a.range instanceof lp?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let p=a.worker instanceof aa?a.worker:null;const g=a.verbosity,b=typeof a.docBaseUrl=="string"&&!Ho(a.docBaseUrl)?a.docBaseUrl:null,v=mu(a.cMapUrl),w=a.cMapPacked!==!1,S=a.CMapReaderFactory||(en?XC:R0),x=mu(a.iccUrl),E=mu(a.standardFontDataUrl),T=a.StandardFontDataFactory||(en?KC:M0),C=mu(a.wasmUrl),D=a.WasmFactory||(en?$C:k0),N=a.stopAtErrors!==!0,R=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,k=a.isEvalSupported!==!1,z=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!en,F=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!en&&(Fe.platform.isFirefox||!globalThis.chrome),V=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,j=typeof a.disableFontFace=="boolean"?a.disableFontFace:en,G=a.fontExtraProperties===!0,tt=a.enableXfa===!0,$=a.ownerDocument||globalThis.document,J=a.disableRange===!0,B=a.disableStream===!0,Y=a.disableAutoFetch===!0,rt=a.pdfBug===!0,ht=a.CanvasFactory||(en?YC:qC),L=a.FilterFactory||(en?GC:VC),I=a.enableHWA===!0,Q=a.useWasm!==!1,M=d?d.length:a.length??NaN,at=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!en&&!j,dt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(S===R0&&T===M0&&D===k0&&v&&E&&C&&Ao(v,document.baseURI)&&Ao(E,document.baseURI)&&Ao(C,document.baseURI)),ut=null;SC(g);const ct={canvasFactory:new ht({ownerDocument:$,enableHWA:I}),filterFactory:new L({docId:e,ownerDocument:$}),cMapReaderFactory:dt?null:new S({baseUrl:v,isCompressed:w}),standardFontDataFactory:dt?null:new T({baseUrl:E}),wasmFactory:dt?null:new D({baseUrl:C})};p||(p=aa.create({verbosity:g,port:ws.workerPort}),t._worker=p);const wt={docId:e,apiVersion:"5.4.296",data:r,password:c,disableAutoFetch:Y,rangeChunkSize:f,length:M,docBaseUrl:b,enableXfa:tt,evaluatorOptions:{maxImageSize:R,disableFontFace:j,ignoreErrors:N,isEvalSupported:k,isOffscreenCanvasSupported:z,isImageDecoderSupported:F,canvasMaxAreaInBytes:V,fontExtraProperties:G,useSystemFonts:at,useWasm:Q,useWorkerFetch:dt,cMapUrl:v,iccUrl:x,standardFontDataUrl:E,wasmUrl:C}},Et={ownerDocument:$,pdfBug:rt,styleElement:ut,loadingParams:{disableAutoFetch:Y,enableXfa:tt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const ye=p.messageHandler.sendWithPromise("GetDocRequest",wt,r?[r.buffer]:null);let Ae;if(d)Ae=new f_(d,{disableRange:J,disableStream:B});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const qt=Ao(n)?y_:en?T_:w_;Ae=new qt({url:n,length:M,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:J,disableStream:B})}return ye.then(qt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Xt=new wo(e,qt,p.port),Kt=new O_(Xt,t,Ae,Et,ct,I);t._transport=Kt,Xt.send("Ready",null)})}).catch(t._capability.reject),t}class op{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${op.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let lp=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){se("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class L_{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Lt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class N_{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new A0:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new BS,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new jo({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Lt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:r="display",annotationMode:o=gi.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:b=!1,recordOperations:v=!1,operationsFilter:w=null}){this._stats?.time("Overall");const S=this._transport.getRenderingIntent(r,o,g,b),{renderingIntent:x,cacheKey:E}=S;this.#t=!1,d||=this._transport.getOptionalContentConfig(x);let T=this._intentStates.get(E);T||(T=Object.create(null),this._intentStates.set(E,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const C=!!(x&Tn.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(S));const D=!!(this._pdfBug&&globalThis.StepperManager?.enabled),N=!this.recordedBBoxes&&(v||D),R=F=>{if(T.renderTasks.delete(k),N){const V=k.gfx?.dependencyTracker.take();V&&(k.stepper&&k.stepper.setOperatorBBoxes(V,k.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=V))}C&&(this.#t=!0),this.#e(),F?(k.capability.reject(F),this._abortOperatorList({intentState:T,reason:F instanceof Error?F:new Error(F)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new Wr({callback:R,params:{canvas:e,canvasContext:t,dependencyTracker:N?new QC(e,T.operatorList.length,D):null,viewport:n,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:w});(T.renderTasks||=new Set).add(k);const z=k.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([F,V])=>{if(this.destroyed){R();return}if(this._stats?.time("Rendering"),!(V.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:F,optionalContentConfig:V}),k.operatorListChanged()}).catch(R),z}getOperatorList({intent:t="display",annotationMode:e=gi.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,n,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Lo.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:f}){if(f){n(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),o()},r)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new A0),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Gu){let r=D_;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Hi(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var As,Jn,Ui,Ys,Fu,Xs,Ks,nn,Mu,IS,zS,Eo,sa,ku;const he=class he{constructor({name:t=null,port:e=null,verbosity:n=AC()}={}){ri(this,nn);ri(this,As,Promise.withResolvers());ri(this,Jn,null);ri(this,Ui,null);ri(this,Ys,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(ce(he,Ks).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ce(he,Ks).set(e,this),ai(this,nn,IS).call(this,e)}else ai(this,nn,zS).call(this)}get promise(){return ce(this,As).promise}get port(){return ce(this,Ui)}get messageHandler(){return ce(this,Jn)}destroy(){this.destroyed=!0,ce(this,Ys)?.terminate(),dn(this,Ys,null),ce(he,Ks).delete(ce(this,Ui)),dn(this,Ui,null),ce(this,Jn)?.destroy(),dn(this,Jn,null)}static create(t){const e=ce(this,Ks).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(ws.workerSrc)return ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Lt(this,"_setupFakeWorkerGlobal",(async()=>ce(this,sa,ku)?ce(this,sa,ku):(await import(this.workerSrc)).WorkerMessageHandler)())}};As=new WeakMap,Jn=new WeakMap,Ui=new WeakMap,Ys=new WeakMap,Fu=new WeakMap,Xs=new WeakMap,Ks=new WeakMap,nn=new WeakSet,Mu=function(){ce(this,As).resolve(),ce(this,Jn).send("configure",{verbosity:this.verbosity})},IS=function(t){dn(this,Ui,t),dn(this,Jn,new wo("main","worker",t)),ce(this,Jn).on("ready",()=>{}),ai(this,nn,Mu).call(this)},zS=function(){if(ce(he,Xs)||ce(he,sa,ku)){ai(this,nn,Eo).call(this);return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new wo("main","worker",e),r=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?ce(this,As).reject(new Error("Worker was destroyed")):ai(this,nn,Eo).call(this)},o=new AbortController;e.addEventListener("error",()=>{ce(this,Ys)||r()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){r();return}dn(this,Jn,n),dn(this,Ui,e),dn(this,Ys,e),ai(this,nn,Mu).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{ai(this,nn,Eo).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{Vu("The worker has been disabled.")}ai(this,nn,Eo).call(this)},Eo=function(){ce(he,Xs)||(Rt("Setting up fake worker."),dn(he,Xs,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ce(this,As).reject(new Error("Worker was destroyed"));return}const e=new HC;dn(this,Ui,e);const n=`fake${Tb(he,Fu)._++}`,r=new wo(n+"_worker",n,e);t.setup(r,e),dn(this,Jn,new wo(n,n+"_worker",e)),ai(this,nn,Mu).call(this)}).catch(t=>{ce(this,As).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},sa=new WeakSet,ku=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ri(he,sa),ri(he,Fu,0),ri(he,Xs,!1),ri(he,Ks,new WeakMap),en&&(dn(he,Xs,!0),ws.workerSrc||="./pdf.worker.mjs"),he._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},he.fromPort=t=>{if(kC("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return he.create(t)};let aa=he;class O_{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,r,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new BS,this.fontLoader=new IC({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Lt(this,"annotationStorage",new np)}getRenderingIntent(t,e=gi.ENABLE,n=null,r=!1,o=!1){let l=Tn.DISPLAY,c=Sf;switch(t){case"any":l=Tn.ANY;break;case"display":break;case"print":l=Tn.PRINT;break;default:Rt(`getRenderingIntent - invalid intent: ${t}`)}const d=l&Tn.PRINT&&n instanceof ES?n:this.annotationStorage;switch(e){case gi.DISABLE:l+=Tn.ANNOTATIONS_DISABLE;break;case gi.ENABLE:break;case gi.ENABLE_FORMS:l+=Tn.ANNOTATIONS_FORMS;break;case gi.ENABLE_STORAGE:l+=Tn.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Rt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=Tn.IS_EDITING),o&&(l+=Tn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[l,c.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),No.cleanup(),this._networkStream?.cancelAllRequests(new Hi("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Ut(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Ut(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,r)=>{Ut(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){r.close();return}Ut(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new L_(n,this))}),t.on("DocException",n=>{e._capability.reject(pn(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw pn(n);const r=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const p=o.error;Rt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new te(o),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new zC(l,c,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Ut(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,o,l])=>{if(this.destroyed)return;const c=this.#e.get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Rt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new N_(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return Af(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new d_(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new c_(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),No.cleanup()}}cachedPageNumber(t){if(!Af(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class P_{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Wr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:b=null,enableHWA:v=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new P_(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Wr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Wr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Qr(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Wr.#e.delete(this._canvas),t||=new Gu(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Wr.#e.delete(this._canvas),this.callback())))}}const FS="5.4.296",US="f56dc8601";class Rn{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#u=null;#l=null;static#d=null;static get _keyboardManager(){return Lt(this,"_keyboardManager",new qo([[["Escape","mac+Escape"],Rn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Rn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Rn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Rn.prototype._moveToPrevious],[["Home","mac+Home"],Rn.prototype._moveToBeginning],[["End","mac+End"],Rn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Rn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Ln,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",Rn.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===this.#i,o.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:zt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#g){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#p(t);return}this.#n.lastChild?.focus()}#m(t){Rn._keyboardManager.exec(this,t)}#p(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#c(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#u?.abort(),this.#u=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#g){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Oo{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Oo.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Oo.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function q0(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function go(a){return Math.max(0,Math.min(255,255*a))}class V0{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=go(t),[t,t,t]}static G_HTML([t]){const e=q0(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(go)}static RGB_HTML(t){return`#${t.map(q0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[go(1-Math.min(1,t+r)),go(1-Math.min(1,n+r)),go(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,o=1-e,l=1-n,c=Math.min(r,o,l);return["CMYK",r,o,l,c]}}class B_{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){se("Abstract method `_createSVG` called.")}}class Po extends B_{_createSVG(t){return document.createElementNS(Fi,t)}}const I_=9,Ws=new WeakSet,z_=new Date().getTimezoneOffset()*60*1e3;class G0{static create(t){switch(t.data.annotationType){case xe.LINK:return new up(t);case xe.TEXT:return new U_(t);case xe.WIDGET:switch(t.data.fieldType){case"Tx":return new j_(t);case"Btn":return t.data.radioButton?new jS(t):t.data.checkBox?new q_(t):new V_(t);case"Ch":return new G_(t);case"Sig":return new H_(t)}return new nr(t);case xe.POPUP:return new xf(t);case xe.FREETEXT:return new HS(t);case xe.LINE:return new X_(t);case xe.SQUARE:return new K_(t);case xe.CIRCLE:return new $_(t);case xe.POLYLINE:return new qS(t);case xe.CARET:return new Q_(t);case xe.INK:return new cp(t);case xe.POLYGON:return new W_(t);case xe.HIGHLIGHT:return new VS(t);case xe.UNDERLINE:return new Z_(t);case xe.SQUIGGLY:return new J_(t);case xe.STRIKEOUT:return new tT(t);case xe.STAMP:return new GS(t);case xe.FILEATTACHMENT:return new eT(t);default:return new me(t)}}}class me{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return me._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:r}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],o=e[c+2]):e[c+1]===l&&(o=Math.max(o,e[c+2]));return[o,l]}if(n?.length>=1){for(const c of n)for(let d=0,f=c.length;d<f;d+=2)c[d+1]>l?(l=c[d+1],o=c[d]):c[d+1]===l&&(o=Math.max(o,c[d]));if(o!==1/0)return[o,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${ko}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${ko}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(t),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:d}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof nr)&&!(this instanceof up)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof xf){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:c,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,x=e.borderStyle.verticalCornerRadius;if(S>0||x>0){const T=`calc(${S}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof jS){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=T}switch(e.borderStyle.style){case Xr.SOLID:l.borderStyle="solid";break;case Xr.DASHED:l.borderStyle="dashed";break;case Xr.BEVELED:Rt("Unimplemented border style: beveled");break;case Xr.INSET:Rt("Unimplemented border style: inset");break;case Xr.UNDERLINE:l.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,l.borderColor=pt.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const f=pt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:b,pageY:v}=r.rawDims;l.left=`${100*(f[0]-b)/p}%`,l.top=`${100*(f[1]-v)/g}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(l.width=`${100*c/p}%`,l.height=`${100*d/g}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const o=r.detail[e],l=o[0],c=o.slice(1);r.target.style[n]=V0[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:V0[`${l}_rgb`](c)})};return Lt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,o]of Object.entries(e)){const l=n[r];if(l){const c={detail:{[r]:o},target:t};l(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,o]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,x,E,T]=t.subarray(2,6);if(r===S&&o===x&&e===E&&n===T)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:S,borderWidth:x}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const d=r-e,f=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const b=p.createElement("defs");g.append(b);const v=p.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let S=2,x=t.length;S<x;S+=8){const E=t[S],T=t[S+1],C=t[S+2],D=t[S+3],N=p.createElement("rect"),R=(C-e)/d,k=(o-T)/f,z=(E-C)/d,F=(T-D)/f;N.setAttribute("x",R),N.setAttribute("y",k),N.setAttribute("width",z),N.setAttribute("height",F),v.append(N),c?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${k}" width="${z}" height="${F}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let n,r;t?(n={str:t.text},r=t.date):(n=e.contentsObj,r=e.modificationDate);const o=this.#i=new xf({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){se("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:l,exportValues:c}of r){if(o===-1||l===e)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Ws.has(f)){Rt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==e&&Ws.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class F_ extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class up extends me{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=n.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Rt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:o,include:l}=e,c=[];if(r.length!==0||o.length!==0){const p=new Set(o);for(const g of r){const b=this._fieldObjects[g]||[];for(const{id:v}of b)p.add(v)}for(const g of Object.values(this._fieldObjects))for(const b of g)p.has(b.id)===l&&c.push(b)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const d=this.annotationStorage,f=[];for(const p of c){const{id:g}=p;switch(f.push(g),p.type){case"text":{const v=p.defaultValue||"";d.setValue(g,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;d.setValue(g,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";d.setValue(g,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${g}"]`);if(b){if(!Ws.has(b)){Rt(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class U_ extends me{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class nr extends me{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Fe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}})})}_setEventListeners(t,e,n,r){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||I_,o=t.style;let l;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(f/(Xd*r))||1,g=f/p;l=Math.min(r,d(g/Xd))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(f/Xd))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=pt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class j_ extends nr{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ws.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:g}=this.data,b=!!p&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",w=>{const S=this.data.defaultFieldValue??"";n.value=d.userValue=S,d.formattedValue=null});let v=w=>{const{formattedValue:S}=d;S!=null&&(w.target.value=S),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{if(d.focused)return;const{target:x}=S;if(b&&(x.type=p,g&&(x.step=g)),d.userValue){const E=d.userValue;if(b)if(p==="time"){const T=new Date(E),C=[T.getHours(),T.getMinutes(),T.getSeconds()];x.value=C.map(D=>D.toString().padStart(2,"0")).join(":")}else x.value=new Date(E-z_).toISOString().split(p==="date"?"T":".",1)[0];else x.value=E}d.lastCommittedValue=x.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const x={value(E){d.userValue=E.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),E.target.value=d.userValue},formattedValue(E){const{formattedValue:T}=E.detail;d.formattedValue=T,T!=null&&E.target!==document.activeElement&&(E.target.value=T);const C={formattedValue:T};b&&(C.value=T),t.setValue(e,C)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:T}=E.detail,{target:C}=E;if(T===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",T);let D=d.userValue;!D||D.length<=T||(D=D.slice(0,T),C.value=d.userValue=D,t.setValue(e,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(x,S)}),n.addEventListener("keydown",S=>{d.commitKey=1;let x=-1;if(S.key==="Escape"?x=0:S.key==="Enter"&&!this.data.multiLine?x=2:S.key==="Tab"&&(d.commitKey=3),x===-1)return;const{value:E}=S.target;d.lastCommittedValue!==E&&(d.lastCommittedValue=E,d.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:x,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const w=v;v=null,n.addEventListener("blur",S=>{if(!d.focused||!S.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:x}=S;let{value:E}=x;if(b){if(E&&p==="time"){const T=E.split(":").map(C=>parseInt(C,10));E=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),x.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();x.type="text"}d.userValue=E,d.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}),w(S)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",S=>{d.lastCommittedValue=null;const{data:x,target:E}=S,{value:T,selectionStart:C,selectionEnd:D}=E;let N=C,R=D;switch(S.inputType){case"deleteWordBackward":{const k=T.substring(0,C).match(/\w*[^\w]*$/);k&&(N-=k[0].length);break}case"deleteWordForward":{const k=T.substring(C).match(/^[^\w]*\w*/);k&&(R+=k[0].length);break}case"deleteContentBackward":C===D&&(N-=1);break;case"deleteContentForward":C===D&&(R+=1);break}S.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:x||"",willCommit:!1,selStart:N,selEnd:R}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class H_ extends nr{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class q_ extends nr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Ws.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class jS extends nr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(Ws.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const b=p&&g.id===n;g.domElement&&(g.domElement.checked=b),t.setValue(g.id,{value:b})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class V_ extends up{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class G_ extends nr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Ws.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),r.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=p=>{const g=p?"value":"textContent",{options:b,multiple:v}=r;return v?Array.prototype.filter.call(b,w=>w.selected).map(w=>w[g]):b.selectedIndex===-1?null:b[b.selectedIndex][g]};let d=c(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const g={value(b){l?.();const v=b.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(const S of r.options)S.selected=w.has(S.value);t.setValue(e,{value:c(!0)}),d=c(!1)},multipleSelection(b){r.multiple=!0},remove(b){const v=r.options,w=b.detail.remove;v[w].selected=!1,r.remove(w),v.length>0&&Array.prototype.findIndex.call(v,x=>x.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:c(!0),items:f(b)}),d=c(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=c(!1)},insert(b){const{index:v,displayValue:w,exportValue:S}=b.detail.insert,x=r.children[v],E=document.createElement("option");E.textContent=w,E.value=S,x?x.before(E):r.append(E),t.setValue(e,{value:c(!0),items:f(b)}),d=c(!1)},items(b){const{items:v}=b.detail;for(;r.length!==0;)r.remove(0);for(const w of v){const{displayValue:S,exportValue:x}=w,E=document.createElement("option");E.textContent=S,E.value=x,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:f(b)}),d=c(!1)},indices(b){const v=new Set(b.detail.indices);for(const w of b.target.options)w.selected=v.has(w.index);t.setValue(e,{value:c(!0)}),d=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("input",p=>{const g=c(!0),b=c(!1);t.setValue(e,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class xf extends me{constructor(t){const{data:e,elements:n,parent:r}=t,o=!!r._commentManager;if(super(t,{isRenderable:!o&&me._hasPopupData(e)}),this.elements=n,o&&me._hasPopupData(e)){const l=this.popup=this.#t();for(const c of n)c.popup=l}else this.popup=null}#t(){return new Y_({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Qf}${r}`).join(",")),this.container}}class Y_{#t=null;#e=this.#V.bind(this);#i=this.#F.bind(this);#n=this.#N.bind(this);#a=this.#A.bind(this);#s=null;#r=null;#o=null;#u=null;#l=null;#d=null;#h=null;#f=!1;#m=null;#p=null;#c=null;#g=null;#y=null;#v=null;#b=null;#C=null;#E=null;#S=null;#T=!1;#w=null;#x=null;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:c,parent:d,rect:f,parentRect:p,open:g,commentManager:b=null}){this.#r=t,this.#E=r,this.#o=l,this.#C=c,this.#d=d,this.#s=e,this.#b=f,this.#h=p,this.#l=n,this.#t=b,this.#w=n[0],this.#u=Ou.toDateObject(o),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup()),b?this.renderCommentButton():(this.#k(),this.#r.hidden=!0,g&&this.#A())}#k(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#R(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#g||(this.#y||this.#R(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#w.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#g=this.#w.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#g=document.createElement("button");l.className="annotationCommentButton";const c=this.#w.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#M(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),c.after(l)}}#M(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#g;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#I(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#g.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#g?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}}get elementBeforePopup(){return this.#g}get comment(){return this.#x||=this.#w.commentText,this.#x}set comment(t){t!==this.comment&&(this.#w.commentText=this.#x=t)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#g&&(this.#g.classList.toggle("selected",t),this.#g.ariaExpanded=e)}setSelectedCommentButton(t){this.#g.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:n}=this.#g.getBoundingClientRect(),{x:r,y:o,width:l,height:c}=this.#w.layer.getBoundingClientRect();return[(t-r)/l,(e+n-o)/c]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#g.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#v||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:o,y:l,width:c,height:d}=r;this.#t.showDialog(null,this,o+e*c,l+n*d,{...t,parentDimensions:r})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=pt.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#E?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#E}if(t.append(e),this.#u){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#u.valueOf()})),n.dateTime=this.#u.toISOString(),e.append(n)}Jf({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#L(){const t=this.#C,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#C.html||null}get#O(){return this.#L?.attributes?.style?.fontSize||0}get#z(){return this.#L?.attributes?.style?.color||null}#P(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#z,fontSize:this.#O?`calc(${this.#O}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return n}#V(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#A()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#x=null):e&&(e.deleted?this.remove():(this.#I(),this.#x=e.text)),t&&(this.#y=null,this.#R(),this.#M());return}if(n||e?.deleted){this.remove();return}this.#k(),this.#S||={contentsObj:this.#o,richText:this.#C},t&&(this.#c=null),e&&e.text&&(this.#C=this.#P(e.text),this.#u=Ou.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#S&&({contentsObj:this.#o,richText:this.#C}=this.#S,this.#S=null,this.#m?.remove(),this.#m=null,this.#c=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#T=!1,this.#f=!1,this.#g?.remove(),this.#g=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#_(){if(this.#c!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:o}}}=this.#d;let l=!!this.#h,c=l?this.#h:this.#b;for(const w of this.#l)if(!c||pt.intersect(w.data.rect,c)!==null){c=w.data.rect,l=!0;break}const d=pt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,g=d[0]+p,b=d[1];this.#c=[100*(g-r)/e,100*(b-o)/n];const{style:v}=this.#r;v.left=`${this.#c[0]}%`,v.top=`${this.#c[1]}%`}#A(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#N(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#F(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#N(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#_(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#F(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#k(),this.#T&&(this.#m||this.#N(),this.#T=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class HS extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class X_ extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class K_ extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class $_ extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class qS extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:o,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,g=e.length;p<g;p+=2){const b=e[p]-t[0],v=t[3]-e[p+1];d.push(`${b},${v}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class W_ extends qS{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Q_ extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class cp extends me{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Tt.HIGHLIGHT:Tt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:o}}=this,{transform:l,width:c,height:d}=this.#i(e,t),f=this.svgFactory.create(c,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,b=n.length;g<b;g++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[g].join(",")),p.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",n[l].join(","));if(r){const{transform:l,width:c,height:d}=this.#i(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class VS extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Tt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Z_ extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class J_ extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class tT extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class GS extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Tt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class eT extends me{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=Fe.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let hp=class YS{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:c,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#a=c||null,this.#s=f||null,this.#i=p||new np,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const r=t.firstChild||t,o=r.id=`${Qf}${e}`,l=await this.#a?.getAriaAttributes(o);if(l)for(const[c,d]of l)r.setAttribute(c,d);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Es(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Po,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const c=l.annotationType===xe.POPUP;if(c){const p=r.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=G0.create(o);if(!d.isRenderable)continue;if(!c&&l.popupRef){const p=r.get(l.popupRef);p?p.push(d):r.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#r(f,l.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new Po,parent:this};for(const n of t){n.borderStyle||=YS._defaultBorderStyle,e.data=n;const r=G0.create(e);if(!r.isRenderable)continue;const o=r.render();await this.#r(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Es(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:r}=t,o=new F_({data:{id:n,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Lt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Xr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const wu=/\r\n?|\n/g;class Ie extends bt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ie.prototype,e=o=>o.isEmpty(),n=qi.TRANSLATE_SMALL,r=qi.TRANSLATE_BIG;return Lt(this,"_keyboardManager",new qo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Tt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Ie._defaultColor||bt._defaultLineColor,this.#n=t.fontSize||Ie._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){bt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case zt.FREETEXT_SIZE:Ie._defaultFontSize=e;break;case zt.FREETEXT_COLOR:Ie._defaultColor=e;break}}updateParams(t,e){switch(t){case zt.FREETEXT_SIZE:this.#a(e);break;case zt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[zt.FREETEXT_SIZE,Ie._defaultFontSize],[zt.FREETEXT_COLOR,Ie._defaultColor||bt._defaultLineColor]]}get propertiesToUpdate(){return[[zt.FREETEXT_SIZE,this.#n],[zt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Oo(this),[["colorPicker",this._colorPicker]]}get colorType(){return zt.FREETEXT_COLOR}#a(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ie._internalPadding*t,-(Ie._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Ie.#u(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ie._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[f,p]=this.pageDimensions,[g,b]=this.pageTranslation;let v,w;switch(this.rotation){case 0:v=t+(l[0]-g)/f,w=e+this.height-(l[1]-b)/p;break;case 90:v=t+(l[0]-g)/f,w=e-(l[1]-b)/p,[c,d]=[d,-c];break;case 180:v=t-this.width+(l[0]-g)/f,w=e-(l[1]-b)/p,[c,d]=[-c,-d];break;case 270:v=t+(l[0]-g-this.height*p)/f,w=e+(l[1]-b-this.width*f)/p,[c,d]=[-d,c];break}this.setAt(v*r,w*o,c,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wu,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=Ie.#h(e.getData("text")||"").replaceAll(wu,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:d}=l,f=[],p=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(p.push(c.nodeValue.slice(d).replaceAll(wu,"")),v!==this.editorDiv){let w=f;for(const S of this.editorDiv.childNodes){if(S===v){w=p;continue}w.push(Ie.#u(S))}}f.push(c.nodeValue.slice(0,d).replaceAll(wu,""))}else if(c===this.editorDiv){let v=f,w=0;for(const S of this.editorDiv.childNodes)w++===d&&(v=p),v.push(Ie.#u(S))}this.#t=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#l();const g=new Range;let b=Math.sumPrecise(f.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(b<=w){g.setStart(v,b),g.setEnd(v,b);break}b-=w}o.removeAllRanges(),o.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ie._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let r=null;if(t instanceof HS){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:f,id:p,popupRef:g,richText:b,contentsObj:v,creationDate:w,modificationDate:S},textContent:x,textPosition:E,parent:{page:{pageNumber:T}}}=t;if(!x||x.length===0)return null;r=t={annotationType:Tt.FREETEXT,color:Array.from(c),fontSize:l,value:x.join(`
`),position:E,pageIndex:T-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:g,comment:v?.str||null,richText:b,creationDate:w,modificationDate:S}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=pt.makeHexColor(...t.color),o.#t=Ie.#h(t.value),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=bt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,c)=>l!==r[c])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ft{static PRECISION=1e-4;toSVGPath(){se("Abstract method `toSVGPath` must be implemented.")}get box(){se("Abstract getter `box` must be implemented.")}serialize(t,e){se("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=e+t[c]*r,l[c+1]=n+t[c+1]*o;return l}static _rescaleAndSwap(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=e+t[c+1]*r,l[c+1]=n+t[c]*o;return l}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o],r[o+1]=n+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,o){switch(o){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,o,l){return[(t+5*n)/6,(e+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}class Gs{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#u;#l;#d;#h;#f=[];static#m=8;static#p=2;static#c=Gs.#m+Gs.#p;constructor({x:t,y:e},n,r,o,l,c=0){this.#t=n,this.#h=o*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=c,this.#l=Gs.#m*r,this.#u=Gs.#c*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,r,o,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-r)/l,(this.#r+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,r,o,l]=this.#t;let[c,d,f,p]=this.#s.subarray(8,12);const g=t-f,b=e-p,v=Math.hypot(g,b);if(v<this.#u)return!1;const w=v-this.#l,S=w/v,x=S*g,E=S*b;let T=c,C=d;c=f,d=p,f+=x,p+=E,this.#f?.push(t,e);const D=-E/w,N=x/w,R=D*this.#h,k=N*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+R,p+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-R,p-k],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+R,d+k],2),this.#a.push(NaN,NaN,NaN,NaN,(c+R-n)/o,(d+k-r)/l),this.#s.set([c-R,d-k],14),this.#e.push(NaN,NaN,NaN,NaN,(c-R-n)/o,(d-k-r)/l)),this.#s.set([T,C,c,d,f,p],6),!this.isEmpty()):(this.#s.set([T,C,c,d,f,p],6),Math.abs(Math.atan2(C-d,T-c)-Math.atan2(E,x))<Math.PI/2?([c,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+f)/2-n)/o,((d+p)/2-r)/l),[c,d,T,C]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/o,((C+d)/2-r)/l),!0):([T,C,c,d,f,p]=this.#s.subarray(0,6),this.#a.push(((T+5*c)/6-n)/o,((C+5*d)/6-r)/l,((5*c+f)/6-n)/o,((5*d+p)/6-r)/l,((c+f)/2-n)/o,((d+p)/2-r)/l),[f,p,c,d,T,C]=this.#s.subarray(12,18),this.#e.push(((T+5*c)/6-n)/o,((C+5*d)/6-r)/l,((5*c+f)/6-n)/o,((5*d+p)/6-r)/l,((c+f)/2-n)/o,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#b(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[o,l,c,d]=this.#g();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/r} L${o} ${l} L${c} ${d} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,n,r,o]=this.#t,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[d,f,p,g]=this.#g();t.push(`L${(l[0]-e)/r} ${(l[1]-n)/o} L${d} ${f} L${p} ${g} L${(c[0]-e)/r} ${(c[1]-n)/o}`)}newFreeDrawOutline(t,e,n,r,o,l){return new XS(t,e,n,r,o,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[r,o,l,c]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let g=0,b=d.length-2;g<b;g+=2)d[g]=(this.#f[g]-r)/l,d[g+1]=(this.#f[g+1]-o)/c;if(d[d.length-2]=(this.#r-r)/l,d[d.length-1]=(this.#o-o)/c,isNaN(n[6])&&!this.isEmpty())return this.#C(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let g=0;g<p;g+=2){if(isNaN(t[g])){f[g]=f[g+1]=NaN;continue}f[g]=t[g],f[g+1]=t[g+1]}p=this.#S(f,p);for(let g=e.length-6;g>=6;g-=6)for(let b=0;b<6;b+=2){if(isNaN(e[g+b])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[g+b],f[p+1]=e[g+b+1],p+=2}return this.#E(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#C(t){const e=this.#s,[n,r,o,l]=this.#t,[c,d,f,p]=this.#g(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-r)/l],0),this.newFreeDrawOutline(g,t,this.#t,this.#d,this.#i,this.#n)}#E(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#S(t,e){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,l,c,d]=this.#t,[f,p,g,b]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(r[0]-o)/c,(r[1]-l)/d],e),e+=24}}class XS extends ft{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,r,o,l){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=r,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,d,f,p]=this.#e;for(let g=0,b=t.length;g<b;g+=2)t[g]=(t[g]-c)/f,t[g+1]=(t[g+1]-d)/p;for(let g=0,b=e.length;g<b;g+=2)e[g]=(e[g]-c)/f,e[g+1]=(e[g+1]-d)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],o){const l=n-t,c=r-e;let d,f;switch(o){case 0:d=ft._rescale(this.#r,t,r,l,-c),f=ft._rescale(this.#a,t,r,l,-c);break;case 90:d=ft._rescaleAndSwap(this.#r,t,e,l,c),f=ft._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:d=ft._rescale(this.#r,n,e,-l,c),f=ft._rescale(this.#a,n,e,-l,c);break;case 270:d=ft._rescaleAndSwap(this.#r,n,r,-l,-c),f=ft._rescaleAndSwap(this.#a,n,r,-l,-c);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#r;let n=e[4],r=e[5];const o=[n,r,n,r];let l=n,c=r,d=n,f=r;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let v=6,w=e.length;v<w;v+=6){const S=e[v+4],x=e[v+5];isNaN(e[v])?(pt.pointBoundingBox(S,x,o),c>x?(l=S,c=x):c===x&&(l=p(l,S)),f<x?(d=S,f=x):f===x&&(d=p(d,S))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,pt.bezierBoundingBox(n,r,...e.slice(v,v+6),g),pt.rectBoundingBox(g[0],g[1],g[2],g[3],o),c>g[1]?(l=g[0],c=g[1]):c===g[1]&&(l=p(l,g[0])),f<g[3]?(d=g[2],f=g[3]):f===g[3]&&(d=p(d,g[2]))),n=S,r=x}const b=this.#e;b[0]=o[0]-this.#i,b[1]=o[1]-this.#i,b[2]=o[2]-o[0]+2*this.#i,b[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,n,r,o,l=0){return new Gs(t,e,n,r,o,l)}getNewOutline(t,e){const[n,r,o,l]=this.#e,[c,d,f,p]=this.#t,g=o*f,b=l*p,v=n*f+c,w=r*p+d,S=this.newOutliner({x:this.#a[0]*g+v,y:this.#a[1]*b+w},this.#t,this.#s,t,this.#n,e??this.#i);for(let x=2;x<this.#a.length;x+=2)S.add({x:this.#a[x]*g+v,y:this.#a[x+1]*b+w});return S.getOutlines()}}class Cf{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:S,y:x,width:E,height:T}of t){const C=Math.floor((S-e)/l)*l,D=Math.ceil((S+E+e)/l)*l,N=Math.floor((x-e)/l)*l,R=Math.ceil((x+T+e)/l)*l,k=[C,N,R,!0],z=[D,N,R,!1];this.#n.push(k,z),pt.rectBoundingBox(C,N,D,R,o)}const c=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n;let g=r?-1/0:1/0,b=1/0;const v=this.#n.at(r?-1:-2),w=[v[0],v[2]];for(const S of this.#n){const[x,E,T,C]=S;!C&&r?E<b?(b=E,g=x):E===b&&(g=Math.max(g,x)):C&&!r&&(E<b?(b=E,g=x):E===b&&(g=Math.min(g,x))),S[0]=(x-f)/c,S[1]=(E-p)/d,S[2]=(T-p)/d}this.#t=new Float32Array([f,p,c,d]),this.#e=[g,b],this.#i=w}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#u(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[c,d,f]=l;e.push([c,d,l],[c,f,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,d,f,p,g]=l;n.delete(l);let b=c,v=d;for(o=[c,f],r.push(o);;){let w;if(n.has(p))w=p;else if(n.has(g))w=g;else break;n.delete(w),[c,d,f,p,g]=w,b!==c&&(o.push(b,v,c,v===d?d:f),b=c),v=v===d?f:d}o.push(b,v)}return new nT(r,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,r=e.length-1;for(;n<=r;){const o=n+r>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:r=o-1}return r+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#u([,t,e]){const n=this.#r(t);for(let r=n;r<this.#a.length;r++){const[o,l]=this.#a[r];if(o!==t)break;if(o===t&&l===e){this.#a.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=this.#a[r];if(o!==t)break;if(o===t&&l===e){this.#a.splice(r,1);return}}}#l(t){const[e,n,r]=t,o=[[e,n,r]],l=this.#r(r);for(let c=0;c<l;c++){const[d,f]=this.#a[c];for(let p=0,g=o.length;p<g;p++){const[,b,v]=o[p];if(!(f<=b||v<=d)){if(b>=d){if(v>f)o[p][1]=f;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=d,v>f&&o.push([e,f,v])}}}return o}}class nT extends ft{#t;#e;constructor(t,e,n,r){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let o=2;o<e.length;o+=2){const l=e[o],c=e[o+1];l===n?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],o){const l=[],c=n-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=t+f[g]*c,p[g+1]=r-f[g+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class _f extends Gs{newFreeDrawOutline(t,e,n,r,o,l){return new iT(t,e,n,r,o,l)}}class iT extends XS{newOutliner(t,e,n,r,o,l=0){return new _f(t,e,n,r,o,l)}}class Ce extends bt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#u=null;#l=null;#d=null;#h=!1;#f=null;#m=null;#p=null;#c="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Tt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Ce.prototype;return Lt(this,"_keyboardManager",new qo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Ce._defaultColor,this.#g=t.thickness||Ce._defaultThickness,this.opacity=t.opacity||Ce._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#b(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new Cf(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Cf(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#m=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#g/2+r,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Ce.#x(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Ce.#x(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[o,l,c,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=d;break;case 90:{const[g,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*b/g,this.height=d*g/b;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[g,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*b/g,this.height=d*g/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/c,(f[1]-l)/d];const{lastPoint:p}=this.#s;this.#m=[(p[0]-o)/c,(p[1]-l)/d]}static initialize(t,e){bt.initialize(t,e),Ce._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case zt.HIGHLIGHT_COLOR:Ce._defaultColor=e;break;case zt.HIGHLIGHT_THICKNESS:Ce._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case zt.HIGHLIGHT_COLOR:this.#C(e);break;case zt.HIGHLIGHT_THICKNESS:this.#E(e);break}}static get defaultPropertiesToUpdate(){return[[zt.HIGHLIGHT_COLOR,Ce._defaultColor],[zt.HIGHLIGHT_THICKNESS,Ce._defaultThickness]]}get propertiesToUpdate(){return[[zt.HIGHLIGHT_COLOR,this.color||Ce._defaultColor],[zt.HIGHLIGHT_THICKNESS,this.#g||Ce._defaultThickness],[zt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#C(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,Ce._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#E(t){const e=this.#g,n=r=>{this.#g=r,this.#S(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Rn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#S(t){this.#h&&(this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#T(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#w(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#u&&(this.#u.style.clipPath=this.#n))}static#x([t,e,n,r],o){switch(o){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=Ce.#x(this.#l.box,t)):n=Ce.#x([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:Ce.#x(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const e=this.#u=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),AS(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#k(t){Ce._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#R(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#M(){return this.#h?this.rotation:0}#I(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let c=0;for(const{x:d,y:f,width:p,height:g}of o){const b=d*t+n,v=(1-f)*e+r;l[c]=l[c+4]=b,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=b+p*t,l[c+5]=l[c+7]=v-g*e,c+=8}return l}#L(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,e,{target:n,x:r,y:o}){const{x:l,y:c,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),b=v=>{p.abort(),this.#z(t,v)};window.addEventListener("blur",b,{signal:g}),window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("pointerdown",ge,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Ln,{signal:g}),n.addEventListener("pointermove",this.#O.bind(this,t),{signal:g}),this._freeHighlight=new _f({x:r,y:o},[l,c,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#O(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof VS){const{data:{quadPoints:w,rect:S,rotation:x,id:E,color:T,opacity:C,popupRef:D,richText:N,contentsObj:R,creationDate:k,modificationDate:z},parent:{page:{pageNumber:F}}}=t;r=t={annotationType:Tt.HIGHLIGHT,color:Array.from(T),opacity:C,quadPoints:w,boxes:null,pageIndex:F-1,rect:S.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,popupRef:D,richText:N,comment:R?.str||null,creationDate:k,modificationDate:z}}else if(t instanceof cp){const{data:{inkLists:w,rect:S,rotation:x,id:E,color:T,borderStyle:{rawWidth:C},popupRef:D,richText:N,contentsObj:R,creationDate:k,modificationDate:z},parent:{page:{pageNumber:F}}}=t;r=t={annotationType:Tt.HIGHLIGHT,color:Array.from(T),thickness:C,inkLists:w,boxes:null,pageIndex:F-1,rect:S.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,popupRef:D,richText:N,comment:R?.str||null,creationDate:k,modificationDate:z}}const{color:o,quadPoints:l,inkLists:c,opacity:d}=t,f=await super.deserialize(t,e,n);f.color=pt.makeHexColor(...o),f.opacity=d||1,c&&(f.#g=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[p,g]=f.pageDimensions,[b,v]=f.pageTranslation;if(l){const w=f.#i=[];for(let S=0;S<l.length;S+=8)w.push({x:(l[S]-b)/p,y:1-(l[S+1]-v)/g,width:(l[S+2]-l[S])/p,height:(l[S+1]-l[S+5])/g});f.#v(),f.#w(),f.rotate(f.rotation)}else if(c){f.#h=!0;const w=c[0],S={x:w[0]-b,y:g-(w[1]-v)},x=new _f(S,[0,0,p,g],1,f.#g/2,!0,.001);for(let C=0,D=w.length;C<D;C+=2)S.x=w[C]-b,S.y=g-(w[C+1]-v),x.add(S);const{id:E,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);f.#b({highlightOutlines:x.getOutlines(),highlightId:E,clipPathId:T}),f.#w(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#g,quadPoints:this.#I(),outlines:this.#L(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class KS{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){se("Not implemented")}}class At extends bt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#r=null;static#o=null;static#u=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#c(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(At._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))n.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){se("Not implemented")}static get typesMap(){se("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(At.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,o=r[e],l=c=>{r.updateProperty(e,c);const d=this.#t.updateProperty(e,c);d&&this.#c(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#m([t,e,n,r]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(l/o),r*(o/l)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(l/o),r*(o/l)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(o/l),r*(l/o)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(o/l),r*(l/o)];default:return[t,e,n,r]}}#c(t){[this.x,this.y,this.width,this.height]=this.#m(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#g(){const{x:t,y:e,width:n,height:r,rotation:o,parentRotation:l,parentDimensions:[c,d]}=this;switch((o*4+l)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(c/d),r*(d/c),n*(c/d)];case 5:return[1-e,t,n*(c/d),r*(d/c)];case 6:return[1-t-r*(d/c),1-e,r*(d/c),n*(c/d)];case 7:return[e-n*(c/d),1-t-r*(d/c),n*(c/d),r*(d/c)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(d/c),e,r*(d/c),n*(c/d)];case 13:return[1-e-n*(c/d),t-r*(d/c),n*(c/d),r*(d/c)];case 14:return[1-t,1-e-n*(c/d),r*(d/c),n*(c/d)];case 15:return[e,1-t,n*(c/d),r*(d/c)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,o){se("Not implemented")}static startDrawing(t,e,n,r){const{target:o,offsetX:l,offsetY:c,pointerId:d,pointerType:f}=r;if(At.#r&&At.#r!==f)return;const{viewport:{rotation:p}}=t,{width:g,height:b}=o.getBoundingClientRect(),v=At.#n=new AbortController,w=t.combinedSignal(v);if(At.#s||=d,At.#r??=f,window.addEventListener("pointerup",S=>{At.#s===S.pointerId?this._endDraw(S):At.#o?.delete(S.pointerId)},{signal:w}),window.addEventListener("pointercancel",S=>{At.#s===S.pointerId?this._currentParent.endDrawingSession():At.#o?.delete(S.pointerId)},{signal:w}),window.addEventListener("pointerdown",S=>{At.#r===S.pointerType&&((At.#o||=new Set).add(S.pointerId),At.#i.isCancellable()&&(At.#i.removeLastElement(),At.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Ln,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",S=>{S.timeStamp===At.#u&&ge(S)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),At.#i){t.drawLayer.updateProperties(this._currentDrawId,At.#i.startNew(l,c,g,b,p));return}e.updateUIForDefaultProperties(this),At.#i=this.createDrawerInstance(l,c,g,b,p),At.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(At.#a.toSVGProperties(),At.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(At.#u=-1,!At.#i)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(At.#s===r){if(At.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,At.#i.add(e,n)),At.#u=t.timeStamp,ge(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,At.#i=null,At.#a=null,At.#r=null,At.#u=NaN),At.#n&&(At.#n.abort(),At.#n=null,At.#s=NaN,At.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,At.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=At.#i,r=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:zt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(zt.DRAW_STEP),!At.#i.isEmpty()){const{pageDimensions:[n,r],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:At.#i.getOutlines(n*o,r*o,o,this._INNER_MARGIN),drawingOptions:At.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,o,l){se("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:c}}=e.viewport,d=this.deserializeDraw(l,c,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,n,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class sT{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#u=new Yo;#l;#d;constructor(t,e,n,r,o,l){this.#l=n,this.#d=r,this.#n=o,this.#a=l,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return ft._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,r,o,l]=this.#t.subarray(2,6),c=t-o,d=e-l;return Math.hypot(this.#l*c,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,o,l,t,e],0),this.#e.push(...ft.createBezierPoints(n,r,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,o){this.#l=n,this.#d=r,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#u.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:r}=this.#i[t];this.#e=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=ft.svgRound(this.#e[4]),e=ft.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=ft.svgRound(this.#e[10]),o=ft.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${r} ${o}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,o=this.#e.length;r<o;r+=6){const[l,c,d,f,p,g]=this.#e.slice(r,r+6).map(ft.svgRound);n.push(`C${l} ${c} ${d} ${f} ${p} ${g}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,r){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#u.build(this.#i,t,e,n,this.#n,this.#a,r),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Yo extends ft{#t;#e=0;#i;#n;#a;#s;#r;#o;#u;build(t,e,n,r,o,l,c){this.#a=e,this.#s=n,this.#r=r,this.#o=o,this.#u=l,this.#i=c??0,this.#n=t,this.#h()}get thickness(){return this.#u}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${ft.svgRound(e[4])} ${ft.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ft.svgRound(e[10])} ${ft.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[o,l,c,d,f,p]=e.subarray(n,n+6).map(ft.svgRound);t.push(`C${o} ${l} ${c} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,r],o){const l=[],c=[],[d,f,p,g]=this.#d();let b,v,w,S,x,E,T,C,D;switch(this.#o){case 0:D=ft._rescale,b=t,v=e+r,w=n,S=-r,x=t+d*n,E=e+(1-f-g)*r,T=t+(d+p)*n,C=e+(1-f)*r;break;case 90:D=ft._rescaleAndSwap,b=t,v=e,w=n,S=r,x=t+f*n,E=e+d*r,T=t+(f+g)*n,C=e+(d+p)*r;break;case 180:D=ft._rescale,b=t+n,v=e,w=-n,S=r,x=t+(1-d-p)*n,E=e+f*r,T=t+(1-d)*n,C=e+(f+g)*r;break;case 270:D=ft._rescaleAndSwap,b=t+n,v=e+r,w=-n,S=-r,x=t+(1-f-g)*n,E=e+(1-d-p)*r,T=t+(1-f)*n,C=e+(1-d)*r;break}for(const{line:N,points:R}of this.#n)l.push(D(N,b,v,w,S,o?new Array(N.length):null)),c.push(D(R,b,v,w,S,o?new Array(R.length):null));return{lines:l,points:c,rect:[x,E,T,C]}}static deserialize(t,e,n,r,o,{paths:{lines:l,points:c},rotation:d,thickness:f}){const p=[];let g,b,v,w,S;switch(d){case 0:S=ft._rescale,g=-t/n,b=e/r+1,v=1/n,w=-1/r;break;case 90:S=ft._rescaleAndSwap,g=-e/r,b=-t/n,v=1/r,w=1/n;break;case 180:S=ft._rescale,g=t/n+1,b=-e/r,v=-1/n,w=1/r;break;case 270:S=ft._rescaleAndSwap,g=e/r+1,b=t/n+1,v=-1/r,w=-1/n;break}if(!l){l=[];for(const E of c){const T=E.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const C=new Float32Array(3*(T-2));l.push(C);let[D,N,R,k]=E.subarray(0,4);C.set([NaN,NaN,NaN,NaN,D,N],0);for(let z=4;z<T;z+=2){const F=E[z],V=E[z+1];C.set(ft.createBezierPoints(D,N,R,k,F,V),(z-2)*3),[D,N,R,k]=[R,k,F,V]}}}for(let E=0,T=l.length;E<T;E++)p.push({line:S(l[E].map(C=>C??NaN),g,b,v,w),points:S(c[E].map(C=>C??NaN),g,b,v,w)});const x=new this.prototype.constructor;return x.build(p,n,r,1,d,f,o),x}#l(t=this.#u){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,n,r]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,r-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,d=r.length;c<d;c+=6)pt.pointBoundingBox(r[c],r[c+1],t);continue}let o=r[4],l=r[5];for(let c=6,d=r.length;c<d;c+=6){const[f,p,g,b,v,w]=r.subarray(c,c+6);pt.bezierBoundingBox(o,l,f,p,g,b,v,w,t),o=v,l=w}}const[e,n]=this.#l();t[0]=We(t[0]-e,0,1),t[1]=We(t[1]-n,0,1),t[2]=We(t[2]+e,0,1),t[3]=We(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#u=t;const[r,o]=this.#l(),[l,c]=[r-e,o-n],d=this.#t;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateParentDimensions([t,e],n){const[r,o]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[l,c]=this.#l(),d=l-r,f=c-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ft.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(t)} ${ft.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,o=0,l=0,c=0,d=0;switch(this.#e){case 90:r=e/t,o=-t/e,c=t;break;case 180:n=-1,l=-1,c=t,d=e;break;case 270:r=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${n} ${r} ${o} ${l} ${ft.svgRound(c)} ${ft.svgRound(d)})`}getPathResizingSVGProperties([t,e,n,r]){const[o,l]=this.#l(),[c,d,f,p]=this.#t;if(Math.abs(f-o)<=ft.PRECISION||Math.abs(p-l)<=ft.PRECISION){const S=t+n/2-(c+f/2),x=e+r/2-(d+p/2);return{path:{"transform-origin":`${ft.svgRound(t)} ${ft.svgRound(e)}`,transform:`${this.rotationTransform} translate(${S} ${x})`}}}const g=(n-2*o)/(f-2*o),b=(r-2*l)/(p-2*l),v=f/n,w=p/r;return{path:{"transform-origin":`${ft.svgRound(c)} ${ft.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${w}) translate(${ft.svgRound(o)} ${ft.svgRound(l)}) scale(${g} ${b}) translate(${ft.svgRound(-o)} ${ft.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[o,l]=this.#l(),c=this.#t,[d,f,p,g]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=r,Math.abs(p-o)<=ft.PRECISION||Math.abs(g-l)<=ft.PRECISION){const x=t+n/2-(d+p/2),E=e+r/2-(f+g/2);for(const{line:T,points:C}of this.#n)ft._translate(T,x,E,T),ft._translate(C,x,E,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(t)} ${ft.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(n-2*o)/(p-2*o),v=(r-2*l)/(g-2*l),w=-b*(d+o)+t+o,S=-v*(f+l)+e+l;if(b!==1||v!==1||w!==0||S!==0)for(const{line:x,points:E}of this.#n)ft._rescale(x,w,S,b,v,x),ft._rescale(E,w,S,b,v,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(t)} ${ft.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,o]=n,l=this.#t,c=t-l[0],d=e-l[1];if(this.#a===r&&this.#s===o)for(const{line:f,points:p}of this.#n)ft._translate(f,c,d,f),ft._translate(p,c,d,p);else{const f=this.#a/r,p=this.#s/o;this.#a=r,this.#s=o;for(const{line:g,points:b}of this.#n)ft._rescale(g,c,d,f,p,g),ft._rescale(b,c,d,f,p,b);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(t)} ${ft.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(t[0])} ${ft.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Ku extends KS{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:bt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Ku(this._viewParameters);return t.updateAll(this),t}}class dp extends At{static _type="ink";static _editorType=Tt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new Ku(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Lt(this,"typesMap",new Map([[zt.INK_THICKNESS,"stroke-width"],[zt.INK_COLOR,"stroke"],[zt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,o){return new sT(t,e,n,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,o,l){return Yo.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){let r=null;if(t instanceof cp){const{data:{inkLists:l,rect:c,rotation:d,id:f,color:p,opacity:g,borderStyle:{rawWidth:b},popupRef:v,richText:w,contentsObj:S,creationDate:x,modificationDate:E},parent:{page:{pageNumber:T}}}=t;r=t={annotationType:Tt.INK,color:Array.from(p),thickness:b,opacity:g,paths:{points:l},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:v,richText:w,comment:S?.str||null,creationDate:x,modificationDate:E}}const o=await super.deserialize(t,e,n);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Oo(this),[["colorPicker",this._colorPicker]]}get colorType(){return zt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=dp.getDefaultDrawingOptions({stroke:pt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:bt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==n||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Tf extends Yo{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Eu=8,mo=3;class Vs{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,r,o,l,c){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(-f+d-c+16)%8,g=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+g)*e+(r+b)]!==0)return p}return-1}static#a(t,e,n,r,o,l,c){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(f+d+c+16)%8,g=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+g)*e+(r+b)]!==0)return p}return-1}static#s(t,e,n,r){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let c=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let g=1;g<e-1;g++){const b=p*e+g,v=l[b];if(v===0)continue;let w=p,S=g;if(v===1&&l[b-1]===0)c+=1,S-=1;else if(v>=1&&l[b+1]===0)c+=1,S+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const x=[g,p],E=S===g+1,T={isHole:E,points:x,id:c,parent:0};f.push(T);let C;for(const j of f)if(j.id===d){C=j;break}C?C.isHole?T.parent=E?C.parent:d:T.parent=E?d:C.parent:T.parent=E?d:0;const D=this.#n(l,e,p,g,w,S,0);if(D===-1){l[b]=-c,l[b]!==1&&(d=Math.abs(l[b]));continue}let N=this.#i[2*D],R=this.#i[2*D+1];const k=p+N,z=g+R;w=k,S=z;let F=p,V=g;for(;;){const j=this.#a(l,e,F,V,w,S,1);N=this.#i[2*j],R=this.#i[2*j+1];const G=F+N,tt=V+R;x.push(tt,G);const $=F*e+V;if(l[$+1]===0?l[$]=-c:l[$]===1&&(l[$]=c),G===p&&tt===g&&F===k&&V===z){l[b]!==1&&(d=Math.abs(l[b]));break}else w=F,S=V,F=G,V=tt}}}return f}static#r(t,e,n,r){if(n-e<=4){for(let k=e;k<n-2;k+=2)r.push(t[k],t[k+1]);return}const o=t[e],l=t[e+1],c=t[n-4]-o,d=t[n-3]-l,f=Math.hypot(c,d),p=c/f,g=d/f,b=p*l-g*o,v=d/c,w=1/f,S=Math.atan(v),x=Math.cos(S),E=Math.sin(S),T=w*(Math.abs(x)+Math.abs(E)),C=w*(1-T+T**2),D=Math.max(Math.atan(Math.abs(E+x)*C),Math.atan(Math.abs(E-x)*C));let N=0,R=e;for(let k=e+2;k<n-2;k+=2){const z=Math.abs(b-p*t[k+1]+g*t[k]);z>N&&(R=k,N=z)}N>(f*D)**2?(this.#r(t,e,R+2,r),this.#r(t,R,n,r)):r.push(o,l)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#u(t,e,n,r,o,l){const c=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let S=0;S<l;S++){const x=(S-f)**2;for(let E=0;E<l;E++)c[S*l+E]=Math.exp((x+(E-f)**2)/d)}const p=new Float32Array(256),g=-2*o**2;for(let S=0;S<256;S++)p[S]=Math.exp(S**2/g);const b=t.length,v=new Uint8Array(b),w=new Uint32Array(256);for(let S=0;S<n;S++)for(let x=0;x<e;x++){const E=S*e+x,T=t[E];let C=0,D=0;for(let R=0;R<l;R++){const k=S+R-f;if(!(k<0||k>=n))for(let z=0;z<l;z++){const F=x+z-f;if(F<0||F>=e)continue;const V=t[k*e+F],j=c[R*l+z]*p[Math.abs(V-T)];C+=V*j,D+=j}}const N=v[E]=Math.round(C/D);w[N]++}return[v,w]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let c=0,d=n.length;c<d;c++){const f=n[c]=t[c<<2];r=Math.max(r,f),o=Math.min(o,f)}const l=255/(r-o);for(let c=0,d=n.length;c<d;c++)n[c]=(n[c]-o)*l;return n}static#h(t){let e,n=-1/0,r=-1/0;const o=t.findIndex(d=>d!==0);let l=o,c=o;for(e=o;e<256;e++){const d=t[e];d>n&&(e-l>r&&(r=e-l,c=e-1),n=d,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:o}=this.#t;let l=n,c=r;if(n>o||r>o){let b=n,v=r,w=Math.log2(Math.max(n,r)/o);const S=Math.floor(w);w=w===S?S-1:S;for(let E=0;E<w;E++){l=Math.ceil(b/2),c=Math.ceil(v/2);const T=new OffscreenCanvas(l,c);T.getContext("2d").drawImage(t,0,0,b,v,0,0,l,c),b=l,v=c,t!==e&&t.close(),t=T.transferToImageBitmap()}const x=Math.min(o/l,o/c);l=Math.round(l*x),c=Math.round(c*x)}const f=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,c),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,c);const p=f.getImageData(0,0,l,c).data;return[this.#d(p),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},o,l,c,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,b=p.font=`${n} ${r} ${g}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:w,actualBoundingBoxAscent:S,actualBoundingBoxDescent:x,fontBoundingBoxAscent:E,fontBoundingBoxDescent:T,width:C}=p.measureText(t),D=1.5,N=Math.ceil(Math.max(Math.abs(v)+Math.abs(w)||0,C)*D),R=Math.ceil(Math.max(Math.abs(S)+Math.abs(x)||g,Math.abs(E)+Math.abs(T)||g)*D);f=new OffscreenCanvas(N,R),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=b,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,N,R),p.fillStyle="black",p.fillText(t,N*(D-1)/2,R*(3-D)/2);const k=this.#d(p.getImageData(0,0,N,R).data),z=this.#l(k),F=this.#h(z),V=this.#s(k,N,R,F);return this.processDrawnLines({lines:{curves:V,width:N,height:R},pageWidth:o,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,o){const[l,c,d]=this.#f(t),[f,p]=this.#u(l,c,d,Math.hypot(c,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#h(p),b=this.#s(f,c,d,g);return this.processDrawnLines({lines:{curves:b,width:c,height:d},pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:c}){r%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,g=t.thickness??0,b=[],v=Math.min(e/f,n/p),w=v/e,S=v/n,x=[];for(const{points:T}of d){const C=l?this.#o(T):T;if(!C)continue;x.push(C);const D=C.length,N=new Float32Array(D),R=new Float32Array(3*(D===2?2:D-2));if(b.push({line:R,points:N}),D===2){N[0]=C[0]*w,N[1]=C[1]*S,R.set([NaN,NaN,NaN,NaN,N[0],N[1]],0);continue}let[k,z,F,V]=C;k*=w,z*=S,F*=w,V*=S,N.set([k,z,F,V],0),R.set([NaN,NaN,NaN,NaN,k,z],0);for(let j=4;j<D;j+=2){const G=N[j]=C[j]*w,tt=N[j+1]=C[j+1]*S;R.set(ft.createBezierPoints(k,z,F,V,G,tt),(j-2)*3),[k,z,F,V]=[F,V,G,tt]}}if(b.length===0)return null;const E=c?new Tf:new Yo;return E.build(b,e,n,1,r,c?0:g,o),{outline:E,newCurves:x,areContours:c,thickness:g,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:o}){let l=1/0,c=-1/0,d=0;for(const C of t){d+=C.length;for(let D=2,N=C.length;D<N;D++){const R=C[D]-C[D-2];l=Math.min(l,R),c=Math.max(c,R)}}let f;l>=-128&&c<=127?f=Int8Array:l>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const p=t.length,g=Eu+mo*p,b=new Uint32Array(g);let v=0;b[v++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=r,b[v++]=o,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(n??0)),b[v++]=p,b[v++]=f.BYTES_PER_ELEMENT;for(const C of t)b[v++]=C.length-2,b[v++]=C[0],b[v++]=C[1];const w=new CompressionStream("deflate-raw"),S=w.writable.getWriter();await S.ready,S.write(b);const x=f.prototype.constructor;for(const C of t){const D=new x(C.length-2);for(let N=2,R=C.length;N<R;N++)D[N-2]=C[N]-C[N-2];S.write(D)}S.close();const E=await new Response(w.readable).arrayBuffer(),T=new Uint8Array(E);return pS(T)}static async decompressSignature(t){try{const e=MC(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,c=0;for await(const C of n)l||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),l.set(C,c),c+=C.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],b=d[4]===0,v=d[5],w=d[6],S=d[7],x=[],E=(Eu+mo*w)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(S){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,E);break}c=0;for(let C=0;C<w;C++){const D=d[mo*C+Eu],N=new Float32Array(D+2);x.push(N);for(let R=0;R<mo-1;R++)N[R]=d[mo*C+Eu+R+1];for(let R=0;R<D;R++)N[R+2]=N[R]+T[c++]}return{areContours:b,thickness:v,outlines:x,width:p,height:g}}catch(e){return Rt(`decompressSignature: ${e}`),null}}}class fp extends KS{constructor(){super(),super.updateProperties({fill:bt._defaultLineColor,"stroke-width":0})}clone(){const t=new fp;return t.updateAll(this),t}}class pp extends Ku{constructor(t){super(t),super.updateProperties({stroke:bt._defaultLineColor,"stroke-width":1})}clone(){const t=new pp(this._viewParameters);return t.updateAll(this),t}}class hi extends At{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Tt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new fp,this._defaultDrawnSignatureOptions=new pp(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Lt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:o,areContours:l,description:c,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:g},rotation:b}=this.parent.viewport,v=Vs.processDrawnLines({lines:r,pageWidth:p,pageHeight:g,rotation:b,innerMargin:hi._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,f,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:o}=this.#i,l=Math.max(r,o),c=Vs.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:n,width:r,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:o,y:l}=this,{outline:c}=this.#i=t;this.#t=c instanceof Tf,this.description=n;let d;this.#t?d=hi.getDefaultDrawingOptions():(d=hi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Vs.process(t,e,n,r,hi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Vs.extractContoursFromText(t,e,n,r,o,hi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Vs.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:hi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=hi.getDefaultDrawingOptions():(this._drawingOptions=hi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,r,o,l){return l.areContours?Tf.deserialize(t,e,n,r,o,l):Yo.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class rT extends bt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#u=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Tt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){bt.initialize(t,e)}static isHandlingMimeForPasting(t){return Pu.includes(t)}static paste(t,e){e.pasteEditor({mode:Tt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Pu.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#u!==null&&clearTimeout(this.#u);const t=200;this.#u=setTimeout(()=>{this.#u=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,n=this.height*o;else if(e>l*r||n>l*o){const d=Math.min(l*r/e,l*o/n);e*=d,n*=d}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/r,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:o}=this.#t,l=new ti;let c=this.#t,d=r,f=o,p=null;if(e){if(r>e||o>e){const R=Math.min(e/r,e/o);d=Math.floor(r*R),f=Math.floor(o*R)}p=document.createElement("canvas");const b=p.width=Math.ceil(d*l.sx),v=p.height=Math.ceil(f*l.sy);this.#l||(c=this.#c(b,v));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let S="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":LC.isDarkMode&&(S="#8f8f9d",x="#42414d");const E=15,T=E*l.sx,C=E*l.sy,D=new OffscreenCanvas(T*2,C*2),N=D.getContext("2d");N.fillStyle=S,N.fillRect(0,0,T*2,C*2),N.fillStyle=x,N.fillRect(0,0,T,C),N.fillRect(T,C,T,C),w.fillStyle=w.createPattern(D,"repeat"),w.fillRect(0,0,b,v),w.drawImage(c,0,0,c.width,c.height,0,0,b,v)}let g=null;if(n){let b,v;if(l.symmetric&&c.width<t&&c.height<t)b=c.width,v=c.height;else if(c=this.#t,r>t||o>t){const x=Math.min(t/r,t/o);b=Math.floor(r*x),v=Math.floor(o*x),this.#l||(c=this.#c(b,v))}const S=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});S.drawImage(c,0,0,c.width,c.height,0,0,b,v),g={width:b,height:v,data:S.getImageData(0,0,b,v).data}}return{canvas:p,width:d,height:f,imageData:g}}#c(t,e){const{width:n,height:r}=this.#t;let o=n,l=r,c=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(c,0,0,d,f,0,0,o,l),c=p.transferToImageBitmap()}return c}#g(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,o=new ti,l=Math.ceil(n*t*o.sx),c=Math.ceil(r*e*o.sy),d=this.#r;if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const f=this.#l?this.#t:this.#c(l,c),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*$s.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*$s.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,o=!1;if(t instanceof GS){const{data:{rect:S,rotation:x,id:E,structParent:T,popupRef:C,richText:D,contentsObj:N,creationDate:R,modificationDate:k},container:z,parent:{page:{pageNumber:F}},canvas:V}=t;let j,G;V?(delete t.canvas,{id:j,bitmap:G}=n.imageManager.getFromCanvas(z.id,V),V.remove()):(o=!0,t._hasNoCanvas=!0);const tt=(await e._structTree.getAriaAttributes(`${Qf}${E}`))?.get("aria-label")||"";r=t={annotationType:Tt.STAMP,bitmapId:j,bitmap:G,pageIndex:F-1,rect:S.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:T,popupRef:C,richText:D,comment:N?.str||null,creationDate:R,modificationDate:k}}const l=await super.deserialize(t,e,n),{rect:c,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:b}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=f,l.#l=g;const[v,w]=l.pageDimensions;return l.width=(c[2]-c[0])/v,l.height=(c[3]-c[1])/w,b&&(l.altTextData=b),l._initialData=r,t.comment&&l.setCommentData(t),l.#d=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=this.#v(n);return c.isSame?null:(c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class pi{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#u=!1;#l=null;#d=null;#h=null;#f=null;#m=null;#p=-1;#c;static _initialized=!1;static#g=new Map([Ie,dp,rT,Ce,hi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:d,viewport:f,l10n:p}){const g=[...pi.#g.values()];if(!pi._initialized){pi._initialized=!0;for(const b of g)b.initialize(p,t)}t.registerEditorTypes(g),this.#c=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=f,this.#h=d,this.drawLayer=c,this._structTree=r,this.#c.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===Tt.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#S(),t){case Tt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Tt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Tt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of pi.#g.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#c.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#c.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#u=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const n=this.#c.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:c,timeStamp:d}=r,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let b;const v=new RegExp(`^${ko}[0-9]+$`);for(const S of g)if(v.test(S.id)){b=S.id;break}if(!b)return;const w=this.#s.get(b);w?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),w.dblclick(r))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(this.#c.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=r.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=n.get(c),d&&(this.#c.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#S(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of pi.#g.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#c.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#v(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=Fe.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#c.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Ce.startHighlighting(this,this.#c.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),bt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#u),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#c.getId()}get#b(){return pi.#g.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#C(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#E(),o=this.getNextId(),l=this.#C({parent:this,id:o,x:n,y:r,uiManager:this.#c,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await pi.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),o=this.#C({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#E(){const{x:t,y:e,width:n,height:r}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+r),f=(o+c)/2-t,p=(l+d)/2-e,[g,b]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#E(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=Fe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#c.getMode();if(n===Tt.STAMP||n===Tt.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===Tt.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=Fe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const n=this.#c.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#b.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#c.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#c.removeLayer(this)}#S(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Es(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#S();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Es(this.div,{rotation:n}),e!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class ze{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Lt(this,"_svgFactory",new Po)}static#a(t,[e,n,r,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*o}%`}#s(){const t=ze._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=ze._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=ze._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#o(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=ze.#n++,o=this.#s(),l=ze._svgFactory.createElement("defs");o.append(l);const c=ze._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,c);const f=n?this.#r(l,d):null,p=ze._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=ze.#n++,r=this.#s(),o=ze._svgFactory.createElement("defs");r.append(o);const l=ze._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const g=ze._svgFactory.createElement("mask");o.append(g),d=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const b=ze._svgFactory.createElement("rect");g.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=ze._svgFactory.createElement("use");g.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=ze._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:o,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#o(c,n),r&&ze.#a(c,r),o){const{classList:d}=c;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=c.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Cf};globalThis.pdfjsLib={AbortException:Hi,AnnotationEditorLayer:pi,AnnotationEditorParamsType:zt,AnnotationEditorType:Tt,AnnotationEditorUIManager:qi,AnnotationLayer:hp,AnnotationMode:gi,AnnotationType:xe,applyOpacity:vS,build:US,ColorPicker:Rn,createValidAbsoluteUrl:Kf,CSSConstants:bS,DOMSVGFactory:Po,DrawLayer:ze,FeatureTest:Fe,fetchData:ha,findContrastColor:SS,getDocument:ap,getFilenameFromUrl:gS,getPdfFilenameFromUrl:mS,getRGB:da,getUuid:Wf,getXfaPageViewport:yS,GlobalWorkerOptions:ws,ImageKind:xo,InvalidPDFException:Nu,isDataScheme:Ho,isPdfFile:Yu,isValidExplicitDest:xS,MathClamp:We,noContextMenu:Ln,normalizeUnicode:fS,OPS:ra,OutputScale:ti,PasswordResponses:hS,PDFDataRangeTransport:lp,PDFDateString:Ou,PDFWorker:aa,PermissionFlag:cS,PixelsPerInch:$s,RenderingCancelledException:Gu,renderRichText:Jf,ResponseException:Do,setLayerDimensions:Es,shadow:Lt,SignatureExtractor:Vs,stopEvent:ge,SupportedImageMimeTypes:Pu,TextLayer:No,TouchManager:Vo,updateUrlHash:$f,Util:pt,VerbosityLevel:Fo,version:FS,XfaLayer:Zf};const aT=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Hi,AnnotationEditorLayer:pi,AnnotationEditorParamsType:zt,AnnotationEditorType:Tt,AnnotationEditorUIManager:qi,AnnotationLayer:hp,AnnotationMode:gi,AnnotationType:xe,CSSConstants:bS,ColorPicker:Rn,DOMSVGFactory:Po,DrawLayer:ze,FeatureTest:Fe,GlobalWorkerOptions:ws,ImageKind:xo,InvalidPDFException:Nu,MathClamp:We,OPS:ra,OutputScale:ti,PDFDataRangeTransport:lp,PDFDateString:Ou,PDFWorker:aa,PasswordResponses:hS,PermissionFlag:cS,PixelsPerInch:$s,RenderingCancelledException:Gu,ResponseException:Do,SignatureExtractor:Vs,SupportedImageMimeTypes:Pu,TextLayer:No,TouchManager:Vo,Util:pt,VerbosityLevel:Fo,XfaLayer:Zf,applyOpacity:vS,build:US,createValidAbsoluteUrl:Kf,fetchData:ha,findContrastColor:SS,getDocument:ap,getFilenameFromUrl:gS,getPdfFilenameFromUrl:mS,getRGB:da,getUuid:Wf,getXfaPageViewport:yS,isDataScheme:Ho,isPdfFile:Yu,isValidExplicitDest:xS,noContextMenu:Ln,normalizeUnicode:fS,renderRichText:Jf,setLayerDimensions:Es,shadow:Lt,stopEvent:ge,updateUrlHash:$f,version:FS},Symbol.toStringTag,{value:"Module"}));function $S(a){var t,e,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=$S(a[t]))&&(n&&(n+=" "),n+=e)}else for(e in a)a[e]&&(n&&(n+=" "),n+=e);return n}function $u(){for(var a,t,e=0,n="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=$S(a))&&(n&&(n+=" "),n+=t);return n}var Y0=Object.prototype.hasOwnProperty;function X0(a,t,e){for(e of a.keys())if(ta(e,t))return e}function ta(a,t){var e,n,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((n=a.length)===t.length)for(;n--&&ta(a[n],t[n]););return n===-1}if(e===Set){if(a.size!==t.size)return!1;for(n of a)if(r=n,r&&typeof r=="object"&&(r=X0(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(n of a)if(r=n[0],r&&typeof r=="object"&&(r=X0(t,r),!r)||!ta(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((n=a.byteLength)===t.byteLength)for(;n--&&a.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===t.byteLength)for(;n--&&a[n]===t[n];);return n===-1}if(!e||typeof a=="object"){n=0;for(e in a)if(Y0.call(a,e)&&++n&&!Y0.call(t,e)||!(e in t)||!ta(a[e],t[e]))return!1;return Object.keys(t).length===n}}return a!==a&&t!==t}function Xo(a){let t=!1;return{promise:new Promise((n,r)=>{a.then(o=>!t&&n(o)).catch(o=>!t&&r(o))}),cancel(){t=!0}}}const oT=["onCopy","onCut","onPaste"],lT=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],uT=["onFocus","onBlur"],cT=["onInput","onInvalid","onReset","onSubmit"],hT=["onLoad","onError"],dT=["onKeyDown","onKeyPress","onKeyUp"],fT=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],pT=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],gT=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],mT=["onSelect"],yT=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],bT=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],vT=["onScroll"],ST=["onWheel"],AT=["onAnimationStart","onAnimationEnd","onAnimationIteration"],wT=["onTransitionEnd"],ET=["onToggle"],xT=["onChange"],CT=[...oT,...lT,...uT,...cT,...hT,...dT,...fT,...pT,...gT,...mT,...yT,...bT,...vT,...ST,...AT,...wT,...xT,...ET];function WS(a,t){const e={};for(const n of CT){const r=a[n];r&&(t?e[n]=(o=>r(o,t(n))):e[n]=r)}return e}var _T="Invariant failed";function ie(a,t){if(!a)throw new Error(_T)}var ef,K0;function TT(){if(K0)return ef;K0=1;var a=function(){};return ef=a,ef}var RT=TT();const Qe=la(RT),QS=H.createContext(null),MT="noopener noreferrer nofollow";class kT{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ie(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ie(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||MT,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{ie(this.pdfDocument),ie(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ie(Array.isArray(e));const n=e[0];new Promise(r=>{ie(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{ie(!1)}):typeof n=="number"?r(n):ie(!1)}).then(r=>{const o=r+1;ie(this.pdfViewer),ie(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}goToPage(t){const e=t-1;ie(this.pdfViewer),ie(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function ea({children:a,type:t}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const $0={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function DT(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function oa(){return H.useReducer(DT,{value:void 0,error:void 0})}const Wu=typeof window<"u",ZS=Wu&&window.location.protocol==="file:";function LT(a){return typeof a<"u"}function qs(a){return LT(a)&&a!==null}function NT(a){return typeof a=="string"}function OT(a){return a instanceof ArrayBuffer}function PT(a){return ie(Wu),a instanceof Blob}function Rf(a){return NT(a)&&/^data:/.test(a)}function W0(a){ie(Rf(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function BT(){return Wu&&window.devicePixelRatio||1}const JS="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Q0(){Qe(!ZS,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${JS}`)}function IT(){Qe(!ZS,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${JS}`)}function Qs(a){a?.cancel&&a.cancel()}function Mf(a,t){return Object.defineProperty(a,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),a}function tA(a){return a.name==="AbortException"||a.name==="RenderingCancelledException"}function zT(a){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}const{PDFDataRangeTransport:FT}=aT,UT=(a,t)=>{switch(t){case $0.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case $0.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function Z0(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const jT=H.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:g,onLoadError:b,onLoadProgress:v,onLoadSuccess:w,onPassword:S=UT,onSourceError:x,onSourceSuccess:E,options:T,renderMode:C,rotate:D,scale:N,...R},k){const[z,F]=oa(),{value:V,error:j}=z,[G,tt]=oa(),{value:$,error:J}=G,B=H.useRef(new kT),Y=H.useRef([]),rt=H.useRef(void 0),ht=H.useRef(void 0);l&&l!==rt.current&&Z0(l)&&(Qe(!ta(l,rt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),rt.current=l),T&&T!==ht.current&&(Qe(!ta(T,ht.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ht.current=T);const L=H.useRef({scrollPageIntoView:Xt=>{const{dest:Kt,pageNumber:Yt,pageIndex:fe=Yt-1}=Xt;if(g){g({dest:Kt,pageIndex:fe,pageNumber:Yt});return}const Oe=Y.current[fe];if(Oe){Oe.scrollIntoView();return}Qe(!1,`An internal link leading to page ${Yt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});H.useImperativeHandle(k,()=>({linkService:B,pages:Y,viewer:L}),[]);function I(){E&&E()}function Q(){j&&(Qe(!1,j.toString()),x&&x(j))}function M(){F({type:"RESET"})}H.useEffect(M,[l,F]);const at=H.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Rf(l)?{data:W0(l)}:(Q0(),{url:l});if(l instanceof FT)return{range:l};if(OT(l))return{data:l};if(Wu&&PT(l))return{data:await zT(l)};if(ie(typeof l=="object"),ie(Z0(l)),"url"in l&&typeof l.url=="string"){if(Rf(l.url)){const{url:Xt,...Kt}=l;return{data:W0(Xt),...Kt}}Q0()}return l},[l]);H.useEffect(()=>{const Xt=Xo(at());return Xt.promise.then(Kt=>{F({type:"RESOLVE",value:Kt})}).catch(Kt=>{F({type:"REJECT",error:Kt})}),()=>{Qs(Xt)}},[at,F]),H.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){Q();return}I()}},[V]);function dt(){$&&(w&&w($),Y.current=new Array($.numPages),B.current.setDocument($))}function ut(){J&&(Qe(!1,J.toString()),b&&b(J))}H.useEffect(function(){tt({type:"RESET"})},[tt,V]),H.useEffect(function(){if(!V)return;const Kt=T?{...V,...T}:V,Yt=ap(Kt);v&&(Yt.onProgress=v),S&&(Yt.onPassword=S);const fe=Yt;return fe.promise.then(Oe=>{fe.destroyed||tt({type:"RESOLVE",value:Oe})}).catch(Oe=>{fe.destroyed||tt({type:"REJECT",error:Oe})}),()=>{fe.destroy()}},[T,tt,V]),H.useEffect(()=>{if(!(typeof $>"u")){if($===!1){ut();return}dt()}},[$]),H.useEffect(function(){B.current.setViewer(L.current),B.current.setExternalLinkRel(r),B.current.setExternalLinkTarget(o)},[r,o]);const ct=H.useCallback((Xt,Kt)=>{Y.current[Xt]=Kt},[]),wt=H.useCallback(Xt=>{delete Y.current[Xt]},[]),Et=H.useMemo(()=>({imageResourcesPath:d,linkService:B.current,onItemClick:g,pdf:$,registerPage:ct,renderMode:C,rotate:D,scale:N,unregisterPage:wt}),[d,g,$,ct,C,D,N,wt]),ye=H.useMemo(()=>WS(R,()=>$),[R,$]);function Ae(){function Xt(Yt){return!!Yt?.pdf}if(!Xt(Et))throw new Error("pdf is undefined");const Kt=typeof t=="function"?t(Et):t;return O.jsx(QS.Provider,{value:Et,children:Kt})}function qt(){return l?$==null?O.jsx(ea,{type:"loading",children:typeof f=="function"?f():f}):$===!1?O.jsx(ea,{type:"error",children:typeof n=="function"?n():n}):Ae():O.jsx(ea,{type:"no-data",children:typeof p=="function"?p():p})}return O.jsx("div",{className:$u("react-pdf__Document",e),ref:c,...ye,children:qt()})});function eA(){return H.useContext(QS)}function nA(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,c=e;l<c.length;l++){var d=c[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const iA=H.createContext(null);function Qu(){return H.useContext(iA)}function HT(){const a=eA(),t=Qu();ie(t);const e={...a,...t},{filterAnnotations:n,imageResourcesPath:r,linkService:o,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:p,pdf:g,renderForms:b,rotate:v,scale:w=1}=e;ie(g),ie(p),ie(o);const[S,x]=oa(),{value:E,error:T}=S,C=H.useRef(null);Qe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function D(){E&&c&&c(E)}function N(){T&&(Qe(!1,T.toString()),l&&l(T))}H.useEffect(function(){x({type:"RESET"})},[x,p]),H.useEffect(function(){if(!p)return;const V=Xo(p.getAnnotations()),j=V;return V.promise.then(G=>{x({type:"RESOLVE",value:G})}).catch(G=>{x({type:"REJECT",error:G})}),()=>{Qs(j)}},[x,p]),H.useEffect(()=>{if(E!==void 0){if(E===!1){N();return}D()}},[E]);function R(){f&&f()}function k(F){Qe(!1,`${F}`),d&&d(F)}const z=H.useMemo(()=>p.getViewport({scale:w,rotation:v}),[p,v,w]);return H.useEffect(function(){if(!g||!p||!o||!E)return;const{current:V}=C;if(!V)return;const j=z.clone({dontFlip:!0}),G={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:g.annotationStorage,commentManager:null,div:V,l10n:null,linkService:o,page:p,structTreeLayer:null,viewport:j},tt={annotations:n?n({annotations:E}):E,annotationStorage:g.annotationStorage,div:V,imageResourcesPath:r,linkService:o,page:p,renderForms:b,viewport:j};V.innerHTML="";try{new hp(G).render(tt),R()}catch($){k($)}return()=>{}},[E,n,r,o,p,g,b,z]),O.jsx("div",{className:$u("react-pdf__Page__annotations","annotationLayer"),ref:C})}const sA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},qT=/^H(\d+)$/;function VT(a){return a in sA}function Zu(a){return"children"in a}function rA(a){return Zu(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function GT(a){const t={};if(Zu(a)){const{role:e}=a,n=e.match(qT);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(VT(e)){const r=sA[e];r&&(t.role=r)}}return t}function aA(a){const t={};if(Zu(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),rA(a)){const[e]=a.children;if(e){const n=aA(e);return{...t,...n}}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function YT(a){return a?{...GT(a),...aA(a)}:null}function oA({className:a,node:t}){const e=H.useMemo(()=>YT(t),[t]),n=H.useMemo(()=>!Zu(t)||rA(t)?null:t.children.map((r,o)=>O.jsx(oA,{node:r},o)),[t]);return O.jsx("span",{className:a,...e,children:n})}function XT(){const a=Qu();ie(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[n,r]=oa(),{value:o,error:l}=n,{customTextRenderer:c,page:d}=a;function f(){o&&e&&e(o)}function p(){l&&(Qe(!1,l.toString()),t&&t(l))}return H.useEffect(function(){r({type:"RESET"})},[r,d]),H.useEffect(function(){if(c||!d)return;const b=Xo(d.getStructTree()),v=b;return b.promise.then(w=>{r({type:"RESOLVE",value:w})}).catch(w=>{r({type:"REJECT",error:w})}),()=>Qs(v)},[c,d,r]),H.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?O.jsx(oA,{className:"react-pdf__Page__structTree structTree",node:o}):null}const J0=gi;function KT(a){const t=Qu();ie(t);const e={...t,...a},{_className:n,canvasBackground:r,devicePixelRatio:o=BT(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:f,renderTextLayer:p,pageColors:g,rotate:b,scale:v}=e,{canvasRef:w}=a;ie(d);const S=H.useRef(null);function x(){d&&c&&c(Mf(d,v))}function E(N){tA(N)||(Qe(!1,N.toString()),l&&l(N))}const T=H.useMemo(()=>d.getViewport({scale:v*o,rotation:b}),[o,d,b,v]),C=H.useMemo(()=>d.getViewport({scale:v,rotation:b}),[d,b,v]);H.useEffect(function(){if(!d)return;d.cleanup();const{current:R}=S;if(!R)return;R.width=T.width,R.height=T.height,R.style.width=`${Math.floor(C.width)}px`,R.style.height=`${Math.floor(C.height)}px`,R.style.visibility="hidden";const k={annotationMode:f?J0.ENABLE_FORMS:J0.ENABLE,canvas:R,canvasContext:R.getContext("2d",{alpha:!1}),pageColors:g,viewport:T};r&&(k.background=r);const z=d.render(k),F=z;return z.promise.then(()=>{R.style.visibility="",x()}).catch(E),()=>Qs(F)},[r,d,g,f,T,C]);const D=H.useCallback(()=>{const{current:N}=S;N&&(N.width=0,N.height=0)},[]);return H.useEffect(()=>D,[D]),O.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:nA(w,S),style:{display:"block",userSelect:"none"},children:p?O.jsx(XT,{}):null})}function $T(a){return"str"in a}const WT=new Set(["base","embed","iframe","link","meta","object","script","style","template"]),QT=new Set(["action","formaction","href","poster","src","xlink:href"]);function ZT(a){let t="";for(const e of a){const n=e.charCodeAt(0);n<=32||n===127||(t+=e.toLowerCase())}return t.startsWith("javascript:")||t.startsWith("vbscript:")}function JT(a){return a.nodeType===Node.ELEMENT_NODE}function lA(a){return JT(a)&&a instanceof HTMLElement}function tR(a){return lA(a)&&WT.has(a.tagName.toLowerCase())}function eR(a){const t=document.createElement(a.tagName.toLowerCase());return Array.from(a.attributes).forEach(e=>{const n=e.name.toLowerCase();n.startsWith("on")||n==="srcdoc"||QT.has(n)&&ZT(e.value)||t.setAttribute(e.name,e.value)}),Array.from(a.childNodes).forEach(e=>{t.append(uA(e))}),t}function uA(a){var t;return lA(a)&&!tR(a)?eR(a):document.createTextNode((t=a.textContent)!==null&&t!==void 0?t:"")}function nR(a,t){const e=document.createElement("template");e.innerHTML=t;const n=document.createDocumentFragment();Array.from(e.content.childNodes).forEach(r=>{n.append(uA(r))}),a.replaceChildren(n)}function iR(){const a=Qu();ie(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:c,pageNumber:d,rotate:f,scale:p}=a;ie(l);const[g,b]=oa(),{value:v,error:w}=g,S=H.useRef(null);Qe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){v&&n&&n(v)}function E(){w&&(Qe(!1,w.toString()),e&&e(w))}H.useEffect(function(){b({type:"RESET"})},[l,b]),H.useEffect(function(){if(!l)return;const z=Xo(l.getTextContent()),F=z;return z.promise.then(V=>{b({type:"RESOLVE",value:V})}).catch(V=>{b({type:"REJECT",error:V})}),()=>Qs(F)},[l,b]),H.useEffect(()=>{if(v!==void 0){if(v===!1){E();return}x()}},[v]);const T=H.useCallback(()=>{o&&o()},[o]),C=H.useCallback(k=>{tA(k)||(Qe(!1,k.toString()),r&&r(k))},[r]);function D(){const k=S.current;k&&k.classList.add("selecting")}function N(){const k=S.current;k&&k.classList.remove("selecting")}const R=H.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return H.useLayoutEffect(function(){if(!l||!v)return;const{current:z}=S;if(!z)return;z.innerHTML="";const F=l.streamTextContent({includeMarkedContent:!0}),V={container:z,textContentSource:F,viewport:R},j=new No(V),G=j;return j.render().then(()=>{const tt=document.createElement("div");tt.className="endOfContent",z.append(tt);const $=z.querySelectorAll('[role="presentation"]');if(t){let J=0;v.items.forEach((B,Y)=>{if(!$T(B))return;const rt=$[J];if(!rt)return;const ht=t({pageIndex:c,pageNumber:d,itemIndex:Y,...B});nR(rt,ht),J+=B.str&&B.hasEOL?2:1})}T()}).catch(C),()=>Qs(G)},[t,C,T,l,c,d,v,R]),O.jsx("div",{className:$u("react-pdf__Page__textContent","textLayer"),onMouseUp:N,onMouseDown:D,ref:S})}const tv=1;function sR(a){const e={...eA(),...a},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:c,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:g,error:b="Failed to load the page.",filterAnnotations:v,height:w,inputRef:S,loading:x="Loading page",noData:E="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:C,onGetStructTreeError:D,onGetStructTreeSuccess:N,onGetTextError:R,onGetTextSuccess:k,onLoadError:z,onLoadSuccess:F,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:j,onRenderError:G,onRenderSuccess:tt,onRenderTextLayerError:$,onRenderTextLayerSuccess:J,pageColors:B,pageIndex:Y,pageNumber:rt,pdf:ht,registerPage:L,renderAnnotationLayer:I=!0,renderForms:Q=!1,renderMode:M="canvas",renderTextLayer:at=!0,rotate:dt,scale:ut=tv,unregisterPage:ct,width:wt,...Et}=e,[ye,Ae]=oa(),{value:qt,error:Xt}=ye,Kt=H.useRef(null);ie(ht);const Yt=qs(rt)?rt-1:Y??null,fe=rt??(qs(Y)?Y+1:null),Oe=dt??(qt?qt.rotate:null),Ke=H.useMemo(()=>{if(!qt)return null;let Ct=1;const Nt=ut??tv;if(wt||w){const be=qt.getViewport({scale:1,rotation:Oe});wt?Ct=wt/be.width:w&&(Ct=w/be.height)}return Nt*Ct},[w,qt,Oe,ut,wt]);H.useEffect(function(){return()=>{qs(Yt)&&r&&ct&&ct(Yt)}},[r,ht,Yt,ct]);function Gi(){if(F){if(!qt||!Ke)return;F(Mf(qt,Ke))}if(r&&L){if(!qs(Yt)||!Kt.current)return;L(Yt,Kt.current)}}function Yi(){Xt&&(Qe(!1,Xt.toString()),z&&z(Xt))}H.useEffect(function(){Ae({type:"RESET"})},[Ae,ht,Yt]),H.useEffect(function(){if(!ht||!fe)return;const Nt=Xo(ht.getPage(fe)),be=Nt;return Nt.promise.then(bn=>{Ae({type:"RESOLVE",value:bn})}).catch(bn=>{Ae({type:"REJECT",error:bn})}),()=>Qs(be)},[Ae,ht,fe]),H.useEffect(()=>{if(qt!==void 0){if(qt===!1){Yi();return}Gi()}},[qt,Ke]);const Si=H.useMemo(()=>qs(Yt)&&fe&&qs(Oe)&&qs(Ke)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,filterAnnotations:v,onGetAnnotationsError:T,onGetAnnotationsSuccess:C,onGetStructTreeError:D,onGetStructTreeSuccess:N,onGetTextError:R,onGetTextSuccess:k,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:j,onRenderError:G,onRenderSuccess:tt,onRenderTextLayerError:$,onRenderTextLayerSuccess:J,page:qt,pageColors:B,pageIndex:Yt,pageNumber:fe,renderForms:Q,renderTextLayer:at,rotate:Oe,scale:Ke}:null,[n,o,p,g,v,T,C,D,N,R,k,V,j,G,tt,$,J,qt,B,Yt,fe,Q,at,Oe,Ke]),ga=H.useMemo(()=>WS(Et,()=>qt&&(Ke?Mf(qt,Ke):void 0)),[Et,qt,Ke]),Xi=`${Yt}@${Ke}/${Oe}`;function Ue(){switch(M){case"custom":return ie(f),O.jsx(f,{},`${Xi}_custom`);case"none":return null;default:return O.jsx(KT,{canvasRef:l},`${Xi}_canvas`)}}function ma(){return at?O.jsx(iR,{},`${Xi}_text`):null}function nt(){return I?O.jsx(HT,{},`${Xi}_annotations`):null}function lt(){function Ct(be){return!!be?.page}if(!Ct(Si))throw new Error("page is undefined");const Nt=typeof c=="function"?c(Si):c;return O.jsxs(iA.Provider,{value:Si,children:[Ue(),ma(),nt(),Nt]})}function St(){return fe?ht===null||qt===void 0||qt===null?O.jsx(ea,{type:"loading",children:typeof x=="function"?x():x}):ht===!1||qt===!1?O.jsx(ea,{type:"error",children:typeof b=="function"?b():b}):lt():O.jsx(ea,{type:"no-data",children:typeof E=="function"?E():E})}return O.jsx("div",{className:$u(n,d),"data-page-number":fe,ref:nA(S,Kt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ke}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...ga,children:St()})}IT();ws.workerSrc="pdf.worker.mjs";ws.workerSrc="https://unpkg.com/pdfjs-dist@5.4.296/build/pdf.worker.min.mjs";const ev=[{label:"AI Focused Systems Engineer (Main)",file:"/docs/resume/Mikes_Resume2026.pdf"},{label:"AI Systems Engineer",file:"/docs/resume/Mikes_Resume_2026_AI_Systems_Engineer.pdf"},{label:"AI Embedded Systems Engineer",file:"/docs/resume/Mikes_Resume_2026_AI_Embedded_Systems_Engineer.pdf"},{label:"Full-Stack Web Developer",file:"/docs/resume/Mikes_Resume_2026_Full_Stack_Web_Developer.pdf"}];function rR(){const[a,t]=H.useState(ev[0]),e=H.useRef(null),[n,r]=H.useState(600);return H.useEffect(()=>{const o=()=>{e.current&&r(e.current.offsetWidth)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),O.jsxs("div",{className:"resume-page container",children:[O.jsx("h2",{className:"resume-page-title",children:"Resume"}),O.jsxs("div",{className:"card resume-preview-card",children:[O.jsxs("div",{className:"card-title",children:["Quick view: ",a.label]}),O.jsxs("div",{className:"resume-layout",children:[O.jsx("div",{className:"resume-pdfcol",ref:e,children:O.jsx("div",{className:"paper",children:O.jsx(jT,{file:a.file,loading:O.jsx("div",{className:"muted",children:"Loading"}),children:O.jsx(sR,{pageNumber:1,width:n,renderAnnotationLayer:!1,renderTextLayer:!1})})})}),O.jsxs("aside",{className:"resume-sidecol",children:[O.jsx("div",{className:"resume-side-title",children:"Select a resume"}),O.jsx("div",{className:"resume-sidegrid",children:ev.map(o=>O.jsxs("div",{className:"resume-tile",children:[O.jsx("div",{className:"resume-tile-title",children:o.label}),O.jsxs("div",{className:"resume-btn-row",children:[O.jsx("button",{className:"btn",type:"button",onClick:()=>t(o),children:"Quick view"}),O.jsx("a",{className:"btn ghost",href:o.file,target:"_blank",rel:"noreferrer",children:"Open"}),O.jsx("a",{className:"btn ghost",href:o.file,download:!0,children:"Download"})]})]},o.file))})]})]})]})]})}const kn={WEB:"web",EMBEDDED:"embedded",AI:"ai"},gp={[kn.WEB]:{label:"Web Development",accent:"web"},[kn.EMBEDDED]:{label:"Embedded / IoT",accent:"embedded"},[kn.AI]:{label:"AI Engineering",accent:"ai"}},aR=[{id:"python-algorithms-suite",category:kn.AI,title:"Python Algorithms & Interactive System",subtitle:"CLI Games, String Processing & Text Analytics",summary:"A multi-part Python project featuring algorithmic string manipulation, a 2D grid-based game engine (Tic-Tac-Toe), and a text analytics pipeline that generates dynamic HTML reports with hidden message extraction.",status:"Complete",skills:["Algorithm Design","String Processing","2D Data Structures","State Management","File I/O","Text Normalization","Word Frequency Analysis","HTML Generation","CLI Interface Design"],tech:["Python"],links:{repo:"https://github.com/Mike-Lalonde/python-algorithms-games-text-analytics",demo:"/projects/python-suite/whale-of-a-tale-demo.mp4",writeup:null},media:{screenshots:["/projects/python-suite/tic-tac-toe-1.png","/projects/python-suite/tic-tac-toe-2.png","/projects/python-suite/whale-report-1.png","/projects/python-suite/whale-report-2.png"],embedUrl:null}},{id:"my-first-neural-network",category:kn.AI,title:"My First Neural Network (NumPy)",subtitle:"Feedforward NN built from scratch on MNIST",summary:"A from-scratch neural network implemented using NumPy and SciPy to demonstrate forward propagation, backpropagation, weight updates, and model persistence without using high-level frameworks like PyTorch or TensorFlow.",status:"Complete",skills:["Neural Network Fundamentals","Backpropagation","Matrix Multiplication","Gradient-Based Optimization","Model Persistence"],tech:["Python","NumPy","SciPy","tqdm"],links:{repo:"https://github.com/Mike-Lalonde/myfirstneuralnetwork",demo:null,writeup:null},media:{screenshots:[],embedUrl:null}},{id:"mastermind",category:kn.AI,title:"Mastermind",subtitle:"Rule evaluation  State management  Modular design",summary:"Interactive implementation of the Mastermind game demonstrating algorithmic rule evaluation, state management, modular Python architecture, and structured game loop control.",status:"Complete",skills:["Algorithm Design","State Management","Rule Evaluation","Modular Architecture","Game Loop Control"],tech:["Python"],links:{repo:"https://github.com/Mike-Lalonde/mastermind",demo:"/videos/mastermind-demo.mp4",writeup:null},media:{screenshots:[],embedUrl:null}},{id:"chip8-emulator",category:kn.EMBEDDED,title:"CHIP-8 Emulator",subtitle:"CPU  Memory  Instruction decoding",summary:"Systems-style project demonstrating CPU, memory, instruction decoding, and testing.",status:"Write-up + screenshots coming soon",skills:["Instruction decoding","Memory model","Testing","Debugging"],tech:["C/C++","SDL (optional)","Unit tests"],links:{repo:"https://github.com/Mike-Lalonde/chip8-emulator",demo:null,writeup:null},media:{screenshots:[],embedUrl:null}},{id:"mandelbrot",category:kn.AI,title:"Mandelbrot Visualizations",subtitle:"Numerical computation  Complex plane mapping",summary:"Implementation of Mandelbrot set visualizations using iterative escape-time algorithms and complex number computation. Demonstrates numerical programming, coordinate transformations, and translating mathematical models into structured Python code and visual output.",status:"Complete",skills:["Numerical Computation","Complex Numbers","Coordinate Mapping","Visualization","Algorithmic Efficiency"],tech:["Python"],links:{repo:"https://github.com/Mike-Lalonde/mandelbrot",demo:null,writeup:null},media:{screenshots:[],embedUrl:null}},{id:"web-placeholder",category:kn.WEB,title:"Web Projects (Coming Next)",subtitle:"React + Vite portfolio work and web apps",summary:"Placeholder entry while I migrate and polish my web development projects for reliable demos.",status:"In progress",skills:["UI Layout","Component Design","Routing","Responsive Design"],tech:["React","Vite","CSS"],links:{repo:null,demo:null,writeup:null},media:{screenshots:[],embedUrl:null}}];function oR({value:a,onChange:t}){const e=[kn.AI,kn.EMBEDDED,kn.WEB];return O.jsx("div",{className:"proj-tabs",children:e.map(n=>{const r=gp[n],o=a===n;return O.jsx("button",{className:o?`proj-tab active accent-${r.accent}`:`proj-tab accent-${r.accent}`,onClick:()=>t(n),type:"button",children:r.label},n)})})}function lR({items:a,selectedId:t,onSelect:e}){return O.jsx("div",{className:"proj-grid",children:a.map(n=>{const r=n.id===t;return O.jsxs("button",{className:r?"proj-tile active":"proj-tile",onClick:()=>e(n.id),type:"button",children:[O.jsx("div",{className:"proj-tile-title",children:n.title}),O.jsx("div",{className:"proj-tile-sub",children:n.subtitle||n.status})]},n.id)})})}function uR({children:a,accent:t}){return O.jsx("span",{className:`chip accent-${t}`,children:a})}function cR({project:a}){const t=gp[a.category]?.accent||"web",[e,n]=H.useState(!1);H.useRef(null);const r=a.media?.screenshots||[],[o,l]=H.useState(0),[c,d]=H.useState(!1);return H.useEffect(()=>{l(0),d(!1),n(!1)},[a.id]),O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"proj-header-block",children:[O.jsxs("div",{className:"proj-detail-head",children:[O.jsxs("div",{children:[O.jsx("div",{className:"card-title",children:a.title}),O.jsx("div",{className:"card-subtitle",children:a.subtitle||a.status})]}),O.jsx("div",{className:"proj-detail-status",children:a.status})]}),O.jsx("p",{className:"muted proj-summary",children:a.summary})]}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"proj-section-title",children:"Preview"}),O.jsxs("div",{className:"proj-preview",children:[O.jsx("div",{className:"preview-main",children:e&&a.links?.demo?O.jsx("video",{controls:!0,className:"preview-video",children:O.jsx("source",{src:a.links.demo,type:"video/mp4"})}):r.length>0?O.jsx("button",{type:"button",className:"shot-main",onClick:()=>d(!0),children:O.jsx("img",{src:r[o],alt:"",className:"shot-main-img"})}):O.jsx("div",{className:"muted",children:"Preview coming soon."})}),r.length>1&&O.jsx("div",{className:"shot-strip",children:r.map((f,p)=>O.jsx("button",{className:p===o?"shot-thumb active":"shot-thumb",onClick:()=>{l(p),n(!1)},children:O.jsx("img",{src:f,className:"shot-thumb-img",alt:""})},p))})]}),O.jsxs("div",{className:"proj-actions proj-actions-compact",children:[a.links?.repo?O.jsx("a",{className:"btn btn-compact",href:a.links.repo,target:"_blank",rel:"noreferrer",children:"Repo"}):O.jsx("span",{className:"btn btn-compact disabled",children:"Repo"}),a.links?.demo?O.jsx("button",{className:"btn btn-compact",type:"button",onClick:()=>n(f=>!f),children:e?"Hide Demo":"Live Demo"}):O.jsx("span",{className:"btn btn-compact disabled",children:"Live Demo"}),a.links?.writeup?O.jsx("a",{className:"btn btn-compact",href:a.links.writeup,target:"_blank",rel:"noreferrer",children:"Case Study"}):O.jsx("span",{className:"btn btn-compact disabled",children:"Case Study"})]})]}),O.jsxs("div",{className:"proj-section",children:[O.jsx("div",{className:"proj-section-title",children:"Skills / Knowledge"}),O.jsx("div",{className:"chips chips-compact",children:(a.skills||[]).map(f=>O.jsx(uR,{accent:t,children:f},f))})]}),O.jsxs("div",{className:"proj-section",children:[O.jsx("div",{className:"proj-section-title",children:"Tech"}),O.jsx("div",{className:"chips chips-compact",children:(a.tech||[]).map(f=>O.jsx("span",{className:"chip subtle",children:f},f))})]}),c&&r.length>0&&O.jsx("div",{className:"lightbox",onClick:()=>d(!1),children:O.jsxs("div",{className:"lightbox-panel",onClick:f=>f.stopPropagation(),children:[O.jsx("button",{type:"button",className:"lightbox-close",onClick:()=>d(!1),children:""}),O.jsx("img",{src:r[o],alt:"",className:"lightbox-img"})]})})]})}function hR(){const[a,t]=H.useState(kn.AI),e=H.useMemo(()=>aR.filter(l=>l.category===a),[a]),[n,r]=H.useState("");H.useEffect(()=>{r(e.length>0?e[0].id:"")},[e]);const o=H.useMemo(()=>e.find(l=>l.id===n),[e,n]);return O.jsxs("div",{className:"stack projects-page",children:[O.jsx("h2",{children:"Projects"}),O.jsx("p",{children:"Select a project to view the skills/knowledge used and supporting evidence without leaving the page."}),O.jsx(oR,{value:a,onChange:t}),O.jsxs("div",{className:"proj-vertical",children:[O.jsx("div",{className:"proj-viewport",children:o?O.jsx(cR,{project:o}):O.jsx("div",{className:"card",children:"No project selected."})}),O.jsxs("div",{className:"card proj-left",children:[O.jsx("div",{className:"card-title",children:gp[a].label}),O.jsx("div",{className:"card-subtitle",children:"Click a project to view details"}),O.jsx(lR,{items:e.slice(0,12),selectedId:o?.id,onSelect:r})]})]})]})}function dR(a,t){const e={};return(a[a.length-1]===""?[...a,""]:a).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const fR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gR={};function nv(a,t){return(gR.jsx?pR:fR).test(a)}const mR=/[ \t\n\f\r]/g;function yR(a){return typeof a=="object"?a.type==="text"?iv(a.value):!1:iv(a)}function iv(a){return a.replace(mR,"")===""}class Ko{constructor(t,e,n){this.normal=e,this.property=t,n&&(this.space=n)}}Ko.prototype.normal={};Ko.prototype.property={};Ko.prototype.space=void 0;function cA(a,t){const e={},n={};for(const r of a)Object.assign(e,r.property),Object.assign(n,r.normal);return new Ko(e,n,t)}function kf(a){return a.toLowerCase()}class yn{constructor(t,e){this.attribute=e,this.property=t}}yn.prototype.attribute="";yn.prototype.booleanish=!1;yn.prototype.boolean=!1;yn.prototype.commaOrSpaceSeparated=!1;yn.prototype.commaSeparated=!1;yn.prototype.defined=!1;yn.prototype.mustUseProperty=!1;yn.prototype.number=!1;yn.prototype.overloadedBoolean=!1;yn.prototype.property="";yn.prototype.spaceSeparated=!1;yn.prototype.space=void 0;let bR=0;const Dt=ir(),De=ir(),Df=ir(),ot=ir(),re=ir(),na=ir(),_n=ir();function ir(){return 2**++bR}const Lf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Dt,booleanish:De,commaOrSpaceSeparated:_n,commaSeparated:na,number:ot,overloadedBoolean:Df,spaceSeparated:re},Symbol.toStringTag,{value:"Module"})),nf=Object.keys(Lf);class mp extends yn{constructor(t,e,n,r){let o=-1;if(super(t,e),sv(this,"space",r),typeof n=="number")for(;++o<nf.length;){const l=nf[o];sv(this,nf[o],(n&Lf[l])===Lf[l])}}}mp.prototype.defined=!0;function sv(a,t,e){e&&(a[t]=e)}function fa(a){const t={},e={};for(const[n,r]of Object.entries(a.properties)){const o=new mp(n,a.transform(a.attributes||{},n),r,a.space);a.mustUseProperty&&a.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),t[n]=o,e[kf(n)]=n,e[kf(o.attribute)]=n}return new Ko(t,e,a.space)}const hA=fa({properties:{ariaActiveDescendant:null,ariaAtomic:De,ariaAutoComplete:null,ariaBusy:De,ariaChecked:De,ariaColCount:ot,ariaColIndex:ot,ariaColSpan:ot,ariaControls:re,ariaCurrent:null,ariaDescribedBy:re,ariaDetails:null,ariaDisabled:De,ariaDropEffect:re,ariaErrorMessage:null,ariaExpanded:De,ariaFlowTo:re,ariaGrabbed:De,ariaHasPopup:null,ariaHidden:De,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:re,ariaLevel:ot,ariaLive:null,ariaModal:De,ariaMultiLine:De,ariaMultiSelectable:De,ariaOrientation:null,ariaOwns:re,ariaPlaceholder:null,ariaPosInSet:ot,ariaPressed:De,ariaReadOnly:De,ariaRelevant:null,ariaRequired:De,ariaRoleDescription:re,ariaRowCount:ot,ariaRowIndex:ot,ariaRowSpan:ot,ariaSelected:De,ariaSetSize:ot,ariaSort:null,ariaValueMax:ot,ariaValueMin:ot,ariaValueNow:ot,ariaValueText:null,role:null},transform(a,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function dA(a,t){return t in a?a[t]:t}function fA(a,t){return dA(a,t.toLowerCase())}const vR=fa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:na,acceptCharset:re,accessKey:re,action:null,allow:null,allowFullScreen:Dt,allowPaymentRequest:Dt,allowUserMedia:Dt,alt:null,as:null,async:Dt,autoCapitalize:null,autoComplete:re,autoFocus:Dt,autoPlay:Dt,blocking:re,capture:null,charSet:null,checked:Dt,cite:null,className:re,cols:ot,colSpan:null,content:null,contentEditable:De,controls:Dt,controlsList:re,coords:ot|na,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Dt,defer:Dt,dir:null,dirName:null,disabled:Dt,download:Df,draggable:De,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Dt,formTarget:null,headers:re,height:ot,hidden:Df,high:ot,href:null,hrefLang:null,htmlFor:re,httpEquiv:re,id:null,imageSizes:null,imageSrcSet:null,inert:Dt,inputMode:null,integrity:null,is:null,isMap:Dt,itemId:null,itemProp:re,itemRef:re,itemScope:Dt,itemType:re,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Dt,low:ot,manifest:null,max:null,maxLength:ot,media:null,method:null,min:null,minLength:ot,multiple:Dt,muted:Dt,name:null,nonce:null,noModule:Dt,noValidate:Dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Dt,optimum:ot,pattern:null,ping:re,placeholder:null,playsInline:Dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Dt,referrerPolicy:null,rel:re,required:Dt,reversed:Dt,rows:ot,rowSpan:ot,sandbox:re,scope:null,scoped:Dt,seamless:Dt,selected:Dt,shadowRootClonable:Dt,shadowRootDelegatesFocus:Dt,shadowRootMode:null,shape:null,size:ot,sizes:null,slot:null,span:ot,spellCheck:De,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ot,step:null,style:null,tabIndex:ot,target:null,title:null,translate:null,type:null,typeMustMatch:Dt,useMap:null,value:De,width:ot,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:re,axis:null,background:null,bgColor:null,border:ot,borderColor:null,bottomMargin:ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Dt,declare:Dt,event:null,face:null,frame:null,frameBorder:null,hSpace:ot,leftMargin:ot,link:null,longDesc:null,lowSrc:null,marginHeight:ot,marginWidth:ot,noResize:Dt,noHref:Dt,noShade:Dt,noWrap:Dt,object:null,profile:null,prompt:null,rev:null,rightMargin:ot,rules:null,scheme:null,scrolling:De,standby:null,summary:null,text:null,topMargin:ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Dt,disableRemotePlayback:Dt,prefix:null,property:null,results:ot,security:null,unselectable:null},space:"html",transform:fA}),SR=fa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_n,accentHeight:ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ot,amplitude:ot,arabicForm:null,ascent:ot,attributeName:null,attributeType:null,azimuth:ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ot,by:null,calcMode:null,capHeight:ot,className:re,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ot,diffuseConstant:ot,direction:null,display:null,dur:null,divisor:ot,dominantBaseline:null,download:Dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ot,enableBackground:null,end:null,event:null,exponent:ot,externalResourcesRequired:null,fill:null,fillOpacity:ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:na,g2:na,glyphName:na,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ot,horizOriginX:ot,horizOriginY:ot,id:null,ideographic:ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ot,k:ot,k1:ot,k2:ot,k3:ot,k4:ot,kernelMatrix:_n,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ot,overlineThickness:ot,paintOrder:null,panose1:null,path:null,pathLength:ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:re,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ot,pointsAtY:ot,pointsAtZ:ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_n,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_n,rev:_n,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_n,requiredFeatures:_n,requiredFonts:_n,requiredFormats:_n,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ot,specularExponent:ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ot,strikethroughThickness:ot,string:null,stroke:null,strokeDashArray:_n,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ot,strokeOpacity:ot,strokeWidth:null,style:null,surfaceScale:ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_n,tabIndex:ot,tableValues:null,target:null,targetX:ot,targetY:ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_n,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ot,underlineThickness:ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ot,values:null,vAlphabetic:ot,vMathematical:ot,vectorEffect:null,vHanging:ot,vIdeographic:ot,version:null,vertAdvY:ot,vertOriginX:ot,vertOriginY:ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:dA}),pA=fa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(a,t){return"xlink:"+t.slice(5).toLowerCase()}}),gA=fa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:fA}),mA=fa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(a,t){return"xml:"+t.slice(3).toLowerCase()}}),AR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wR=/[A-Z]/g,rv=/-[a-z]/g,ER=/^data[-\w.:]+$/i;function xR(a,t){const e=kf(t);let n=t,r=yn;if(e in a.normal)return a.property[a.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&ER.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(rv,_R);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!rv.test(o)){let l=o.replace(wR,CR);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}r=mp}return new r(n,t)}function CR(a){return"-"+a.toLowerCase()}function _R(a){return a.charAt(1).toUpperCase()}const TR=cA([hA,vR,pA,gA,mA],"html"),yp=cA([hA,SR,pA,gA,mA],"svg");function RR(a){return a.join(" ").trim()}var Vr={},sf,av;function MR(){if(av)return sf;av=1;var a=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",g="",b="comment",v="declaration";function w(x,E){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];E=E||{};var T=1,C=1;function D($){var J=$.match(t);J&&(T+=J.length);var B=$.lastIndexOf(d);C=~B?$.length-B:C+$.length}function N(){var $={line:T,column:C};return function(J){return J.position=new R($),F(),J}}function R($){this.start=$,this.end={line:T,column:C},this.source=E.source}R.prototype.content=x;function k($){var J=new Error(E.source+":"+T+":"+C+": "+$);if(J.reason=$,J.filename=E.source,J.line=T,J.column=C,J.source=x,!E.silent)throw J}function z($){var J=$.exec(x);if(J){var B=J[0];return D(B),x=x.slice(B.length),J}}function F(){z(e)}function V($){var J;for($=$||[];J=j();)J!==!1&&$.push(J);return $}function j(){var $=N();if(!(f!=x.charAt(0)||p!=x.charAt(1))){for(var J=2;g!=x.charAt(J)&&(p!=x.charAt(J)||f!=x.charAt(J+1));)++J;if(J+=2,g===x.charAt(J-1))return k("End of comment missing");var B=x.slice(2,J-2);return C+=2,D(B),x=x.slice(J),C+=2,$({type:b,comment:B})}}function G(){var $=N(),J=z(n);if(J){if(j(),!z(r))return k("property missing ':'");var B=z(o),Y=$({type:v,property:S(J[0].replace(a,g)),value:B?S(B[0].replace(a,g)):g});return z(l),Y}}function tt(){var $=[];V($);for(var J;J=G();)J!==!1&&($.push(J),V($));return $}return F(),tt()}function S(x){return x?x.replace(c,g):g}return sf=w,sf}var ov;function kR(){if(ov)return Vr;ov=1;var a=Vr&&Vr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=e;const t=a(MR());function e(n,r){let o=null;if(!n||typeof n!="string")return o;const l=(0,t.default)(n),c=typeof r=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:p}=d;c?r(f,p,d):p&&(o=o||{},o[f]=p)}),o}return Vr}var yo={},lv;function DR(){if(lv)return yo;lv=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.camelCase=void 0;var a=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(f){return!f||e.test(f)||a.test(f)},l=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(r,c):f=f.replace(n,c),f.replace(t,l))};return yo.camelCase=d,yo}var bo,uv;function LR(){if(uv)return bo;uv=1;var a=bo&&bo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=a(kR()),e=DR();function n(r,o){var l={};return!r||typeof r!="string"||(0,t.default)(r,function(c,d){c&&d&&(l[(0,e.camelCase)(c,o)]=d)}),l}return n.default=n,bo=n,bo}var NR=LR();const OR=la(NR),yA=bA("end"),bp=bA("start");function bA(a){return t;function t(e){const n=e&&e.position&&e.position[a]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function PR(a){const t=bp(a),e=yA(a);if(t&&e)return{start:t,end:e}}function _o(a){return!a||typeof a!="object"?"":"position"in a||"type"in a?cv(a.position):"start"in a||"end"in a?cv(a):"line"in a||"column"in a?Nf(a):""}function Nf(a){return hv(a&&a.line)+":"+hv(a&&a.column)}function cv(a){return Nf(a&&a.start)+"-"+Nf(a&&a.end)}function hv(a){return a&&typeof a=="number"?a:1}class Ze extends Error{constructor(t,e,n){super(),typeof e=="string"&&(n=e,e=void 0);let r="",o={},l=!1;if(e&&("line"in e&&"column"in e?o={place:e}:"start"in e&&"end"in e?o={place:e}:"type"in e?o={ancestors:[e],place:e.position}:o={...e}),typeof t=="string"?r=t:!o.cause&&t&&(l=!0,r=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof n=="string"){const d=n.indexOf(":");d===-1?o.ruleId=n:(o.source=n.slice(0,d),o.ruleId=n.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=c?c.line:void 0,this.name=_o(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ze.prototype.file="";Ze.prototype.name="";Ze.prototype.reason="";Ze.prototype.message="";Ze.prototype.stack="";Ze.prototype.column=void 0;Ze.prototype.line=void 0;Ze.prototype.ancestors=void 0;Ze.prototype.cause=void 0;Ze.prototype.fatal=void 0;Ze.prototype.place=void 0;Ze.prototype.ruleId=void 0;Ze.prototype.source=void 0;const vp={}.hasOwnProperty,BR=new Map,IR=/[A-Z]/g,zR=new Set(["table","tbody","thead","tfoot","tr"]),FR=new Set(["td","th"]),vA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function UR(a,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=KR(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=XR(e,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?yp:TR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=SA(r,a,void 0);return o&&typeof o!="string"?o:r.create(a,r.Fragment,{children:o||void 0},void 0)}function SA(a,t,e){if(t.type==="element")return jR(a,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return HR(a,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return VR(a,t,e);if(t.type==="mdxjsEsm")return qR(a,t);if(t.type==="root")return GR(a,t,e);if(t.type==="text")return YR(a,t)}function jR(a,t,e){const n=a.schema;let r=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=yp,a.schema=r),a.ancestors.push(t);const o=wA(a,t.tagName,!1),l=$R(a,t);let c=Ap(a,t);return zR.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!yR(d):!0})),AA(a,l,o,t),Sp(l,c),a.ancestors.pop(),a.schema=n,a.create(t,o,l,e)}function HR(a,t){if(t.data&&t.data.estree&&a.evaluater){const n=t.data.estree.body[0];return n.type,a.evaluater.evaluateExpression(n.expression)}Bo(a,t.position)}function qR(a,t){if(t.data&&t.data.estree&&a.evaluater)return a.evaluater.evaluateProgram(t.data.estree);Bo(a,t.position)}function VR(a,t,e){const n=a.schema;let r=n;t.name==="svg"&&n.space==="html"&&(r=yp,a.schema=r),a.ancestors.push(t);const o=t.name===null?a.Fragment:wA(a,t.name,!0),l=WR(a,t),c=Ap(a,t);return AA(a,l,o,t),Sp(l,c),a.ancestors.pop(),a.schema=n,a.create(t,o,l,e)}function GR(a,t,e){const n={};return Sp(n,Ap(a,t)),a.create(t,a.Fragment,n,e)}function YR(a,t){return t.value}function AA(a,t,e,n){typeof e!="string"&&e!==a.Fragment&&a.passNode&&(t.node=n)}function Sp(a,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(a.children=e)}}function XR(a,t,e){return n;function n(r,o,l,c){const f=Array.isArray(l.children)?e:t;return c?f(o,l,c):f(o,l)}}function KR(a,t){return e;function e(n,r,o,l){const c=Array.isArray(o.children),d=bp(n);return t(r,o,l,c,{columnNumber:d?d.column-1:void 0,fileName:a,lineNumber:d?d.line:void 0},void 0)}}function $R(a,t){const e={};let n,r;for(r in t.properties)if(r!=="children"&&vp.call(t.properties,r)){const o=QR(a,r,t.properties[r]);if(o){const[l,c]=o;a.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&FR.has(t.tagName)?n=c:e[l]=c}}if(n){const o=e.style||(e.style={});o[a.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return e}function WR(a,t){const e={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&a.evaluater){const o=n.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(e,a.evaluater.evaluateExpression(c.argument))}else Bo(a,t.position);else{const r=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&a.evaluater){const c=n.value.data.estree.body[0];c.type,o=a.evaluater.evaluateExpression(c.expression)}else Bo(a,t.position);else o=n.value===null?!0:n.value;e[r]=o}return e}function Ap(a,t){const e=[];let n=-1;const r=a.passKeys?new Map:BR;for(;++n<t.children.length;){const o=t.children[n];let l;if(a.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=r.get(d)||0;l=d+"-"+f,r.set(d,f+1)}}const c=SA(a,o,l);c!==void 0&&e.push(c)}return e}function QR(a,t,e){const n=xR(a.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=n.commaSeparated?dR(e):RR(e)),n.property==="style"){let r=typeof e=="object"?e:ZR(a,String(e));return a.stylePropertyNameCase==="css"&&(r=JR(r)),["style",r]}return[a.elementAttributeNameCase==="react"&&n.space?AR[n.property]||n.property:n.attribute,e]}}function ZR(a,t){try{return OR(t,{reactCompat:!0})}catch(e){if(a.ignoreInvalidStyle)return{};const n=e,r=new Ze("Cannot parse `style` attribute",{ancestors:a.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=a.filePath||void 0,r.url=vA+"#cannot-parse-style-attribute",r}}function wA(a,t,e){let n;if(!e)n={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let o=-1,l;for(;++o<r.length;){const c=nv(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}n=l}else n=nv(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const r=n.value;return vp.call(a.components,r)?a.components[r]:r}if(a.evaluater)return a.evaluater.evaluateExpression(n);Bo(a)}function Bo(a,t){const e=new Ze("Cannot handle MDX estrees without `createEvaluater`",{ancestors:a.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=a.filePath||void 0,e.url=vA+"#cannot-handle-mdx-estrees-without-createevaluater",e}function JR(a){const t={};let e;for(e in a)vp.call(a,e)&&(t[t2(e)]=a[e]);return t}function t2(a){let t=a.replace(IR,e2);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function e2(a){return"-"+a.toLowerCase()}const rf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},n2={};function i2(a,t){const e=n2,n=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,r=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return EA(a,n,r)}function EA(a,t,e){if(s2(a)){if("value"in a)return a.type==="html"&&!e?"":a.value;if(t&&"alt"in a&&a.alt)return a.alt;if("children"in a)return dv(a.children,t,e)}return Array.isArray(a)?dv(a,t,e):""}function dv(a,t,e){const n=[];let r=-1;for(;++r<a.length;)n[r]=EA(a[r],t,e);return n.join("")}function s2(a){return!!(a&&typeof a=="object")}const fv=document.createElement("i");function wp(a){const t="&"+a+";";fv.innerHTML=t;const e=fv.textContent;return e.charCodeAt(e.length-1)===59&&a!=="semi"||e===t?!1:e}function bi(a,t,e,n){const r=a.length;let o=0,l;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,e=e>0?e:0,n.length<1e4)l=Array.from(n),l.unshift(t,e),a.splice(...l);else for(e&&a.splice(t,e);o<n.length;)l=n.slice(o,o+1e4),l.unshift(t,0),a.splice(...l),o+=1e4,t+=1e4}function Xn(a,t){return a.length>0?(bi(a,a.length,0,t),a):t}const pv={}.hasOwnProperty;function r2(a){const t={};let e=-1;for(;++e<a.length;)a2(t,a[e]);return t}function a2(a,t){let e;for(e in t){const r=(pv.call(a,e)?a[e]:void 0)||(a[e]={}),o=t[e];let l;if(o)for(l in o){pv.call(r,l)||(r[l]=[]);const c=o[l];o2(r[l],Array.isArray(c)?c:c?[c]:[])}}}function o2(a,t){let e=-1;const n=[];for(;++e<t.length;)(t[e].add==="after"?a:n).push(t[e]);bi(a,0,0,n)}function xA(a,t){const e=Number.parseInt(a,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"":String.fromCodePoint(e)}function ia(a){return a.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mi=xs(/[A-Za-z]/),Dn=xs(/[\dA-Za-z]/),l2=xs(/[#-'*+\--9=?A-Z^-~]/);function Of(a){return a!==null&&(a<32||a===127)}const Pf=xs(/\d/),u2=xs(/[\dA-Fa-f]/),c2=xs(/[!-/:-@[-`{-~]/);function xt(a){return a!==null&&a<-2}function mn(a){return a!==null&&(a<0||a===32)}function Gt(a){return a===-2||a===-1||a===32}const h2=xs(new RegExp("\\p{P}|\\p{S}","u")),d2=xs(/\s/);function xs(a){return t;function t(e){return e!==null&&e>-1&&a.test(String.fromCharCode(e))}}function pa(a){const t=[];let e=-1,n=0,r=0;for(;++e<a.length;){const o=a.charCodeAt(e);let l="";if(o===37&&Dn(a.charCodeAt(e+1))&&Dn(a.charCodeAt(e+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=a.charCodeAt(e+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),r=1):l=""}else l=String.fromCharCode(o);l&&(t.push(a.slice(n,e),encodeURIComponent(l)),n=e+r+1,l=""),r&&(e+=r,r=0)}return t.join("")+a.slice(n)}function ae(a,t,e,n){const r=n?n-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return Gt(d)?(a.enter(e),c(d)):t(d)}function c(d){return Gt(d)&&o++<r?(a.consume(d),c):(a.exit(e),t(d))}}const f2={tokenize:p2};function p2(a){const t=a.attempt(this.parser.constructs.contentInitial,n,r);let e;return t;function n(c){if(c===null){a.consume(c);return}return a.enter("lineEnding"),a.consume(c),a.exit("lineEnding"),ae(a,t,"linePrefix")}function r(c){return a.enter("paragraph"),o(c)}function o(c){const d=a.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=d),e=d,l(c)}function l(c){if(c===null){a.exit("chunkText"),a.exit("paragraph"),a.consume(c);return}return xt(c)?(a.consume(c),a.exit("chunkText"),o):(a.consume(c),l)}}const g2={tokenize:m2},gv={tokenize:y2};function m2(a){const t=this,e=[];let n=0,r,o,l;return c;function c(C){if(n<e.length){const D=e[n];return t.containerState=D[1],a.attempt(D[0].continuation,d,f)(C)}return f(C)}function d(C){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&T();const D=t.events.length;let N=D,R;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){R=t.events[N][1].end;break}E(n);let k=D;for(;k<t.events.length;)t.events[k][1].end={...R},k++;return bi(t.events,N+1,0,t.events.slice(D)),t.events.length=k,f(C)}return c(C)}function f(C){if(n===e.length){if(!r)return b(C);if(r.currentConstruct&&r.currentConstruct.concrete)return w(C);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},a.check(gv,p,g)(C)}function p(C){return r&&T(),E(n),b(C)}function g(C){return t.parser.lazy[t.now().line]=n!==e.length,l=t.now().offset,w(C)}function b(C){return t.containerState={},a.attempt(gv,v,w)(C)}function v(C){return n++,e.push([t.currentConstruct,t.containerState]),b(C)}function w(C){if(C===null){r&&T(),E(0),a.consume(C);return}return r=r||t.parser.flow(t.now()),a.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),S(C)}function S(C){if(C===null){x(a.exit("chunkFlow"),!0),E(0),a.consume(C);return}return xt(C)?(a.consume(C),x(a.exit("chunkFlow")),n=0,t.interrupt=void 0,c):(a.consume(C),S)}function x(C,D){const N=t.sliceStream(C);if(D&&N.push(null),C.previous=o,o&&(o.next=C),o=C,r.defineSkip(C.start),r.write(N),t.parser.lazy[C.start.line]){let R=r.events.length;for(;R--;)if(r.events[R][1].start.offset<l&&(!r.events[R][1].end||r.events[R][1].end.offset>l))return;const k=t.events.length;let z=k,F,V;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(F){V=t.events[z][1].end;break}F=!0}for(E(n),R=k;R<t.events.length;)t.events[R][1].end={...V},R++;bi(t.events,z+1,0,t.events.slice(k)),t.events.length=R}}function E(C){let D=e.length;for(;D-- >C;){const N=e[D];t.containerState=N[1],N[0].exit.call(t,a)}e.length=C}function T(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}function y2(a,t,e){return ae(a,a.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mv(a){if(a===null||mn(a)||d2(a))return 1;if(h2(a))return 2}function Ep(a,t,e){const n=[];let r=-1;for(;++r<a.length;){const o=a[r].resolveAll;o&&!n.includes(o)&&(t=o(t,e),n.push(o))}return t}const Bf={name:"attention",resolveAll:b2,tokenize:v2};function b2(a,t){let e=-1,n,r,o,l,c,d,f,p;for(;++e<a.length;)if(a[e][0]==="enter"&&a[e][1].type==="attentionSequence"&&a[e][1]._close){for(n=e;n--;)if(a[n][0]==="exit"&&a[n][1].type==="attentionSequence"&&a[n][1]._open&&t.sliceSerialize(a[n][1]).charCodeAt(0)===t.sliceSerialize(a[e][1]).charCodeAt(0)){if((a[n][1]._close||a[e][1]._open)&&(a[e][1].end.offset-a[e][1].start.offset)%3&&!((a[n][1].end.offset-a[n][1].start.offset+a[e][1].end.offset-a[e][1].start.offset)%3))continue;d=a[n][1].end.offset-a[n][1].start.offset>1&&a[e][1].end.offset-a[e][1].start.offset>1?2:1;const g={...a[n][1].end},b={...a[e][1].start};yv(g,-d),yv(b,d),l={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...a[n][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...a[e][1].start},end:b},o={type:d>1?"strongText":"emphasisText",start:{...a[n][1].end},end:{...a[e][1].start}},r={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},a[n][1].end={...l.start},a[e][1].start={...c.end},f=[],a[n][1].end.offset-a[n][1].start.offset&&(f=Xn(f,[["enter",a[n][1],t],["exit",a[n][1],t]])),f=Xn(f,[["enter",r,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=Xn(f,Ep(t.parser.constructs.insideSpan.null,a.slice(n+1,e),t)),f=Xn(f,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",r,t]]),a[e][1].end.offset-a[e][1].start.offset?(p=2,f=Xn(f,[["enter",a[e][1],t],["exit",a[e][1],t]])):p=0,bi(a,n-1,e-n+3,f),e=n+f.length-p-2;break}}for(e=-1;++e<a.length;)a[e][1].type==="attentionSequence"&&(a[e][1].type="data");return a}function v2(a,t){const e=this.parser.constructs.attentionMarkers.null,n=this.previous,r=mv(n);let o;return l;function l(d){return o=d,a.enter("attentionSequence"),c(d)}function c(d){if(d===o)return a.consume(d),c;const f=a.exit("attentionSequence"),p=mv(d),g=!p||p===2&&r||e.includes(d),b=!r||r===2&&p||e.includes(n);return f._open=!!(o===42?g:g&&(r||!b)),f._close=!!(o===42?b:b&&(p||!g)),t(d)}}function yv(a,t){a.column+=t,a.offset+=t,a._bufferIndex+=t}const S2={name:"autolink",tokenize:A2};function A2(a,t,e){let n=0;return r;function r(v){return a.enter("autolink"),a.enter("autolinkMarker"),a.consume(v),a.exit("autolinkMarker"),a.enter("autolinkProtocol"),o}function o(v){return mi(v)?(a.consume(v),l):v===64?e(v):f(v)}function l(v){return v===43||v===45||v===46||Dn(v)?(n=1,c(v)):f(v)}function c(v){return v===58?(a.consume(v),n=0,d):(v===43||v===45||v===46||Dn(v))&&n++<32?(a.consume(v),c):(n=0,f(v))}function d(v){return v===62?(a.exit("autolinkProtocol"),a.enter("autolinkMarker"),a.consume(v),a.exit("autolinkMarker"),a.exit("autolink"),t):v===null||v===32||v===60||Of(v)?e(v):(a.consume(v),d)}function f(v){return v===64?(a.consume(v),p):l2(v)?(a.consume(v),f):e(v)}function p(v){return Dn(v)?g(v):e(v)}function g(v){return v===46?(a.consume(v),n=0,p):v===62?(a.exit("autolinkProtocol").type="autolinkEmail",a.enter("autolinkMarker"),a.consume(v),a.exit("autolinkMarker"),a.exit("autolink"),t):b(v)}function b(v){if((v===45||Dn(v))&&n++<63){const w=v===45?b:g;return a.consume(v),w}return e(v)}}const Ju={partial:!0,tokenize:w2};function w2(a,t,e){return n;function n(o){return Gt(o)?ae(a,r,"linePrefix")(o):r(o)}function r(o){return o===null||xt(o)?t(o):e(o)}}const CA={continuation:{tokenize:x2},exit:C2,name:"blockQuote",tokenize:E2};function E2(a,t,e){const n=this;return r;function r(l){if(l===62){const c=n.containerState;return c.open||(a.enter("blockQuote",{_container:!0}),c.open=!0),a.enter("blockQuotePrefix"),a.enter("blockQuoteMarker"),a.consume(l),a.exit("blockQuoteMarker"),o}return e(l)}function o(l){return Gt(l)?(a.enter("blockQuotePrefixWhitespace"),a.consume(l),a.exit("blockQuotePrefixWhitespace"),a.exit("blockQuotePrefix"),t):(a.exit("blockQuotePrefix"),t(l))}}function x2(a,t,e){const n=this;return r;function r(l){return Gt(l)?ae(a,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return a.attempt(CA,t,e)(l)}}function C2(a){a.exit("blockQuote")}const _A={name:"characterEscape",tokenize:_2};function _2(a,t,e){return n;function n(o){return a.enter("characterEscape"),a.enter("escapeMarker"),a.consume(o),a.exit("escapeMarker"),r}function r(o){return c2(o)?(a.enter("characterEscapeValue"),a.consume(o),a.exit("characterEscapeValue"),a.exit("characterEscape"),t):e(o)}}const TA={name:"characterReference",tokenize:T2};function T2(a,t,e){const n=this;let r=0,o,l;return c;function c(g){return a.enter("characterReference"),a.enter("characterReferenceMarker"),a.consume(g),a.exit("characterReferenceMarker"),d}function d(g){return g===35?(a.enter("characterReferenceMarkerNumeric"),a.consume(g),a.exit("characterReferenceMarkerNumeric"),f):(a.enter("characterReferenceValue"),o=31,l=Dn,p(g))}function f(g){return g===88||g===120?(a.enter("characterReferenceMarkerHexadecimal"),a.consume(g),a.exit("characterReferenceMarkerHexadecimal"),a.enter("characterReferenceValue"),o=6,l=u2,p):(a.enter("characterReferenceValue"),o=7,l=Pf,p(g))}function p(g){if(g===59&&r){const b=a.exit("characterReferenceValue");return l===Dn&&!wp(n.sliceSerialize(b))?e(g):(a.enter("characterReferenceMarker"),a.consume(g),a.exit("characterReferenceMarker"),a.exit("characterReference"),t)}return l(g)&&r++<o?(a.consume(g),p):e(g)}}const bv={partial:!0,tokenize:M2},vv={concrete:!0,name:"codeFenced",tokenize:R2};function R2(a,t,e){const n=this,r={partial:!0,tokenize:N};let o=0,l=0,c;return d;function d(R){return f(R)}function f(R){const k=n.events[n.events.length-1];return o=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,c=R,a.enter("codeFenced"),a.enter("codeFencedFence"),a.enter("codeFencedFenceSequence"),p(R)}function p(R){return R===c?(l++,a.consume(R),p):l<3?e(R):(a.exit("codeFencedFenceSequence"),Gt(R)?ae(a,g,"whitespace")(R):g(R))}function g(R){return R===null||xt(R)?(a.exit("codeFencedFence"),n.interrupt?t(R):a.check(bv,S,D)(R)):(a.enter("codeFencedFenceInfo"),a.enter("chunkString",{contentType:"string"}),b(R))}function b(R){return R===null||xt(R)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),g(R)):Gt(R)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),ae(a,v,"whitespace")(R)):R===96&&R===c?e(R):(a.consume(R),b)}function v(R){return R===null||xt(R)?g(R):(a.enter("codeFencedFenceMeta"),a.enter("chunkString",{contentType:"string"}),w(R))}function w(R){return R===null||xt(R)?(a.exit("chunkString"),a.exit("codeFencedFenceMeta"),g(R)):R===96&&R===c?e(R):(a.consume(R),w)}function S(R){return a.attempt(r,D,x)(R)}function x(R){return a.enter("lineEnding"),a.consume(R),a.exit("lineEnding"),E}function E(R){return o>0&&Gt(R)?ae(a,T,"linePrefix",o+1)(R):T(R)}function T(R){return R===null||xt(R)?a.check(bv,S,D)(R):(a.enter("codeFlowValue"),C(R))}function C(R){return R===null||xt(R)?(a.exit("codeFlowValue"),T(R)):(a.consume(R),C)}function D(R){return a.exit("codeFenced"),t(R)}function N(R,k,z){let F=0;return V;function V(J){return R.enter("lineEnding"),R.consume(J),R.exit("lineEnding"),j}function j(J){return R.enter("codeFencedFence"),Gt(J)?ae(R,G,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):G(J)}function G(J){return J===c?(R.enter("codeFencedFenceSequence"),tt(J)):z(J)}function tt(J){return J===c?(F++,R.consume(J),tt):F>=l?(R.exit("codeFencedFenceSequence"),Gt(J)?ae(R,$,"whitespace")(J):$(J)):z(J)}function $(J){return J===null||xt(J)?(R.exit("codeFencedFence"),k(J)):z(J)}}}function M2(a,t,e){const n=this;return r;function r(l){return l===null?e(l):(a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),o)}function o(l){return n.parser.lazy[n.now().line]?e(l):t(l)}}const af={name:"codeIndented",tokenize:D2},k2={partial:!0,tokenize:L2};function D2(a,t,e){const n=this;return r;function r(f){return a.enter("codeIndented"),ae(a,o,"linePrefix",5)(f)}function o(f){const p=n.events[n.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):e(f)}function l(f){return f===null?d(f):xt(f)?a.attempt(k2,l,d)(f):(a.enter("codeFlowValue"),c(f))}function c(f){return f===null||xt(f)?(a.exit("codeFlowValue"),l(f)):(a.consume(f),c)}function d(f){return a.exit("codeIndented"),t(f)}}function L2(a,t,e){const n=this;return r;function r(l){return n.parser.lazy[n.now().line]?e(l):xt(l)?(a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),r):ae(a,o,"linePrefix",5)(l)}function o(l){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):xt(l)?r(l):e(l)}}const N2={name:"codeText",previous:P2,resolve:O2,tokenize:B2};function O2(a){let t=a.length-4,e=3,n,r;if((a[e][1].type==="lineEnding"||a[e][1].type==="space")&&(a[t][1].type==="lineEnding"||a[t][1].type==="space")){for(n=e;++n<t;)if(a[n][1].type==="codeTextData"){a[e][1].type="codeTextPadding",a[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(n=e-1,t++;++n<=t;)r===void 0?n!==t&&a[n][1].type!=="lineEnding"&&(r=n):(n===t||a[n][1].type==="lineEnding")&&(a[r][1].type="codeTextData",n!==r+2&&(a[r][1].end=a[n-1][1].end,a.splice(r+2,n-r-2),t-=n-r-2,n=r+2),r=void 0);return a}function P2(a){return a!==96||this.events[this.events.length-1][1].type==="characterEscape"}function B2(a,t,e){let n=0,r,o;return l;function l(g){return a.enter("codeText"),a.enter("codeTextSequence"),c(g)}function c(g){return g===96?(a.consume(g),n++,c):(a.exit("codeTextSequence"),d(g))}function d(g){return g===null?e(g):g===32?(a.enter("space"),a.consume(g),a.exit("space"),d):g===96?(o=a.enter("codeTextSequence"),r=0,p(g)):xt(g)?(a.enter("lineEnding"),a.consume(g),a.exit("lineEnding"),d):(a.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||xt(g)?(a.exit("codeTextData"),d(g)):(a.consume(g),f)}function p(g){return g===96?(a.consume(g),r++,p):r===n?(a.exit("codeTextSequence"),a.exit("codeText"),t(g)):(o.type="codeTextData",f(g))}}class I2{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const n=e??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,e,n){const r=e||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&vo(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),vo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),vo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);vo(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);vo(this.left,e.reverse())}}}function vo(a,t){let e=0;if(t.length<1e4)a.push(...t);else for(;e<t.length;)a.push(...t.slice(e,e+1e4)),e+=1e4}function RA(a){const t={};let e=-1,n,r,o,l,c,d,f;const p=new I2(a);for(;++e<p.length;){for(;e in t;)e=t[e];if(n=p.get(e),e&&n[1].type==="chunkFlow"&&p.get(e-1)[1].type==="listItemPrefix"&&(d=n[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,z2(p,e)),e=t[e],f=!0);else if(n[1]._container){for(o=e,r=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(p.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(n[1].end={...p.get(r)[1].start},c=p.slice(r,e),c.unshift(n),p.splice(r,e-r+1,c))}}return bi(a,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function z2(a,t){const e=a.get(t)[1],n=a.get(t)[2];let r=t-1;const o=[];let l=e._tokenizer;l||(l=n.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let p,g,b=-1,v=e,w=0,S=0;const x=[S];for(;v;){for(;a.get(++r)[1]!==v;);o.push(r),v._tokenizer||(p=n.sliceStream(v),v.next||p.push(null),g&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=e;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(S=b+1,x.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):x.pop(),b=x.length;b--;){const E=c.slice(x[b],x[b+1]),T=o.pop();d.push([T,T+E.length-1]),a.splice(T,2,E)}for(d.reverse(),b=-1;++b<d.length;)f[w+d[b][0]]=w+d[b][1],w+=d[b][1]-d[b][0]-1;return f}const F2={resolve:j2,tokenize:H2},U2={partial:!0,tokenize:q2};function j2(a){return RA(a),a}function H2(a,t){let e;return n;function n(c){return a.enter("content"),e=a.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?o(c):xt(c)?a.check(U2,l,o)(c):(a.consume(c),r)}function o(c){return a.exit("chunkContent"),a.exit("content"),t(c)}function l(c){return a.consume(c),a.exit("chunkContent"),e.next=a.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,r}}function q2(a,t,e){const n=this;return r;function r(l){return a.exit("chunkContent"),a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),ae(a,o,"linePrefix")}function o(l){if(l===null||xt(l))return e(l);const c=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):a.interrupt(n.parser.constructs.flow,e,t)(l)}}function MA(a,t,e,n,r,o,l,c,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return g;function g(E){return E===60?(a.enter(n),a.enter(r),a.enter(o),a.consume(E),a.exit(o),b):E===null||E===32||E===41||Of(E)?e(E):(a.enter(n),a.enter(l),a.enter(c),a.enter("chunkString",{contentType:"string"}),S(E))}function b(E){return E===62?(a.enter(o),a.consume(E),a.exit(o),a.exit(r),a.exit(n),t):(a.enter(c),a.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===62?(a.exit("chunkString"),a.exit(c),b(E)):E===null||E===60||xt(E)?e(E):(a.consume(E),E===92?w:v)}function w(E){return E===60||E===62||E===92?(a.consume(E),v):v(E)}function S(E){return!p&&(E===null||E===41||mn(E))?(a.exit("chunkString"),a.exit(c),a.exit(l),a.exit(n),t(E)):p<f&&E===40?(a.consume(E),p++,S):E===41?(a.consume(E),p--,S):E===null||E===32||E===40||Of(E)?e(E):(a.consume(E),E===92?x:S)}function x(E){return E===40||E===41||E===92?(a.consume(E),S):S(E)}}function kA(a,t,e,n,r,o){const l=this;let c=0,d;return f;function f(v){return a.enter(n),a.enter(r),a.consume(v),a.exit(r),a.enter(o),p}function p(v){return c>999||v===null||v===91||v===93&&!d||v===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?e(v):v===93?(a.exit(o),a.enter(r),a.consume(v),a.exit(r),a.exit(n),t):xt(v)?(a.enter("lineEnding"),a.consume(v),a.exit("lineEnding"),p):(a.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||xt(v)||c++>999?(a.exit("chunkString"),p(v)):(a.consume(v),d||(d=!Gt(v)),v===92?b:g)}function b(v){return v===91||v===92||v===93?(a.consume(v),c++,g):g(v)}}function DA(a,t,e,n,r,o){let l;return c;function c(b){return b===34||b===39||b===40?(a.enter(n),a.enter(r),a.consume(b),a.exit(r),l=b===40?41:b,d):e(b)}function d(b){return b===l?(a.enter(r),a.consume(b),a.exit(r),a.exit(n),t):(a.enter(o),f(b))}function f(b){return b===l?(a.exit(o),d(l)):b===null?e(b):xt(b)?(a.enter("lineEnding"),a.consume(b),a.exit("lineEnding"),ae(a,f,"linePrefix")):(a.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===l||b===null||xt(b)?(a.exit("chunkString"),f(b)):(a.consume(b),b===92?g:p)}function g(b){return b===l||b===92?(a.consume(b),p):p(b)}}function To(a,t){let e;return n;function n(r){return xt(r)?(a.enter("lineEnding"),a.consume(r),a.exit("lineEnding"),e=!0,n):Gt(r)?ae(a,n,e?"linePrefix":"lineSuffix")(r):t(r)}}const V2={name:"definition",tokenize:Y2},G2={partial:!0,tokenize:X2};function Y2(a,t,e){const n=this;let r;return o;function o(v){return a.enter("definition"),l(v)}function l(v){return kA.call(n,a,c,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return r=ia(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),v===58?(a.enter("definitionMarker"),a.consume(v),a.exit("definitionMarker"),d):e(v)}function d(v){return mn(v)?To(a,f)(v):f(v)}function f(v){return MA(a,p,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return a.attempt(G2,g,g)(v)}function g(v){return Gt(v)?ae(a,b,"whitespace")(v):b(v)}function b(v){return v===null||xt(v)?(a.exit("definition"),n.parser.defined.push(r),t(v)):e(v)}}function X2(a,t,e){return n;function n(c){return mn(c)?To(a,r)(c):e(c)}function r(c){return DA(a,o,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Gt(c)?ae(a,l,"whitespace")(c):l(c)}function l(c){return c===null||xt(c)?t(c):e(c)}}const K2={name:"hardBreakEscape",tokenize:$2};function $2(a,t,e){return n;function n(o){return a.enter("hardBreakEscape"),a.consume(o),r}function r(o){return xt(o)?(a.exit("hardBreakEscape"),t(o)):e(o)}}const W2={name:"headingAtx",resolve:Q2,tokenize:Z2};function Q2(a,t){let e=a.length-2,n=3,r,o;return a[n][1].type==="whitespace"&&(n+=2),e-2>n&&a[e][1].type==="whitespace"&&(e-=2),a[e][1].type==="atxHeadingSequence"&&(n===e-1||e-4>n&&a[e-2][1].type==="whitespace")&&(e-=n+1===e?2:4),e>n&&(r={type:"atxHeadingText",start:a[n][1].start,end:a[e][1].end},o={type:"chunkText",start:a[n][1].start,end:a[e][1].end,contentType:"text"},bi(a,n,e-n+1,[["enter",r,t],["enter",o,t],["exit",o,t],["exit",r,t]])),a}function Z2(a,t,e){let n=0;return r;function r(p){return a.enter("atxHeading"),o(p)}function o(p){return a.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&n++<6?(a.consume(p),l):p===null||mn(p)?(a.exit("atxHeadingSequence"),c(p)):e(p)}function c(p){return p===35?(a.enter("atxHeadingSequence"),d(p)):p===null||xt(p)?(a.exit("atxHeading"),t(p)):Gt(p)?ae(a,c,"whitespace")(p):(a.enter("atxHeadingText"),f(p))}function d(p){return p===35?(a.consume(p),d):(a.exit("atxHeadingSequence"),c(p))}function f(p){return p===null||p===35||mn(p)?(a.exit("atxHeadingText"),c(p)):(a.consume(p),f)}}const J2=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Sv=["pre","script","style","textarea"],tM={concrete:!0,name:"htmlFlow",resolveTo:iM,tokenize:sM},eM={partial:!0,tokenize:aM},nM={partial:!0,tokenize:rM};function iM(a){let t=a.length;for(;t--&&!(a[t][0]==="enter"&&a[t][1].type==="htmlFlow"););return t>1&&a[t-2][1].type==="linePrefix"&&(a[t][1].start=a[t-2][1].start,a[t+1][1].start=a[t-2][1].start,a.splice(t-2,2)),a}function sM(a,t,e){const n=this;let r,o,l,c,d;return f;function f(M){return p(M)}function p(M){return a.enter("htmlFlow"),a.enter("htmlFlowData"),a.consume(M),g}function g(M){return M===33?(a.consume(M),b):M===47?(a.consume(M),o=!0,S):M===63?(a.consume(M),r=3,n.interrupt?t:L):mi(M)?(a.consume(M),l=String.fromCharCode(M),x):e(M)}function b(M){return M===45?(a.consume(M),r=2,v):M===91?(a.consume(M),r=5,c=0,w):mi(M)?(a.consume(M),r=4,n.interrupt?t:L):e(M)}function v(M){return M===45?(a.consume(M),n.interrupt?t:L):e(M)}function w(M){const at="CDATA[";return M===at.charCodeAt(c++)?(a.consume(M),c===at.length?n.interrupt?t:G:w):e(M)}function S(M){return mi(M)?(a.consume(M),l=String.fromCharCode(M),x):e(M)}function x(M){if(M===null||M===47||M===62||mn(M)){const at=M===47,dt=l.toLowerCase();return!at&&!o&&Sv.includes(dt)?(r=1,n.interrupt?t(M):G(M)):J2.includes(l.toLowerCase())?(r=6,at?(a.consume(M),E):n.interrupt?t(M):G(M)):(r=7,n.interrupt&&!n.parser.lazy[n.now().line]?e(M):o?T(M):C(M))}return M===45||Dn(M)?(a.consume(M),l+=String.fromCharCode(M),x):e(M)}function E(M){return M===62?(a.consume(M),n.interrupt?t:G):e(M)}function T(M){return Gt(M)?(a.consume(M),T):V(M)}function C(M){return M===47?(a.consume(M),V):M===58||M===95||mi(M)?(a.consume(M),D):Gt(M)?(a.consume(M),C):V(M)}function D(M){return M===45||M===46||M===58||M===95||Dn(M)?(a.consume(M),D):N(M)}function N(M){return M===61?(a.consume(M),R):Gt(M)?(a.consume(M),N):C(M)}function R(M){return M===null||M===60||M===61||M===62||M===96?e(M):M===34||M===39?(a.consume(M),d=M,k):Gt(M)?(a.consume(M),R):z(M)}function k(M){return M===d?(a.consume(M),d=null,F):M===null||xt(M)?e(M):(a.consume(M),k)}function z(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||mn(M)?N(M):(a.consume(M),z)}function F(M){return M===47||M===62||Gt(M)?C(M):e(M)}function V(M){return M===62?(a.consume(M),j):e(M)}function j(M){return M===null||xt(M)?G(M):Gt(M)?(a.consume(M),j):e(M)}function G(M){return M===45&&r===2?(a.consume(M),B):M===60&&r===1?(a.consume(M),Y):M===62&&r===4?(a.consume(M),I):M===63&&r===3?(a.consume(M),L):M===93&&r===5?(a.consume(M),ht):xt(M)&&(r===6||r===7)?(a.exit("htmlFlowData"),a.check(eM,Q,tt)(M)):M===null||xt(M)?(a.exit("htmlFlowData"),tt(M)):(a.consume(M),G)}function tt(M){return a.check(nM,$,Q)(M)}function $(M){return a.enter("lineEnding"),a.consume(M),a.exit("lineEnding"),J}function J(M){return M===null||xt(M)?tt(M):(a.enter("htmlFlowData"),G(M))}function B(M){return M===45?(a.consume(M),L):G(M)}function Y(M){return M===47?(a.consume(M),l="",rt):G(M)}function rt(M){if(M===62){const at=l.toLowerCase();return Sv.includes(at)?(a.consume(M),I):G(M)}return mi(M)&&l.length<8?(a.consume(M),l+=String.fromCharCode(M),rt):G(M)}function ht(M){return M===93?(a.consume(M),L):G(M)}function L(M){return M===62?(a.consume(M),I):M===45&&r===2?(a.consume(M),L):G(M)}function I(M){return M===null||xt(M)?(a.exit("htmlFlowData"),Q(M)):(a.consume(M),I)}function Q(M){return a.exit("htmlFlow"),t(M)}}function rM(a,t,e){const n=this;return r;function r(l){return xt(l)?(a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),o):e(l)}function o(l){return n.parser.lazy[n.now().line]?e(l):t(l)}}function aM(a,t,e){return n;function n(r){return a.enter("lineEnding"),a.consume(r),a.exit("lineEnding"),a.attempt(Ju,t,e)}}const oM={name:"htmlText",tokenize:lM};function lM(a,t,e){const n=this;let r,o,l;return c;function c(L){return a.enter("htmlText"),a.enter("htmlTextData"),a.consume(L),d}function d(L){return L===33?(a.consume(L),f):L===47?(a.consume(L),N):L===63?(a.consume(L),C):mi(L)?(a.consume(L),z):e(L)}function f(L){return L===45?(a.consume(L),p):L===91?(a.consume(L),o=0,w):mi(L)?(a.consume(L),T):e(L)}function p(L){return L===45?(a.consume(L),v):e(L)}function g(L){return L===null?e(L):L===45?(a.consume(L),b):xt(L)?(l=g,Y(L)):(a.consume(L),g)}function b(L){return L===45?(a.consume(L),v):g(L)}function v(L){return L===62?B(L):L===45?b(L):g(L)}function w(L){const I="CDATA[";return L===I.charCodeAt(o++)?(a.consume(L),o===I.length?S:w):e(L)}function S(L){return L===null?e(L):L===93?(a.consume(L),x):xt(L)?(l=S,Y(L)):(a.consume(L),S)}function x(L){return L===93?(a.consume(L),E):S(L)}function E(L){return L===62?B(L):L===93?(a.consume(L),E):S(L)}function T(L){return L===null||L===62?B(L):xt(L)?(l=T,Y(L)):(a.consume(L),T)}function C(L){return L===null?e(L):L===63?(a.consume(L),D):xt(L)?(l=C,Y(L)):(a.consume(L),C)}function D(L){return L===62?B(L):C(L)}function N(L){return mi(L)?(a.consume(L),R):e(L)}function R(L){return L===45||Dn(L)?(a.consume(L),R):k(L)}function k(L){return xt(L)?(l=k,Y(L)):Gt(L)?(a.consume(L),k):B(L)}function z(L){return L===45||Dn(L)?(a.consume(L),z):L===47||L===62||mn(L)?F(L):e(L)}function F(L){return L===47?(a.consume(L),B):L===58||L===95||mi(L)?(a.consume(L),V):xt(L)?(l=F,Y(L)):Gt(L)?(a.consume(L),F):B(L)}function V(L){return L===45||L===46||L===58||L===95||Dn(L)?(a.consume(L),V):j(L)}function j(L){return L===61?(a.consume(L),G):xt(L)?(l=j,Y(L)):Gt(L)?(a.consume(L),j):F(L)}function G(L){return L===null||L===60||L===61||L===62||L===96?e(L):L===34||L===39?(a.consume(L),r=L,tt):xt(L)?(l=G,Y(L)):Gt(L)?(a.consume(L),G):(a.consume(L),$)}function tt(L){return L===r?(a.consume(L),r=void 0,J):L===null?e(L):xt(L)?(l=tt,Y(L)):(a.consume(L),tt)}function $(L){return L===null||L===34||L===39||L===60||L===61||L===96?e(L):L===47||L===62||mn(L)?F(L):(a.consume(L),$)}function J(L){return L===47||L===62||mn(L)?F(L):e(L)}function B(L){return L===62?(a.consume(L),a.exit("htmlTextData"),a.exit("htmlText"),t):e(L)}function Y(L){return a.exit("htmlTextData"),a.enter("lineEnding"),a.consume(L),a.exit("lineEnding"),rt}function rt(L){return Gt(L)?ae(a,ht,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):ht(L)}function ht(L){return a.enter("htmlTextData"),l(L)}}const xp={name:"labelEnd",resolveAll:dM,resolveTo:fM,tokenize:pM},uM={tokenize:gM},cM={tokenize:mM},hM={tokenize:yM};function dM(a){let t=-1;const e=[];for(;++t<a.length;){const n=a[t][1];if(e.push(a[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const r=n.type==="labelImage"?4:2;n.type="data",t+=r}}return a.length!==e.length&&bi(a,0,a.length,e),a}function fM(a,t){let e=a.length,n=0,r,o,l,c;for(;e--;)if(r=a[e][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;a[e][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(a[e][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=e,r.type!=="labelLink")){n=2;break}}else r.type==="labelEnd"&&(l=e);const d={type:a[o][1].type==="labelLink"?"link":"image",start:{...a[o][1].start},end:{...a[a.length-1][1].end}},f={type:"label",start:{...a[o][1].start},end:{...a[l][1].end}},p={type:"labelText",start:{...a[o+n+2][1].end},end:{...a[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=Xn(c,a.slice(o+1,o+n+3)),c=Xn(c,[["enter",p,t]]),c=Xn(c,Ep(t.parser.constructs.insideSpan.null,a.slice(o+n+4,l-3),t)),c=Xn(c,[["exit",p,t],a[l-2],a[l-1],["exit",f,t]]),c=Xn(c,a.slice(l+1)),c=Xn(c,[["exit",d,t]]),bi(a,o,a.length,c),a}function pM(a,t,e){const n=this;let r=n.events.length,o,l;for(;r--;)if((n.events[r][1].type==="labelImage"||n.events[r][1].type==="labelLink")&&!n.events[r][1]._balanced){o=n.events[r][1];break}return c;function c(b){return o?o._inactive?g(b):(l=n.parser.defined.includes(ia(n.sliceSerialize({start:o.end,end:n.now()}))),a.enter("labelEnd"),a.enter("labelMarker"),a.consume(b),a.exit("labelMarker"),a.exit("labelEnd"),d):e(b)}function d(b){return b===40?a.attempt(uM,p,l?p:g)(b):b===91?a.attempt(cM,p,l?f:g)(b):l?p(b):g(b)}function f(b){return a.attempt(hM,p,g)(b)}function p(b){return t(b)}function g(b){return o._balanced=!0,e(b)}}function gM(a,t,e){return n;function n(g){return a.enter("resource"),a.enter("resourceMarker"),a.consume(g),a.exit("resourceMarker"),r}function r(g){return mn(g)?To(a,o)(g):o(g)}function o(g){return g===41?p(g):MA(a,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return mn(g)?To(a,d)(g):p(g)}function c(g){return e(g)}function d(g){return g===34||g===39||g===40?DA(a,f,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function f(g){return mn(g)?To(a,p)(g):p(g)}function p(g){return g===41?(a.enter("resourceMarker"),a.consume(g),a.exit("resourceMarker"),a.exit("resource"),t):e(g)}}function mM(a,t,e){const n=this;return r;function r(c){return kA.call(n,a,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return n.parser.defined.includes(ia(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(c):e(c)}function l(c){return e(c)}}function yM(a,t,e){return n;function n(o){return a.enter("reference"),a.enter("referenceMarker"),a.consume(o),a.exit("referenceMarker"),r}function r(o){return o===93?(a.enter("referenceMarker"),a.consume(o),a.exit("referenceMarker"),a.exit("reference"),t):e(o)}}const bM={name:"labelStartImage",resolveAll:xp.resolveAll,tokenize:vM};function vM(a,t,e){const n=this;return r;function r(c){return a.enter("labelImage"),a.enter("labelImageMarker"),a.consume(c),a.exit("labelImageMarker"),o}function o(c){return c===91?(a.enter("labelMarker"),a.consume(c),a.exit("labelMarker"),a.exit("labelImage"),l):e(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?e(c):t(c)}}const SM={name:"labelStartLink",resolveAll:xp.resolveAll,tokenize:AM};function AM(a,t,e){const n=this;return r;function r(l){return a.enter("labelLink"),a.enter("labelMarker"),a.consume(l),a.exit("labelMarker"),a.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?e(l):t(l)}}const of={name:"lineEnding",tokenize:wM};function wM(a,t){return e;function e(n){return a.enter("lineEnding"),a.consume(n),a.exit("lineEnding"),ae(a,t,"linePrefix")}}const Du={name:"thematicBreak",tokenize:EM};function EM(a,t,e){let n=0,r;return o;function o(f){return a.enter("thematicBreak"),l(f)}function l(f){return r=f,c(f)}function c(f){return f===r?(a.enter("thematicBreakSequence"),d(f)):n>=3&&(f===null||xt(f))?(a.exit("thematicBreak"),t(f)):e(f)}function d(f){return f===r?(a.consume(f),n++,d):(a.exit("thematicBreakSequence"),Gt(f)?ae(a,c,"whitespace")(f):c(f))}}const fn={continuation:{tokenize:TM},exit:MM,name:"list",tokenize:_M},xM={partial:!0,tokenize:kM},CM={partial:!0,tokenize:RM};function _M(a,t,e){const n=this,r=n.events[n.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return c;function c(v){const w=n.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!n.containerState.marker||v===n.containerState.marker:Pf(v)){if(n.containerState.type||(n.containerState.type=w,a.enter(w,{_container:!0})),w==="listUnordered")return a.enter("listItemPrefix"),v===42||v===45?a.check(Du,e,f)(v):f(v);if(!n.interrupt||v===49)return a.enter("listItemPrefix"),a.enter("listItemValue"),d(v)}return e(v)}function d(v){return Pf(v)&&++l<10?(a.consume(v),d):(!n.interrupt||l<2)&&(n.containerState.marker?v===n.containerState.marker:v===41||v===46)?(a.exit("listItemValue"),f(v)):e(v)}function f(v){return a.enter("listItemMarker"),a.consume(v),a.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||v,a.check(Ju,n.interrupt?e:p,a.attempt(xM,b,g))}function p(v){return n.containerState.initialBlankLine=!0,o++,b(v)}function g(v){return Gt(v)?(a.enter("listItemPrefixWhitespace"),a.consume(v),a.exit("listItemPrefixWhitespace"),b):e(v)}function b(v){return n.containerState.size=o+n.sliceSerialize(a.exit("listItemPrefix"),!0).length,t(v)}}function TM(a,t,e){const n=this;return n.containerState._closeFlow=void 0,a.check(Ju,r,o);function r(c){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,ae(a,t,"listItemIndent",n.containerState.size+1)(c)}function o(c){return n.containerState.furtherBlankLines||!Gt(c)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(c)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a.attempt(CM,t,l)(c))}function l(c){return n.containerState._closeFlow=!0,n.interrupt=void 0,ae(a,a.attempt(fn,t,e),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function RM(a,t,e){const n=this;return ae(a,r,"listItemIndent",n.containerState.size+1);function r(o){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(o):e(o)}}function MM(a){a.exit(this.containerState.type)}function kM(a,t,e){const n=this;return ae(a,r,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const l=n.events[n.events.length-1];return!Gt(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):e(o)}}const Av={name:"setextUnderline",resolveTo:DM,tokenize:LM};function DM(a,t){let e=a.length,n,r,o;for(;e--;)if(a[e][0]==="enter"){if(a[e][1].type==="content"){n=e;break}a[e][1].type==="paragraph"&&(r=e)}else a[e][1].type==="content"&&a.splice(e,1),!o&&a[e][1].type==="definition"&&(o=e);const l={type:"setextHeading",start:{...a[n][1].start},end:{...a[a.length-1][1].end}};return a[r][1].type="setextHeadingText",o?(a.splice(r,0,["enter",l,t]),a.splice(o+1,0,["exit",a[n][1],t]),a[n][1].end={...a[o][1].end}):a[n][1]=l,a.push(["exit",l,t]),a}function LM(a,t,e){const n=this;let r;return o;function o(f){let p=n.events.length,g;for(;p--;)if(n.events[p][1].type!=="lineEnding"&&n.events[p][1].type!=="linePrefix"&&n.events[p][1].type!=="content"){g=n.events[p][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||g)?(a.enter("setextHeadingLine"),r=f,l(f)):e(f)}function l(f){return a.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===r?(a.consume(f),c):(a.exit("setextHeadingLineSequence"),Gt(f)?ae(a,d,"lineSuffix")(f):d(f))}function d(f){return f===null||xt(f)?(a.exit("setextHeadingLine"),t(f)):e(f)}}const NM={tokenize:OM};function OM(a){const t=this,e=a.attempt(Ju,n,a.attempt(this.parser.constructs.flowInitial,r,ae(a,a.attempt(this.parser.constructs.flow,r,a.attempt(F2,r)),"linePrefix")));return e;function n(o){if(o===null){a.consume(o);return}return a.enter("lineEndingBlank"),a.consume(o),a.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function r(o){if(o===null){a.consume(o);return}return a.enter("lineEnding"),a.consume(o),a.exit("lineEnding"),t.currentConstruct=void 0,e}}const PM={resolveAll:NA()},BM=LA("string"),IM=LA("text");function LA(a){return{resolveAll:NA(a==="text"?zM:void 0),tokenize:t};function t(e){const n=this,r=this.parser.constructs[a],o=e.attempt(r,l,c);return l;function l(p){return f(p)?o(p):c(p)}function c(p){if(p===null){e.consume(p);return}return e.enter("data"),e.consume(p),d}function d(p){return f(p)?(e.exit("data"),o(p)):(e.consume(p),d)}function f(p){if(p===null)return!0;const g=r[p];let b=-1;if(g)for(;++b<g.length;){const v=g[b];if(!v.previous||v.previous.call(n,n.previous))return!0}return!1}}}function NA(a){return t;function t(e,n){let r=-1,o;for(;++r<=e.length;)o===void 0?e[r]&&e[r][1].type==="data"&&(o=r,r++):(!e[r]||e[r][1].type!=="data")&&(r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),r=o+2),o=void 0);return a?a(e,n):e}}function zM(a,t){let e=0;for(;++e<=a.length;)if((e===a.length||a[e][1].type==="lineEnding")&&a[e-1][1].type==="data"){const n=a[e-1][1],r=t.sliceStream(n);let o=r.length,l=-1,c=0,d;for(;o--;){const f=r[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&e===a.length&&(c=0),c){const f={type:e===a.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:n.start._bufferIndex+l,_index:n.start._index+o,line:n.end.line,column:n.end.column-c,offset:n.end.offset-c},end:{...n.end}};n.end={...f.start},n.start.offset===n.end.offset?Object.assign(n,f):(a.splice(e,0,["enter",f,t],["exit",f,t]),e+=2)}e++}return a}const FM={42:fn,43:fn,45:fn,48:fn,49:fn,50:fn,51:fn,52:fn,53:fn,54:fn,55:fn,56:fn,57:fn,62:CA},UM={91:V2},jM={[-2]:af,[-1]:af,32:af},HM={35:W2,42:Du,45:[Av,Du],60:tM,61:Av,95:Du,96:vv,126:vv},qM={38:TA,92:_A},VM={[-5]:of,[-4]:of,[-3]:of,33:bM,38:TA,42:Bf,60:[S2,oM],91:SM,92:[K2,_A],93:xp,95:Bf,96:N2},GM={null:[Bf,PM]},YM={null:[42,95]},XM={null:[]},KM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YM,contentInitial:UM,disable:XM,document:FM,flow:HM,flowInitial:jM,insideSpan:GM,string:qM,text:VM},Symbol.toStringTag,{value:"Module"}));function $M(a,t,e){let n={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const r={},o=[];let l=[],c=[];const d={attempt:k(N),check:k(R),consume:T,enter:C,exit:D,interrupt:k(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:a,previous:null,sliceSerialize:b,sliceStream:v,write:g};let p=t.tokenize.call(f,d);return t.resolveAll&&o.push(t),f;function g(j){return l=Xn(l,j),x(),l[l.length-1]!==null?[]:(z(t,0),f.events=Ep(o,f.events,f),f.events)}function b(j,G){return QM(v(j),G)}function v(j){return WM(l,j)}function w(){const{_bufferIndex:j,_index:G,line:tt,column:$,offset:J}=n;return{_bufferIndex:j,_index:G,line:tt,column:$,offset:J}}function S(j){r[j.line]=j.column,V()}function x(){let j;for(;n._index<l.length;){const G=l[n._index];if(typeof G=="string")for(j=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===j&&n._bufferIndex<G.length;)E(G.charCodeAt(n._bufferIndex));else E(G)}}function E(j){p=p(j)}function T(j){xt(j)?(n.line++,n.column=1,n.offset+=j===-3?2:1,V()):j!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=j}function C(j,G){const tt=G||{};return tt.type=j,tt.start=w(),f.events.push(["enter",tt,f]),c.push(tt),tt}function D(j){const G=c.pop();return G.end=w(),f.events.push(["exit",G,f]),G}function N(j,G){z(j,G.from)}function R(j,G){G.restore()}function k(j,G){return tt;function tt($,J,B){let Y,rt,ht,L;return Array.isArray($)?Q($):"tokenize"in $?Q([$]):I($);function I(ut){return ct;function ct(wt){const Et=wt!==null&&ut[wt],ye=wt!==null&&ut.null,Ae=[...Array.isArray(Et)?Et:Et?[Et]:[],...Array.isArray(ye)?ye:ye?[ye]:[]];return Q(Ae)(wt)}}function Q(ut){return Y=ut,rt=0,ut.length===0?B:M(ut[rt])}function M(ut){return ct;function ct(wt){return L=F(),ht=ut,ut.partial||(f.currentConstruct=ut),ut.name&&f.parser.constructs.disable.null.includes(ut.name)?dt():ut.tokenize.call(G?Object.assign(Object.create(f),G):f,d,at,dt)(wt)}}function at(ut){return j(ht,L),J}function dt(ut){return L.restore(),++rt<Y.length?M(Y[rt]):B}}}function z(j,G){j.resolveAll&&!o.includes(j)&&o.push(j),j.resolve&&bi(f.events,G,f.events.length-G,j.resolve(f.events.slice(G),f)),j.resolveTo&&(f.events=j.resolveTo(f.events,f))}function F(){const j=w(),G=f.previous,tt=f.currentConstruct,$=f.events.length,J=Array.from(c);return{from:$,restore:B};function B(){n=j,f.previous=G,f.currentConstruct=tt,f.events.length=$,c=J,V()}}function V(){n.line in r&&n.column<2&&(n.column=r[n.line],n.offset+=r[n.line]-1)}}function WM(a,t){const e=t.start._index,n=t.start._bufferIndex,r=t.end._index,o=t.end._bufferIndex;let l;if(e===r)l=[a[e].slice(n,o)];else{if(l=a.slice(e,r),n>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(n):l.shift()}o>0&&l.push(a[r].slice(0,o))}return l}function QM(a,t){let e=-1;const n=[];let r;for(;++e<a.length;){const o=a[e];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&r)continue;l=" ";break}default:l=String.fromCharCode(o)}r=o===-2,n.push(l)}return n.join("")}function ZM(a){const n={constructs:r2([KM,...(a||{}).extensions||[]]),content:r(f2),defined:[],document:r(g2),flow:r(NM),lazy:{},string:r(BM),text:r(IM)};return n;function r(o){return l;function l(c){return $M(n,o,c)}}}function JM(a){for(;!RA(a););return a}const wv=/[\0\t\n\r]/g;function tk(){let a=1,t="",e=!0,n;return r;function r(o,l,c){const d=[];let f,p,g,b,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),g=0,t="",e&&(o.charCodeAt(0)===65279&&g++,e=void 0);g<o.length;){if(wv.lastIndex=g,f=wv.exec(o),b=f&&f.index!==void 0?f.index:o.length,v=o.charCodeAt(b),!f){t=o.slice(g);break}if(v===10&&g===b&&n)d.push(-3),n=void 0;else switch(n&&(d.push(-5),n=void 0),g<b&&(d.push(o.slice(g,b)),a+=b-g),v){case 0:{d.push(65533),a++;break}case 9:{for(p=Math.ceil(a/4)*4,d.push(-2);a++<p;)d.push(-1);break}case 10:{d.push(-4),a=1;break}default:n=!0,a=1}g=b+1}return c&&(n&&d.push(-5),t&&d.push(t),d.push(null)),d}}const ek=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function nk(a){return a.replace(ek,ik)}function ik(a,t,e){if(t)return t;if(e.charCodeAt(0)===35){const r=e.charCodeAt(1),o=r===120||r===88;return xA(e.slice(o?2:1),o?16:10)}return wp(e)||a}const OA={}.hasOwnProperty;function sk(a,t,e){return t&&typeof t=="object"&&(e=t,t=void 0),rk(e)(JM(ZM(e).document().write(tk()(a,t,!0))))}function rk(a){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Gi),autolinkProtocol:F,autolinkEmail:F,atxHeading:o(Yt),blockQuote:o(ye),characterEscape:F,characterReference:F,codeFenced:o(Ae),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Ae,l),codeText:o(qt,l),codeTextData:F,data:F,codeFlowValue:F,definition:o(Xt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Kt),hardBreakEscape:o(fe),hardBreakTrailing:o(fe),htmlFlow:o(Oe,l),htmlFlowData:F,htmlText:o(Oe,l),htmlTextData:F,image:o(Ke),label:l,link:o(Gi),listItem:o(Si),listItemValue:b,listOrdered:o(Yi,g),listUnordered:o(Yi),paragraph:o(ga),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Yt),strong:o(Xi),thematicBreak:o(ma)},exit:{atxHeading:d(),atxHeadingSequence:N,autolink:d(),autolinkEmail:Et,autolinkProtocol:wt,blockQuote:d(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:dt,characterReferenceMarkerNumeric:dt,characterReferenceValue:ut,characterReference:ct,codeFenced:d(x),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:w,codeFlowValue:V,codeIndented:d(E),codeText:d(J),codeTextData:V,data:V,definition:d(),definitionDestinationString:D,definitionLabelString:T,definitionTitleString:C,emphasis:d(),hardBreakEscape:d(G),hardBreakTrailing:d(G),htmlFlow:d(tt),htmlFlowData:V,htmlText:d($),htmlTextData:V,image:d(Y),label:ht,labelText:rt,lineEnding:j,link:d(B),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:at,resourceDestinationString:L,resourceTitleString:I,resource:Q,setextHeading:d(z),setextHeadingLineSequence:k,setextHeadingText:R,strong:d(),thematicBreak:d()}};PA(t,(a||{}).mdastExtensions||[]);const e={};return n;function n(nt){let lt={type:"root",children:[]};const St={stack:[lt],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:p,data:e},Ct=[];let Nt=-1;for(;++Nt<nt.length;)if(nt[Nt][1].type==="listOrdered"||nt[Nt][1].type==="listUnordered")if(nt[Nt][0]==="enter")Ct.push(Nt);else{const be=Ct.pop();Nt=r(nt,be,Nt)}for(Nt=-1;++Nt<nt.length;){const be=t[nt[Nt][0]];OA.call(be,nt[Nt][1].type)&&be[nt[Nt][1].type].call(Object.assign({sliceSerialize:nt[Nt][2].sliceSerialize},St),nt[Nt][1])}if(St.tokenStack.length>0){const be=St.tokenStack[St.tokenStack.length-1];(be[1]||Ev).call(St,void 0,be[0])}for(lt.position={start:Ss(nt.length>0?nt[0][1].start:{line:1,column:1,offset:0}),end:Ss(nt.length>0?nt[nt.length-2][1].end:{line:1,column:1,offset:0})},Nt=-1;++Nt<t.transforms.length;)lt=t.transforms[Nt](lt)||lt;return lt}function r(nt,lt,St){let Ct=lt-1,Nt=-1,be=!1,bn,Je,Le,sn;for(;++Ct<=St;){const ee=nt[Ct];switch(ee[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ee[0]==="enter"?Nt++:Nt--,sn=void 0;break}case"lineEndingBlank":{ee[0]==="enter"&&(bn&&!sn&&!Nt&&!Le&&(Le=Ct),sn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:sn=void 0}if(!Nt&&ee[0]==="enter"&&ee[1].type==="listItemPrefix"||Nt===-1&&ee[0]==="exit"&&(ee[1].type==="listUnordered"||ee[1].type==="listOrdered")){if(bn){let Ki=Ct;for(Je=void 0;Ki--;){const $n=nt[Ki];if($n[1].type==="lineEnding"||$n[1].type==="lineEndingBlank"){if($n[0]==="exit")continue;Je&&(nt[Je][1].type="lineEndingBlank",be=!0),$n[1].type="lineEnding",Je=Ki}else if(!($n[1].type==="linePrefix"||$n[1].type==="blockQuotePrefix"||$n[1].type==="blockQuotePrefixWhitespace"||$n[1].type==="blockQuoteMarker"||$n[1].type==="listItemIndent"))break}Le&&(!Je||Le<Je)&&(bn._spread=!0),bn.end=Object.assign({},Je?nt[Je][1].start:ee[1].end),nt.splice(Je||Ct,0,["exit",bn,ee[2]]),Ct++,St++}if(ee[1].type==="listItemPrefix"){const Ki={type:"listItem",_spread:!1,start:Object.assign({},ee[1].start),end:void 0};bn=Ki,nt.splice(Ct,0,["enter",Ki,ee[2]]),Ct++,St++,Le=void 0,sn=!0}}}return nt[lt][1]._spread=be,St}function o(nt,lt){return St;function St(Ct){c.call(this,nt(Ct),Ct),lt&&lt.call(this,Ct)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(nt,lt,St){this.stack[this.stack.length-1].children.push(nt),this.stack.push(nt),this.tokenStack.push([lt,St||void 0]),nt.position={start:Ss(lt.start),end:void 0}}function d(nt){return lt;function lt(St){nt&&nt.call(this,St),f.call(this,St)}}function f(nt,lt){const St=this.stack.pop(),Ct=this.tokenStack.pop();if(Ct)Ct[0].type!==nt.type&&(lt?lt.call(this,nt,Ct[0]):(Ct[1]||Ev).call(this,nt,Ct[0]));else throw new Error("Cannot close `"+nt.type+"` ("+_o({start:nt.start,end:nt.end})+"): its not open");St.position.end=Ss(nt.end)}function p(){return i2(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function b(nt){if(this.data.expectingFirstListItemValue){const lt=this.stack[this.stack.length-2];lt.start=Number.parseInt(this.sliceSerialize(nt),10),this.data.expectingFirstListItemValue=void 0}}function v(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.lang=nt}function w(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.meta=nt}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.value=nt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.value=nt.replace(/(\r?\n|\r)$/g,"")}function T(nt){const lt=this.resume(),St=this.stack[this.stack.length-1];St.label=lt,St.identifier=ia(this.sliceSerialize(nt)).toLowerCase()}function C(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.title=nt}function D(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.url=nt}function N(nt){const lt=this.stack[this.stack.length-1];if(!lt.depth){const St=this.sliceSerialize(nt).length;lt.depth=St}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function k(nt){const lt=this.stack[this.stack.length-1];lt.depth=this.sliceSerialize(nt).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function F(nt){const St=this.stack[this.stack.length-1].children;let Ct=St[St.length-1];(!Ct||Ct.type!=="text")&&(Ct=Ue(),Ct.position={start:Ss(nt.start),end:void 0},St.push(Ct)),this.stack.push(Ct)}function V(nt){const lt=this.stack.pop();lt.value+=this.sliceSerialize(nt),lt.position.end=Ss(nt.end)}function j(nt){const lt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const St=lt.children[lt.children.length-1];St.position.end=Ss(nt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(lt.type)&&(F.call(this,nt),V.call(this,nt))}function G(){this.data.atHardBreak=!0}function tt(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.value=nt}function $(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.value=nt}function J(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.value=nt}function B(){const nt=this.stack[this.stack.length-1];if(this.data.inReference){const lt=this.data.referenceType||"shortcut";nt.type+="Reference",nt.referenceType=lt,delete nt.url,delete nt.title}else delete nt.identifier,delete nt.label;this.data.referenceType=void 0}function Y(){const nt=this.stack[this.stack.length-1];if(this.data.inReference){const lt=this.data.referenceType||"shortcut";nt.type+="Reference",nt.referenceType=lt,delete nt.url,delete nt.title}else delete nt.identifier,delete nt.label;this.data.referenceType=void 0}function rt(nt){const lt=this.sliceSerialize(nt),St=this.stack[this.stack.length-2];St.label=nk(lt),St.identifier=ia(lt).toLowerCase()}function ht(){const nt=this.stack[this.stack.length-1],lt=this.resume(),St=this.stack[this.stack.length-1];if(this.data.inReference=!0,St.type==="link"){const Ct=nt.children;St.children=Ct}else St.alt=lt}function L(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.url=nt}function I(){const nt=this.resume(),lt=this.stack[this.stack.length-1];lt.title=nt}function Q(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function at(nt){const lt=this.resume(),St=this.stack[this.stack.length-1];St.label=lt,St.identifier=ia(this.sliceSerialize(nt)).toLowerCase(),this.data.referenceType="full"}function dt(nt){this.data.characterReferenceType=nt.type}function ut(nt){const lt=this.sliceSerialize(nt),St=this.data.characterReferenceType;let Ct;St?(Ct=xA(lt,St==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ct=wp(lt);const Nt=this.stack[this.stack.length-1];Nt.value+=Ct}function ct(nt){const lt=this.stack.pop();lt.position.end=Ss(nt.end)}function wt(nt){V.call(this,nt);const lt=this.stack[this.stack.length-1];lt.url=this.sliceSerialize(nt)}function Et(nt){V.call(this,nt);const lt=this.stack[this.stack.length-1];lt.url="mailto:"+this.sliceSerialize(nt)}function ye(){return{type:"blockquote",children:[]}}function Ae(){return{type:"code",lang:null,meta:null,value:""}}function qt(){return{type:"inlineCode",value:""}}function Xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Kt(){return{type:"emphasis",children:[]}}function Yt(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function Oe(){return{type:"html",value:""}}function Ke(){return{type:"image",title:null,url:"",alt:null}}function Gi(){return{type:"link",title:null,url:"",children:[]}}function Yi(nt){return{type:"list",ordered:nt.type==="listOrdered",start:null,spread:nt._spread,children:[]}}function Si(nt){return{type:"listItem",spread:nt._spread,checked:null,children:[]}}function ga(){return{type:"paragraph",children:[]}}function Xi(){return{type:"strong",children:[]}}function Ue(){return{type:"text",value:""}}function ma(){return{type:"thematicBreak"}}}function Ss(a){return{line:a.line,column:a.column,offset:a.offset}}function PA(a,t){let e=-1;for(;++e<t.length;){const n=t[e];Array.isArray(n)?PA(a,n):ak(a,n)}}function ak(a,t){let e;for(e in t)if(OA.call(t,e))switch(e){case"canContainEols":{const n=t[e];n&&a[e].push(...n);break}case"transforms":{const n=t[e];n&&a[e].push(...n);break}case"enter":case"exit":{const n=t[e];n&&Object.assign(a[e],n);break}}}function Ev(a,t){throw a?new Error("Cannot close `"+a.type+"` ("+_o({start:a.start,end:a.end})+"): a different token (`"+t.type+"`, "+_o({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+_o({start:t.start,end:t.end})+") is still open")}function ok(a){const t=this;t.parser=e;function e(n){return sk(n,{...t.data("settings"),...a,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function lk(a,t){const e={type:"element",tagName:"blockquote",properties:{},children:a.wrap(a.all(t),!0)};return a.patch(t,e),a.applyData(t,e)}function uk(a,t){const e={type:"element",tagName:"br",properties:{},children:[]};return a.patch(t,e),[a.applyData(t,e),{type:"text",value:`
`}]}function ck(a,t){const e=t.value?t.value+`
`:"",n={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(n.className=["language-"+r[0]]);let o={type:"element",tagName:"code",properties:n,children:[{type:"text",value:e}]};return t.meta&&(o.data={meta:t.meta}),a.patch(t,o),o=a.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},a.patch(t,o),o}function hk(a,t){const e={type:"element",tagName:"del",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function dk(a,t){const e={type:"element",tagName:"em",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function fk(a,t){const e=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),r=pa(n.toLowerCase()),o=a.footnoteOrder.indexOf(n);let l,c=a.footnoteCounts.get(n);c===void 0?(c=0,a.footnoteOrder.push(n),l=a.footnoteOrder.length):l=o+1,c+=1,a.footnoteCounts.set(n,c);const d={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+r,id:e+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};a.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return a.patch(t,f),a.applyData(t,f)}function pk(a,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function gk(a,t){if(a.options.allowDangerousHtml){const e={type:"raw",value:t.value};return a.patch(t,e),a.applyData(t,e)}}function BA(a,t){const e=t.referenceType;let n="]";if(e==="collapsed"?n+="[]":e==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const r=a.all(t),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=n:r.push({type:"text",value:n}),r}function mk(a,t){const e=String(t.identifier).toUpperCase(),n=a.definitionById.get(e);if(!n)return BA(a,t);const r={src:pa(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"img",properties:r,children:[]};return a.patch(t,o),a.applyData(t,o)}function yk(a,t){const e={src:pa(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const n={type:"element",tagName:"img",properties:e,children:[]};return a.patch(t,n),a.applyData(t,n)}function bk(a,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};a.patch(t,e);const n={type:"element",tagName:"code",properties:{},children:[e]};return a.patch(t,n),a.applyData(t,n)}function vk(a,t){const e=String(t.identifier).toUpperCase(),n=a.definitionById.get(e);if(!n)return BA(a,t);const r={href:pa(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"a",properties:r,children:a.all(t)};return a.patch(t,o),a.applyData(t,o)}function Sk(a,t){const e={href:pa(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const n={type:"element",tagName:"a",properties:e,children:a.all(t)};return a.patch(t,n),a.applyData(t,n)}function Ak(a,t,e){const n=a.all(t),r=e?wk(e):IA(t),o={},l=[];if(typeof t.checked=="boolean"){const p=n[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},n.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<n.length;){const p=n[c];(r||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!r?l.push(...p.children):l.push(p)}const d=n[n.length-1];d&&(r||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return a.patch(t,f),a.applyData(t,f)}function wk(a){let t=!1;if(a.type==="list"){t=a.spread||!1;const e=a.children;let n=-1;for(;!t&&++n<e.length;)t=IA(e[n])}return t}function IA(a){const t=a.spread;return t??a.children.length>1}function Ek(a,t){const e={},n=a.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++r<n.length;){const l=n[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:a.wrap(n,!0)};return a.patch(t,o),a.applyData(t,o)}function xk(a,t){const e={type:"element",tagName:"p",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function Ck(a,t){const e={type:"root",children:a.wrap(a.all(t))};return a.patch(t,e),a.applyData(t,e)}function _k(a,t){const e={type:"element",tagName:"strong",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function Tk(a,t){const e=a.all(t),n=e.shift(),r=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:a.wrap([n],!0)};a.patch(t.children[0],l),r.push(l)}if(e.length>0){const l={type:"element",tagName:"tbody",properties:{},children:a.wrap(e,!0)},c=bp(t.children[1]),d=yA(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),r.push(l)}const o={type:"element",tagName:"table",properties:{},children:a.wrap(r,!0)};return a.patch(t,o),a.applyData(t,o)}function Rk(a,t,e){const n=e?e.children:void 0,o=(n?n.indexOf(t):1)===0?"th":"td",l=e&&e.type==="table"?e.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const g=t.children[d],b={},v=l?l[d]:void 0;v&&(b.align=v);let w={type:"element",tagName:o,properties:b,children:[]};g&&(w.children=a.all(g),a.patch(g,w),w=a.applyData(g,w)),f.push(w)}const p={type:"element",tagName:"tr",properties:{},children:a.wrap(f,!0)};return a.patch(t,p),a.applyData(t,p)}function Mk(a,t){const e={type:"element",tagName:"td",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}const xv=9,Cv=32;function kk(a){const t=String(a),e=/\r?\n|\r/g;let n=e.exec(t),r=0;const o=[];for(;n;)o.push(_v(t.slice(r,n.index),r>0,!0),n[0]),r=n.index+n[0].length,n=e.exec(t);return o.push(_v(t.slice(r),r>0,!1)),o.join("")}function _v(a,t,e){let n=0,r=a.length;if(t){let o=a.codePointAt(n);for(;o===xv||o===Cv;)n++,o=a.codePointAt(n)}if(e){let o=a.codePointAt(r-1);for(;o===xv||o===Cv;)r--,o=a.codePointAt(r-1)}return r>n?a.slice(n,r):""}function Dk(a,t){const e={type:"text",value:kk(String(t.value))};return a.patch(t,e),a.applyData(t,e)}function Lk(a,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return a.patch(t,e),a.applyData(t,e)}const Nk={blockquote:lk,break:uk,code:ck,delete:hk,emphasis:dk,footnoteReference:fk,heading:pk,html:gk,imageReference:mk,image:yk,inlineCode:bk,linkReference:vk,link:Sk,listItem:Ak,list:Ek,paragraph:xk,root:Ck,strong:_k,table:Tk,tableCell:Mk,tableRow:Rk,text:Dk,thematicBreak:Lk,toml:xu,yaml:xu,definition:xu,footnoteDefinition:xu};function xu(){}const zA=-1,tc=0,Ro=1,Iu=2,Cp=3,_p=4,Tp=5,Rp=6,FA=7,UA=8,Tv=typeof self=="object"?self:globalThis,Ok=(a,t)=>{const e=(r,o)=>(a.set(o,r),r),n=r=>{if(a.has(r))return a.get(r);const[o,l]=t[r];switch(o){case tc:case zA:return e(l,r);case Ro:{const c=e([],r);for(const d of l)c.push(n(d));return c}case Iu:{const c=e({},r);for(const[d,f]of l)c[n(d)]=n(f);return c}case Cp:return e(new Date(l),r);case _p:{const{source:c,flags:d}=l;return e(new RegExp(c,d),r)}case Tp:{const c=e(new Map,r);for(const[d,f]of l)c.set(n(d),n(f));return c}case Rp:{const c=e(new Set,r);for(const d of l)c.add(n(d));return c}case FA:{const{name:c,message:d}=l;return e(new Tv[c](d),r)}case UA:return e(BigInt(l),r);case"BigInt":return e(Object(BigInt(l)),r);case"ArrayBuffer":return e(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return e(new DataView(c),l)}}return e(new Tv[o](l),r)};return n},Rv=a=>Ok(new Map,a)(0),Gr="",{toString:Pk}={},{keys:Bk}=Object,So=a=>{const t=typeof a;if(t!=="object"||!a)return[tc,t];const e=Pk.call(a).slice(8,-1);switch(e){case"Array":return[Ro,Gr];case"Object":return[Iu,Gr];case"Date":return[Cp,Gr];case"RegExp":return[_p,Gr];case"Map":return[Tp,Gr];case"Set":return[Rp,Gr];case"DataView":return[Ro,e]}return e.includes("Array")?[Ro,e]:e.includes("Error")?[FA,e]:[Iu,e]},Cu=([a,t])=>a===tc&&(t==="function"||t==="symbol"),Ik=(a,t,e,n)=>{const r=(l,c)=>{const d=n.push(l)-1;return e.set(c,d),d},o=l=>{if(e.has(l))return e.get(l);let[c,d]=So(l);switch(c){case tc:{let p=l;switch(d){case"bigint":c=UA,p=l.toString();break;case"function":case"symbol":if(a)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return r([zA],l)}return r([c,p],l)}case Ro:{if(d){let b=l;return d==="DataView"?b=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(b=new Uint8Array(l)),r([d,[...b]],l)}const p=[],g=r([c,p],l);for(const b of l)p.push(o(b));return g}case Iu:{if(d)switch(d){case"BigInt":return r([d,l.toString()],l);case"Boolean":case"Number":case"String":return r([d,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],g=r([c,p],l);for(const b of Bk(l))(a||!Cu(So(l[b])))&&p.push([o(b),o(l[b])]);return g}case Cp:return r([c,l.toISOString()],l);case _p:{const{source:p,flags:g}=l;return r([c,{source:p,flags:g}],l)}case Tp:{const p=[],g=r([c,p],l);for(const[b,v]of l)(a||!(Cu(So(b))||Cu(So(v))))&&p.push([o(b),o(v)]);return g}case Rp:{const p=[],g=r([c,p],l);for(const b of l)(a||!Cu(So(b)))&&p.push(o(b));return g}}const{message:f}=l;return r([c,{name:d,message:f}],l)};return o},Mv=(a,{json:t,lossy:e}={})=>{const n=[];return Ik(!(t||e),!!t,new Map,n)(a),n},zu=typeof structuredClone=="function"?(a,t)=>t&&("json"in t||"lossy"in t)?Rv(Mv(a,t)):structuredClone(a):(a,t)=>Rv(Mv(a,t));function zk(a,t){const e=[{type:"text",value:""}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function Fk(a,t){return"Back to reference "+(a+1)+(t>1?"-"+t:"")}function Uk(a){const t=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",e=a.options.footnoteBackContent||zk,n=a.options.footnoteBackLabel||Fk,r=a.options.footnoteLabel||"Footnotes",o=a.options.footnoteLabelTagName||"h2",l=a.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<a.footnoteOrder.length;){const f=a.footnoteById.get(a.footnoteOrder[d]);if(!f)continue;const p=a.all(f),g=String(f.identifier).toUpperCase(),b=pa(g.toLowerCase());let v=0;const w=[],S=a.footnoteCounts.get(g);for(;S!==void 0&&++v<=S;){w.length>0&&w.push({type:"text",value:" "});let T=typeof e=="string"?e:e(d,v);typeof T=="string"&&(T={type:"text",value:T}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(d,v),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const x=p[p.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const T=x.children[x.children.length-1];T&&T.type==="text"?T.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...w)}else p.push(...w);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:a.wrap(p,!0)};a.patch(f,E),c.push(E)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...zu(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:a.wrap(c,!0)},{type:"text",value:`
`}]}}const jA=(function(a){if(a==null)return Vk;if(typeof a=="function")return ec(a);if(typeof a=="object")return Array.isArray(a)?jk(a):Hk(a);if(typeof a=="string")return qk(a);throw new Error("Expected function, string, or object as test")});function jk(a){const t=[];let e=-1;for(;++e<a.length;)t[e]=jA(a[e]);return ec(n);function n(...r){let o=-1;for(;++o<t.length;)if(t[o].apply(this,r))return!0;return!1}}function Hk(a){const t=a;return ec(e);function e(n){const r=n;let o;for(o in a)if(r[o]!==t[o])return!1;return!0}}function qk(a){return ec(t);function t(e){return e&&e.type===a}}function ec(a){return t;function t(e,n,r){return!!(Gk(e)&&a.call(this,e,typeof n=="number"?n:void 0,r||void 0))}}function Vk(){return!0}function Gk(a){return a!==null&&typeof a=="object"&&"type"in a}const HA=[],Yk=!0,kv=!1,Xk="skip";function Kk(a,t,e,n){let r;typeof t=="function"&&typeof e!="function"?(n=e,e=t):r=t;const o=jA(r),l=n?-1:1;c(a,void 0,[])();function c(d,f,p){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(d.type+(v?"<"+v+">":""))+")"})}return b;function b(){let v=HA,w,S,x;if((!t||o(d,f,p[p.length-1]||void 0))&&(v=$k(e(d,p)),v[0]===kv))return v;if("children"in d&&d.children){const E=d;if(E.children&&v[0]!==Xk)for(S=(n?E.children.length:-1)+l,x=p.concat(E);S>-1&&S<E.children.length;){const T=E.children[S];if(w=c(T,S,x)(),w[0]===kv)return w;S=typeof w[1]=="number"?w[1]:S+l}}return v}}}function $k(a){return Array.isArray(a)?a:typeof a=="number"?[Yk,a]:a==null?HA:[a]}function qA(a,t,e,n){let r,o,l;typeof t=="function"&&typeof e!="function"?(o=void 0,l=t,r=e):(o=t,l=e,r=n),Kk(a,o,c,r);function c(d,f){const p=f[f.length-1],g=p?p.children.indexOf(d):void 0;return l(d,g,p)}}const If={}.hasOwnProperty,Wk={};function Qk(a,t){const e=t||Wk,n=new Map,r=new Map,o=new Map,l={...Nk,...e.handlers},c={all:f,applyData:Jk,definitionById:n,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:e,patch:Zk,wrap:eD};return qA(a,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?n:r,b=String(p.identifier).toUpperCase();g.has(b)||g.set(b,p)}}),c;function d(p,g){const b=p.type,v=c.handlers[b];if(If.call(c.handlers,b)&&v)return v(c,p,g);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in p){const{children:S,...x}=p,E=zu(x);return E.children=c.all(p),E}return zu(p)}return(c.options.unknownHandler||tD)(c,p,g)}function f(p){const g=[];if("children"in p){const b=p.children;let v=-1;for(;++v<b.length;){const w=c.one(b[v],p);if(w){if(v&&b[v-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Dv(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=Dv(S.value))}Array.isArray(w)?g.push(...w):g.push(w)}}}return g}}function Zk(a,t){a.position&&(t.position=PR(a))}function Jk(a,t){let e=t;if(a&&a.data){const n=a.data.hName,r=a.data.hChildren,o=a.data.hProperties;if(typeof n=="string")if(e.type==="element")e.tagName=n;else{const l="children"in e?e.children:[e];e={type:"element",tagName:n,properties:{},children:l}}e.type==="element"&&o&&Object.assign(e.properties,zu(o)),"children"in e&&e.children&&r!==null&&r!==void 0&&(e.children=r)}return e}function tD(a,t){const e=t.data||{},n="value"in t&&!(If.call(e,"hProperties")||If.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:a.all(t)};return a.patch(t,n),a.applyData(t,n)}function eD(a,t){const e=[];let n=-1;for(t&&e.push({type:"text",value:`
`});++n<a.length;)n&&e.push({type:"text",value:`
`}),e.push(a[n]);return t&&a.length>0&&e.push({type:"text",value:`
`}),e}function Dv(a){let t=0,e=a.charCodeAt(t);for(;e===9||e===32;)t++,e=a.charCodeAt(t);return a.slice(t)}function Lv(a,t){const e=Qk(a,t),n=e.one(a,void 0),r=Uk(e),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function nD(a,t){return a&&"run"in a?async function(e,n){const r=Lv(e,{file:n,...t});await a.run(r,n)}:function(e,n){return Lv(e,{file:n,...a||t})}}function Nv(a){if(a)throw a}var lf,Ov;function iD(){if(Ov)return lf;Ov=1;var a=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=a.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&a.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!g)return!1;var b;for(b in f);return typeof b>"u"||a.call(f,b)},l=function(f,p){e&&p.name==="__proto__"?e(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},c=function(f,p){if(p==="__proto__")if(a.call(f,p)){if(n)return n(f,p).value}else return;return f[p]};return lf=function d(){var f,p,g,b,v,w,S=arguments[0],x=1,E=arguments.length,T=!1;for(typeof S=="boolean"&&(T=S,S=arguments[1]||{},x=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});x<E;++x)if(f=arguments[x],f!=null)for(p in f)g=c(S,p),b=c(f,p),S!==b&&(T&&b&&(o(b)||(v=r(b)))?(v?(v=!1,w=g&&r(g)?g:[]):w=g&&o(g)?g:{},l(S,{name:p,newValue:d(T,w,b)})):typeof b<"u"&&l(S,{name:p,newValue:b}));return S},lf}var sD=iD();const uf=la(sD);function zf(a){if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)}function rD(){const a=[],t={run:e,use:n};return t;function e(...r){let o=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...r);function c(d,...f){const p=a[++o];let g=-1;if(d){l(d);return}for(;++g<r.length;)(f[g]===null||f[g]===void 0)&&(f[g]=r[g]);r=f,p?aD(p,c)(...f):l(null,...f)}}function n(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return a.push(r),t}}function aD(a,t){let e;return n;function n(...l){const c=a.length>l.length;let d;c&&l.push(r);try{d=a.apply(this,l)}catch(f){const p=f;if(c&&e)throw p;return r(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(o,r):d instanceof Error?r(d):o(d))}function r(l,...c){e||(e=!0,t(l,...c))}function o(l){r(null,l)}}const di={basename:oD,dirname:lD,extname:uD,join:cD,sep:"/"};function oD(a,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$o(a);let e=0,n=-1,r=a.length,o;if(t===void 0||t.length===0||t.length>a.length){for(;r--;)if(a.codePointAt(r)===47){if(o){e=r+1;break}}else n<0&&(o=!0,n=r+1);return n<0?"":a.slice(e,n)}if(t===a)return"";let l=-1,c=t.length-1;for(;r--;)if(a.codePointAt(r)===47){if(o){e=r+1;break}}else l<0&&(o=!0,l=r+1),c>-1&&(a.codePointAt(r)===t.codePointAt(c--)?c<0&&(n=r):(c=-1,n=l));return e===n?n=l:n<0&&(n=a.length),a.slice(e,n)}function lD(a){if($o(a),a.length===0)return".";let t=-1,e=a.length,n;for(;--e;)if(a.codePointAt(e)===47){if(n){t=e;break}}else n||(n=!0);return t<0?a.codePointAt(0)===47?"/":".":t===1&&a.codePointAt(0)===47?"//":a.slice(0,t)}function uD(a){$o(a);let t=a.length,e=-1,n=0,r=-1,o=0,l;for(;t--;){const c=a.codePointAt(t);if(c===47){if(l){n=t+1;break}continue}e<0&&(l=!0,e=t+1),c===46?r<0?r=t:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||e<0||o===0||o===1&&r===e-1&&r===n+1?"":a.slice(r,e)}function cD(...a){let t=-1,e;for(;++t<a.length;)$o(a[t]),a[t]&&(e=e===void 0?a[t]:e+"/"+a[t]);return e===void 0?".":hD(e)}function hD(a){$o(a);const t=a.codePointAt(0)===47;let e=dD(a,!t);return e.length===0&&!t&&(e="."),e.length>0&&a.codePointAt(a.length-1)===47&&(e+="/"),t?"/"+e:e}function dD(a,t){let e="",n=0,r=-1,o=0,l=-1,c,d;for(;++l<=a.length;){if(l<a.length)c=a.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(r===l-1||o===1))if(r!==l-1&&o===2){if(e.length<2||n!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(d=e.lastIndexOf("/"),d!==e.length-1){d<0?(e="",n=0):(e=e.slice(0,d),n=e.length-1-e.lastIndexOf("/")),r=l,o=0;continue}}else if(e.length>0){e="",n=0,r=l,o=0;continue}}t&&(e=e.length>0?e+"/..":"..",n=2)}else e.length>0?e+="/"+a.slice(r+1,l):e=a.slice(r+1,l),n=l-r-1;r=l,o=0}else c===46&&o>-1?o++:o=-1}return e}function $o(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}const fD={cwd:pD};function pD(){return"/"}function Ff(a){return!!(a!==null&&typeof a=="object"&&"href"in a&&a.href&&"protocol"in a&&a.protocol&&a.auth===void 0)}function gD(a){if(typeof a=="string")a=new URL(a);else if(!Ff(a)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+a+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(a.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return mD(a)}function mD(a){if(a.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=a.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const n=t.codePointAt(e+2);if(n===70||n===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const cf=["history","path","basename","stem","extname","dirname"];class VA{constructor(t){let e;t?Ff(t)?e={path:t}:typeof t=="string"||yD(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":fD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<cf.length;){const o=cf[n];o in e&&e[o]!==void 0&&e[o]!==null&&(this[o]=o==="history"?[...e[o]]:e[o])}let r;for(r in e)cf.includes(r)||(this[r]=e[r])}get basename(){return typeof this.path=="string"?di.basename(this.path):void 0}set basename(t){df(t,"basename"),hf(t,"basename"),this.path=di.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?di.dirname(this.path):void 0}set dirname(t){Pv(this.basename,"dirname"),this.path=di.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?di.extname(this.path):void 0}set extname(t){if(hf(t,"extname"),Pv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=di.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ff(t)&&(t=gD(t)),df(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?di.basename(this.path,this.extname):void 0}set stem(t){df(t,"stem"),hf(t,"stem"),this.path=di.join(this.dirname||"",t+(this.extname||""))}fail(t,e,n){const r=this.message(t,e,n);throw r.fatal=!0,r}info(t,e,n){const r=this.message(t,e,n);return r.fatal=void 0,r}message(t,e,n){const r=new Ze(t,e,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function hf(a,t){if(a&&a.includes(di.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+di.sep+"`")}function df(a,t){if(!a)throw new Error("`"+t+"` cannot be empty")}function Pv(a,t){if(!a)throw new Error("Setting `"+t+"` requires `path` to be set too")}function yD(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const bD=(function(a){const n=this.constructor.prototype,r=n[a],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,n),o}),vD={}.hasOwnProperty;class Mp extends bD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=rD()}copy(){const t=new Mp;let e=-1;for(;++e<this.attachers.length;){const n=this.attachers[e];t.use(...n)}return t.data(uf(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(gf("data",this.frozen),this.namespace[t]=e,this):vD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(gf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const r=e.call(t,...n);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=_u(t),n=this.parser||this.Parser;return ff("parse",n),n(String(e),e)}process(t,e){const n=this;return this.freeze(),ff("process",this.parser||this.Parser),pf("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(o,l){const c=_u(t),d=n.parse(c);n.run(d,c,function(p,g,b){if(p||!g||!b)return f(p);const v=g,w=n.stringify(v,b);wD(w)?b.value=w:b.result=w,f(p,b)});function f(p,g){p||!g?l(p):o?o(g):e(void 0,g)}}}processSync(t){let e=!1,n;return this.freeze(),ff("processSync",this.parser||this.Parser),pf("processSync",this.compiler||this.Compiler),this.process(t,r),Iv("processSync","process",e),n;function r(o,l){e=!0,Nv(o),n=l}}run(t,e,n){Bv(t),this.freeze();const r=this.transformers;return!n&&typeof e=="function"&&(n=e,e=void 0),n?o(void 0,n):new Promise(o);function o(l,c){const d=_u(e);r.run(t,d,f);function f(p,g,b){const v=g||t;p?c(p):l?l(v):n(void 0,v,b)}}}runSync(t,e){let n=!1,r;return this.run(t,e,o),Iv("runSync","run",n),r;function o(l,c){Nv(l),r=c,n=!0}}stringify(t,e){this.freeze();const n=_u(e),r=this.compiler||this.Compiler;return pf("stringify",r),Bv(t),r(t,n)}use(t,...e){const n=this.attachers,r=this.namespace;if(gf("use",this.frozen),t!=null)if(typeof t=="function")d(t,e);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...g]=f;d(p,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(r.settings=uf(!0,r.settings,f.settings))}function c(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const g=f[p];o(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let g=-1,b=-1;for(;++g<n.length;)if(n[g][0]===f){b=g;break}if(b===-1)n.push([f,...p]);else if(p.length>0){let[v,...w]=p;const S=n[b][1];zf(S)&&zf(v)&&(v=uf(!0,S,v)),n[b]=[f,v,...w]}}}}const SD=new Mp().freeze();function ff(a,t){if(typeof t!="function")throw new TypeError("Cannot `"+a+"` without `parser`")}function pf(a,t){if(typeof t!="function")throw new TypeError("Cannot `"+a+"` without `compiler`")}function gf(a,t){if(t)throw new Error("Cannot call `"+a+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bv(a){if(!zf(a)||typeof a.type!="string")throw new TypeError("Expected node, got `"+a+"`")}function Iv(a,t,e){if(!e)throw new Error("`"+a+"` finished async. Use `"+t+"` instead")}function _u(a){return AD(a)?a:new VA(a)}function AD(a){return!!(a&&typeof a=="object"&&"message"in a&&"messages"in a)}function wD(a){return typeof a=="string"||ED(a)}function ED(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const xD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zv=[],Fv={allowDangerousHtml:!0},CD=/^(https?|ircs?|mailto|xmpp)$/i,_D=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TD(a){const t=RD(a),e=MD(a);return kD(t.runSync(t.parse(e),e),a)}function RD(a){const t=a.rehypePlugins||zv,e=a.remarkPlugins||zv,n=a.remarkRehypeOptions?{...a.remarkRehypeOptions,...Fv}:Fv;return SD().use(ok).use(e).use(nD,n).use(t)}function MD(a){const t=a.children||"",e=new VA;return typeof t=="string"&&(e.value=t),e}function kD(a,t){const e=t.allowedElements,n=t.allowElement,r=t.components,o=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||DD;for(const p of _D)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+xD+p.id,void 0);return qA(a,f),UR(a,{Fragment:O.Fragment,components:r,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function f(p,g,b){if(p.type==="raw"&&b&&typeof g=="number")return l?b.children.splice(g,1):b.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let v;for(v in rf)if(Object.hasOwn(rf,v)&&Object.hasOwn(p.properties,v)){const w=p.properties[v],S=rf[v];(S===null||S.includes(p.tagName))&&(p.properties[v]=d(String(w||""),v,p))}}if(p.type==="element"){let v=e?!e.includes(p.tagName):o?o.includes(p.tagName):!1;if(!v&&n&&typeof g=="number"&&(v=!n(p,g,b)),v&&b&&typeof g=="number")return c&&p.children?b.children.splice(g,1,...p.children):b.children.splice(g,1),g}}}function DD(a){const t=a.indexOf(":"),e=a.indexOf("?"),n=a.indexOf("#"),r=a.indexOf("/");return t===-1||r!==-1&&t>r||e!==-1&&t>e||n!==-1&&t>n||CD.test(a.slice(0,t))?a:""}const LD=`This portfolio is designed to be **recruiter-friendly** and **engineering-forward**:\r
\r
- Fast loading static site (GitHub Pages)\r
- Resume PDFs served directly (reliable links)\r
- Case studies that show *how I think*\r
- Notebooks hosted as HTML exports (clean reading)\r
- A future AI assistant with a proper architecture boundary\r
\r
Next up: add 23 project case studies with screenshots and outcomes.`,Uv=[{slug:"2026-02-25-first-post",title:"What Im building in this portfolio (and why)",date:"Feb 25, 2026",body:LD}];function ND(){const a=Uv[0];return O.jsxs("div",{className:"stack",children:[O.jsx("h2",{children:"What Im Learning"}),O.jsx("div",{className:"muted",children:"Short notes and takeaways. Written for clarity, not hype."}),O.jsxs("div",{className:"grid",children:[O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"Posts"}),O.jsx("ul",{className:"list",children:Uv.map(t=>O.jsxs("li",{children:[O.jsx("a",{href:`#/learning?post=${t.slug}`,children:t.title}),O.jsx("div",{className:"muted small",children:t.date})]},t.slug))})]}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:a.title}),O.jsx("div",{className:"card-subtitle",children:a.date}),O.jsx(TD,{children:a.body})]})]}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"How to add a new post"}),O.jsxs("ol",{className:"list",children:[O.jsxs("li",{children:["Create a new file in ",O.jsx("code",{children:"src/content/learning/"})]}),O.jsxs("li",{children:["Add it to ",O.jsx("code",{children:"src/services/learningPosts.js"})]}),O.jsx("li",{children:"Commit + push"})]})]})]})}const OD=[{title:"Notebook Example (HTML export)",href:"/notebooks/example-notebook.html",note:"Place exported HTML into public/notebooks/"},{title:"Notebook Example (nbviewer link)",href:"https://nbviewer.org/",note:"Later, link to your GitHub-hosted ipynb via nbviewer."}];function PD(){return O.jsxs("div",{className:"stack",children:[O.jsx("h2",{children:"Notebooks"}),O.jsx("div",{className:"muted",children:"This section hosts or links to Jupyter notebooks in a clean, readable way."}),O.jsx("div",{className:"grid",children:OD.map(a=>O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:a.title}),O.jsx("div",{className:"card-subtitle",children:a.note}),O.jsx("a",{className:"btn",href:a.href,target:"_blank",rel:"noreferrer",children:"Open"})]},a.title))}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"Export tip"}),O.jsxs("p",{className:"muted small",children:["Export notebook to HTML with: ",O.jsx("code",{children:"jupyter nbconvert --to html your_notebook.ipynb"}),O.jsx("br",{}),"Then copy the generated HTML into ",O.jsx("code",{children:"public/notebooks/"}),"."]})]})]})}async function BD(a){return`Assistant is coming soon. You asked: "${a}"`}function ID(){return O.jsxs("div",{className:"stack",children:[O.jsx("h2",{children:"AI Portfolio Assistant"}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"Coming soon"}),O.jsx("p",{className:"muted",children:"This will become an interactive assistant that can answer questions about my work, projects, and learning notes."}),O.jsx("p",{className:"muted small",children:"For now its a placeholder with a clean API boundary, so adding a real backend later wont require restructuring the site."}),O.jsx("button",{className:"btn",onClick:async()=>{const a=await BD("What can you do?");alert(a)},children:"Demo placeholder"})]})]})}function zD(){return O.jsxs("div",{className:"stack",children:[O.jsx("h2",{children:"About Me"}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"Who I Am"}),O.jsx("p",{children:"I am an Artificial Intelligence programming student focused on building production-ready systems that combine software engineering discipline with applied machine learning. My work spans Python algorithm design, React-based web systems, and structured AI development."})]}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"Technical Focus"}),O.jsxs("ul",{className:"list",children:[O.jsx("li",{children:"Applied Machine Learning & Model Integration"}),O.jsx("li",{children:"Algorithm Design & Mathematical Programming"}),O.jsx("li",{children:"Full-Stack Development (React + Backend Systems)"}),O.jsx("li",{children:"Data Processing & Analytics Pipelines"}),O.jsx("li",{children:"Structured, Maintainable Software Architecture"})]})]}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"Current Direction"}),O.jsx("p",{children:"I am currently focused on building an AI engineering portfolio that demonstrates applied intelligence systems, production deployment, and strong foundational mathematics. My goal is to move into advanced AI engineering roles where systems thinking and technical depth matter."})]}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-title",children:"Philosophy"}),O.jsx("p",{children:"Clean architecture. Measurable outcomes. Practical intelligence. I believe AI systems should be understandable, testable, and engineered with the same rigor as any critical software system."})]})]})}const FD=[{title:"Languages",items:["Python","C","C++","SQL","JavaScript","PHP","Bash"]},{title:"Frontend",items:["React","Router","Tailwind","HTML","CSS","Responsive"]},{title:"Backend",items:["Node","Express","REST APIs","JWT","Auth","MVC"]},{title:"Databases",items:["MySQL","MongoDB","SQLite","Joins","Indexing","Normalization"]},{title:"AI / ML",items:["NumPy","Pandas","Scikit-learn","Model Eval","Neural Nets"]},{title:"Data Work",items:["ETL","Data Clean","JSON","CSV","API Parse"]},{title:"Cloud",items:["AWS","Lambda","S3","Firehose","Cloud Design"]},{title:"IoT",items:["AWS IoT","MQTT","Node-RED","Provisioning","X.509"]},{title:"Embedded",items:["STM32","ARM Cortex-M","Bare Metal","FreeRTOS","Interrupts"]},{title:"Interfaces",items:["GPIO","I2C","UART","SPI","ADC","PWM"]},{title:"Build",items:["Makefiles","GCC","Linker","Toolchain","ELF"]},{title:"Linux",items:["Embedded Linux","Yocto","Buildroot","Shell","Permissions"]},{title:"Networking",items:["TCP/IP","OSI","Subnetting","VLANs","IPv6","Routing"]},{title:"Security",items:["ACLs","SSH","Certificates","Hashing","Secure Auth"]},{title:"Dev Tooling",items:["Git","GitHub","npm","VS Code","Debugging","CLI"]},{title:"Architecture",items:["Client-Server","Layered","Event Driven","REST Design","Systems"]}];function UD(){return H.useEffect(()=>(document.body.classList.add("no-scroll"),()=>document.body.classList.remove("no-scroll")),[]),O.jsx("main",{className:"quick-glance-page",children:O.jsxs("div",{className:"quick-glance",children:[O.jsxs("header",{className:"quick-glance-header",children:[O.jsx("h1",{className:"quick-glance-title",children:"Quick Glance"}),O.jsx("p",{className:"quick-glance-description",children:"This section provides a high-level overview of my technical capabilities for quick review. Detailed implementations and applied architecture decisions can be explored in the Projects section. Portfolio completion target: March 20th, 2026."})]}),O.jsx("hr",{className:"quick-glance-divider"}),O.jsx("div",{className:"quick-glance-grid",children:FD.map(a=>O.jsxs("section",{className:"quick-glance-card",children:[O.jsx("h2",{className:"quick-glance-heading",children:a.title}),O.jsx("ul",{className:"quick-glance-list",children:a.items.map(t=>O.jsx("li",{className:"quick-glance-item",children:t},t))})]},a.title))})]})})}function jD(){return O.jsxs("div",{className:"app",children:[O.jsx(Xx,{}),O.jsx("main",{className:"container",children:O.jsxs(px,{children:[O.jsx(ci,{path:"/",element:O.jsx(vC,{})}),O.jsx(ci,{path:"/about",element:O.jsx(zD,{})}),O.jsx(ci,{path:"/resume",element:O.jsx(rR,{})}),O.jsx(ci,{path:"/quick-glance",element:O.jsx(UD,{})}),O.jsx(ci,{path:"/projects",element:O.jsx(hR,{})}),O.jsx(ci,{path:"/learning",element:O.jsx(ND,{})}),O.jsx(ci,{path:"/notebooks",element:O.jsx(PD,{})}),O.jsx(ci,{path:"/assistant",element:O.jsx(ID,{})}),O.jsx(ci,{path:"*",element:O.jsx(dx,{to:"/",replace:!0})})]})}),O.jsx(Kx,{})]})}mE.createRoot(document.getElementById("root")).render(O.jsx(lE.StrictMode,{children:O.jsx(zx,{children:O.jsx(jD,{})})}));
